var t,e=this&&this.__extends||(t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),n=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},r=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};!function(){var t,i,o=Object.create,a=Object.defineProperty,s=Object.defineProperties,u=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,f=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,d=function(t,e,n){return e in t?a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},y=function(t,e){for(var n in e||(e={}))p.call(e,n)&&d(t,n,e[n]);if(l)for(var r=0,i=l(e);r<i.length;r++){n=i[r];g.call(e,n)&&d(t,n,e[n])}return t},v=function(t,e){return s(t,c(e))},m=function(t,e){var n={};for(var r in t)p.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&l)for(var i=0,o=l(t);i<o.length;i++){r=o[i];e.indexOf(r)<0&&g.call(t,r)&&(n[r]=t[r])}return n},x=function(t,e,n){return new Promise((function(r,i){var o=function(t){try{s(n.next(t))}catch(t){i(t)}},a=function(t){try{s(n.throw(t))}catch(t){i(t)}},s=function(t){return t.done?r(t.value):Promise.resolve(t.value).then(o,a)};s((n=n.apply(t,e)).next())}))},b=(t={"node_modules/.pnpm/flubber@0.4.2/node_modules/flubber/build/flubber.min.js":function(t,e){var n,r;n=t,r=function(t){"use strict";function e(t){return 10===t||13===t||8232===t||8233===t||32===t||9===t||11===t||12===t||160===t||t>=5760&&Et.indexOf(t)>=0}function n(t){return t>=48&&t<=57}function r(t){return t>=48&&t<=57||43===t||45===t||46===t}function i(t){this.index=0,this.path=t,this.max=t.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function o(t){for(;t.index<t.max&&e(t.path.charCodeAt(t.index));)t.index++}function a(t){var e,r=t.index,i=r,o=t.max,a=!1,s=!1,u=!1,c=!1;if(i>=o)t.err="SvgPath: missed param (at pos "+i+")";else if(43!==(e=t.path.charCodeAt(i))&&45!==e||(e=++i<o?t.path.charCodeAt(i):0),n(e)||46===e){if(46!==e){if(a=48===e,e=++i<o?t.path.charCodeAt(i):0,a&&i<o&&e&&n(e))return void(t.err="SvgPath: numbers started with `0` such as `09` are ilegal (at pos "+r+")");for(;i<o&&n(t.path.charCodeAt(i));)i++,s=!0;e=i<o?t.path.charCodeAt(i):0}if(46===e){for(c=!0,i++;n(t.path.charCodeAt(i));)i++,u=!0;e=i<o?t.path.charCodeAt(i):0}if(101===e||69===e){if(c&&!s&&!u)return void(t.err="SvgPath: invalid float exponent (at pos "+i+")");if(43!==(e=++i<o?t.path.charCodeAt(i):0)&&45!==e||i++,!(i<o&&n(t.path.charCodeAt(i))))return void(t.err="SvgPath: invalid float exponent (at pos "+i+")");for(;i<o&&n(t.path.charCodeAt(i));)i++}t.index=i,t.param=parseFloat(t.path.slice(r,i))+0}else t.err="SvgPath: param should start with 0..9 or `.` (at pos "+i+")"}function s(t){var e,n;n=(e=t.path[t.segmentStart]).toLowerCase();var r=t.data;if("m"===n&&r.length>2&&(t.result.push([e,r[0],r[1]]),r=r.slice(2),n="l",e="m"===e?"l":"L"),"r"===n)t.result.push([e].concat(r));else for(;r.length>=At[n]&&(t.result.push([e].concat(r.splice(0,At[n]))),At[n]););}function u(t){var e,n,i,u=t.max;if(t.segmentStart=t.index,function(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}(t.path.charCodeAt(t.index)))if(n=At[t.path[t.index].toLowerCase()],t.index++,o(t),t.data=[],n){for(e=!1;;){for(i=n;i>0;i--){if(a(t),t.err.length)return;t.data.push(t.param),o(t),e=!1,t.index<u&&44===t.path.charCodeAt(t.index)&&(t.index++,o(t),e=!0)}if(!e){if(t.index>=t.max)break;if(!r(t.path.charCodeAt(t.index)))break}}s(t)}else s(t);else t.err="SvgPath: bad command "+t.path[t.index]+" (at pos "+t.index+")"}function c(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}function h(){if(!(this instanceof h))return new h;this.queue=[],this.cache=null}function l(t,e,n,r){var i=t*r-e*n<0?-1:1,o=(t*n+e*r)/(Math.sqrt(t*t+e*e)*Math.sqrt(t*t+e*e));return o>1&&(o=1),o<-1&&(o=-1),i*Math.acos(o)}function f(t,e){var n=4/3*Math.tan(e/4),r=Math.cos(t),i=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[r,i,r-i*n,i+r*n,o+a*n,a-o*n,o,a]}function p(t,e,n){if(!(this instanceof p))return new p(t,e,n);this.rx=t,this.ry=e,this.ax=n}function g(t){if(!(this instanceof g))return new g(t);var e=Mt(t);this.segments=e.segments,this.err=e.err,this.__stack=[]}function d(t,e,n,r,i,o,a,s){this.a={x:t,y:e},this.b={x:n,y:r},this.c={x:i,y:o},this.d={x:a,y:s},null!=a&&null!=s?(this.getArcLength=k,this.getPoint=b,this.getDerivative=v):(this.getArcLength=w,this.getPoint=x,this.getDerivative=y),this.init()}function y(t,e,n){return{x:2*(1-n)*(t[1]-t[0])+2*n*(t[2]-t[1]),y:2*(1-n)*(e[1]-e[0])+2*n*(e[2]-e[1])}}function v(t,e,n){return x([3*(t[1]-t[0]),3*(t[2]-t[1]),3*(t[3]-t[2])],[3*(e[1]-e[0]),3*(e[2]-e[1]),3*(e[3]-e[2])],n)}function m(t,e,n,r,i){for(var o=1,a=t/e,s=(t-n(r,i,a))/e;o>.001;){var u=n(r,i,a+s),c=n(r,i,a-s),h=Math.abs(t-u)/e,l=Math.abs(t-c)/e;h<o?(o=h,a+=s):l<o?(o=l,a-=s):s/=2}return a}function x(t,e,n){return{x:(1-n)*(1-n)*t[0]+2*(1-n)*n*t[1]+n*n*t[2],y:(1-n)*(1-n)*e[0]+2*(1-n)*n*e[1]+n*n*e[2]}}function b(t,e,n){return{x:(1-n)*(1-n)*(1-n)*t[0]+3*(1-n)*(1-n)*n*t[1]+3*(1-n)*n*n*t[2]+n*n*n*t[3],y:(1-n)*(1-n)*(1-n)*e[0]+3*(1-n)*(1-n)*n*e[1]+3*(1-n)*n*n*e[2]+n*n*n*e[3]}}function w(t,e,n){void 0===n&&(n=1);var r=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],o=2*t[1]-2*t[0],a=2*e[1]-2*e[0],s=4*(r*r+i*i),u=4*(r*o+i*a),c=o*o+a*a;if(0===s)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));var h=u/(2*s),l=n+h,f=c/s-h*h;return Math.sqrt(s)/2*(l*Math.sqrt(l*l+f)-h*Math.sqrt(h*h+f)+f*Math.log(Math.abs((l+Math.sqrt(l*l+f))/(h+Math.sqrt(h*h+f)))))}function A(t,e){return Zt[t][e]}function E(t,e,n){var r,i,o,a=n.length-1;if(0===a)return 0;if(0===t){for(i=0,o=0;o<=a;o++)i+=A(a,o)*Math.pow(1-e,a-o)*Math.pow(e,o)*n[o];return i}for(r=new Array(a),o=0;o<a;o++)r[o]=a*(n[o+1]-n[o]);return E(t-1,e,r)}function M(t,e,n){var r=E(1,n,t),i=E(1,n,e),o=r*r+i*i;return Math.sqrt(o)}function k(t,e,n){var r,i,o,a;for(void 0===n&&(n=1),r=n/2,i=0,o=0;o<20;o++)a=r*It[20][o]+r,i+=Ht[20][o]*M(t,e,a);return r*i}function P(t,e,n,r){var i=t*n+e*r;return i>1&&(i=1),i<-1&&(i=-1),(t*r-e*n<0?-1:1)*Math.acos(i)}function L(t,e){var n=4/3*Math.tan(e/4),r=Math.cos(t),i=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[r,i,r-i*n,i+r*n,o+a*n,a-o*n,o,a]}function S(t,e,n,r,i,o,a,s,u){var c=0,h=[],l=[];Xt(t,e,n,r,i,o,a,s,u).forEach((function(t){var e=new jt(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),n=e.getTotalLength();c+=n,h.push(n),l.push(e)})),this.length=c,this.partialLengths=h,this.curves=l}function T(t,e,n,r){this.x0=t,this.x1=e,this.y0=n,this.y1=r}function O(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function _(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function C(t,e,n){var r=t.map((function(t,n){return function(t,e){return function(n){return t.map((function(t,r){return t+n*(e[r]-t)}))}}(t,e[n])}));return function(t){var e=r.map((function(e){return e(t)}));return n?D(e):e}}function q(t){return"number"==typeof t&&isFinite(t)}function N(t){return function(t){for(var e=0;e<t.length-2;e++){var n=t[e],r=t[e+1],i=t[e+2];if(n[0]*(r[1]-i[1])+r[0]*(i[1]-n[1])+i[0]*(n[1]-r[1]))return!0}return!1}(t)?bt(t):[(t[0][0]+t[t.length-1][0])/2,(t[0][1]+t[t.length-1][1])/2]}function R(t){return new qt(t).abs()}function z(t){return t.toString().split("M").map((function(t,e){return t=t.trim(),e&&t?"M"+t:t})).filter((function(t){return t}))}function D(t){return"M"+t.join("L")+"Z"}function j(t,e){var n=R(t);return function(t){var e=t.segments||[],n=[];if(!e.length||"M"!==e[0][0])return!1;for(var r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2];if("M"===o&&r||"Z"===o)break;if("M"===o||"L"===o)n.push([a,s]);else if("H"===o)n.push([a,n[n.length-1][1]]);else{if("V"!==o)return!1;n.push([n[n.length-1][0],a])}}return!!n.length&&{ring:n}}(n)||function(t,e){var n,r,i=z(t)[0],o=[],a=3;if(!i)throw new TypeError(Kt);r=function(t){if("undefined"!=typeof window&&window&&window.document)try{var e=window.document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttributeNS(null,"d",t),e}catch(t){}return Gt(t)}(i),n=r.getTotalLength(),e&&q(e)&&e>0&&(a=Math.max(a,Math.ceil(n/e)));for(var s=0;s<a;s++){var u=r.getPointAtLength(n*s/a);o.push([u.x,u.y])}return{ring:o,skipBisect:!0}}(n,e)}function I(t,e){for(var n=t.length+e,r=wt(t)/e,i=0,o=0,a=r/2;t.length<n;){var s=t[i],u=t[(i+1)%t.length],c=O(s,u);a<=o+c?(t.splice(i+1,0,c?_(s,u,(a-o)/c):s.slice(0)),a+=r):(o+=c,i++)}}function H(t,e){var n,r;if("string"==typeof t){var i=j(t,e);t=i.ring,r=i.skipBisect}else if(!Array.isArray(t))throw new TypeError(Kt);if(!function(t){return t.every((function(t){return Array.isArray(t)&&t.length>=2&&q(t[0])&&q(t[1])}))}(n=t.slice(0)))throw new TypeError(Kt);return n.length>1&&function(t,e){return O(t,e)<1e-9}(n[0],n[n.length-1])&&n.pop(),xt(n)>0&&n.reverse(),!r&&e&&q(e)&&e>0&&function(t,e){void 0===e&&(e=1/0);for(var n=0;n<t.length;n++)for(var r=t[n],i=n===t.length-1?t[0]:t[n+1];O(r,i)>e;)i=_(r,i,.5),t.splice(n+1,0,i)}(n,e),n}function Z(t,e,n){var r;return I(t,(r=t.length-e.length)<0?-1*r:0),I(e,r>0?r:0),Bt(t,e),C(t,e,n)}function F(t,e,n){n=n||2;var r,i,o,a,s,u,c,h=e&&e.length,l=h?e[0]*n:t.length,f=X(t,0,l,n,!0),p=[];if(!f)return p;if(h&&(f=function(t,e,n,r){var i,o,a,s,u,c=[];for(i=0,o=e.length;i<o;i++)a=e[i]*r,s=i<o-1?e[i+1]*r:t.length,(u=X(t,a,s,r,!1))===u.next&&(u.steiner=!0),c.push(J(u));for(c.sort(W),i=0;i<c.length;i++)Q(c[i],n),n=Y(n,n.next);return n}(t,e,f,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var g=n;g<l;g+=n)(s=t[g])<r&&(r=s),(u=t[g+1])<i&&(i=u),s>o&&(o=s),u>a&&(a=u);c=Math.max(o-r,a-i)}return V(f,p,n,r,i,c),p}function X(t,e,n,r,i){var o,a;if(i===ht(t,e,n,r)>0)for(o=e;o<n;o+=r)a=st(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=st(o,t[o],t[o+1],a);return a&&rt(a,a.next)&&(ut(a),a=a.next),a}function Y(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!rt(r,r.next)&&0!==nt(r.prev,r,r.next))r=r.next;else{if(ut(r),(r=e=r.prev)===r.next)return null;n=!0}}while(n||r!==e);return e}function V(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=$(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ);e++);for(u=c;s>0||u>0&&r;)0===s?(i=r,r=r.nextZ,u--):0!==u&&r?n.z<=r.z?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,s--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(t,r,i,o);for(var s,u,c=t;t.prev!==t.next;)if(s=t.prev,u=t.next,o?K(t,r,i,o):G(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),ut(t),t=u.next,c=u.next;else if((t=u)===c){a?1===a?V(t=U(t,e,n),e,n,r,i,o,2):2===a&&B(t,e,n,r,i,o):V(Y(t),e,n,r,i,o,1);break}}}function G(t){var e=t.prev,n=t,r=t.next;if(nt(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(tt(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&nt(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function K(t,e,n,r){var i=t.prev,o=t,a=t.next;if(nt(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,h=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,l=$(s,u,e,n,r),f=$(c,h,e,n,r),p=t.nextZ;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&tt(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&nt(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=l;){if(p!==t.prev&&p!==t.next&&tt(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&nt(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function U(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!rt(i,o)&&it(i,r,r.next,o)&&ot(i,o)&&ot(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),ut(r),ut(r.next),r=t=o),r=r.next}while(r!==t);return r}function B(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&et(a,s)){var u=at(a,s);return a=Y(a,a.next),u=Y(u,u.next),V(a,e,n,r,i,o),void V(u,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}function W(t,e){return t.x-e.x}function Q(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,c=n,h=n.x,l=n.y,f=1/0;for(r=n.next;r!==c;)i>=r.x&&r.x>=h&&tt(o<l?i:a,o,h,l,o<l?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&ot(r,t)&&(n=r,f=u),r=r.next;return n}(t,e)){var n=at(e,t);Y(n,n.next)}}function $(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)/i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)/i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function J(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function tt(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function et(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&it(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&ot(t,e)&&ot(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function nt(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function rt(t,e){return t.x===e.x&&t.y===e.y}function it(t,e,n,r){return!!(rt(t,e)&&rt(n,r)||rt(t,r)&&rt(n,e))||nt(t,e,n)>0!=nt(t,e,r)>0&&nt(n,r,t)>0!=nt(n,r,e)>0}function ot(t,e){return nt(t.prev,t,t.next)<0?nt(t,e,t.next)>=0&&nt(t,t.prev,e)>=0:nt(t,e,t.prev)<0||nt(t,t.next,e)<0}function at(t,e){var n=new ct(t.i,t.x,t.y),r=new ct(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function st(t,e,n,r){var i=new ct(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ut(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ct(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ht(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function lt(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,o=ft(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function ft(t,e){function n(t,e){e.length&&e.pop();for(var n=u[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(s(n[r],r));t<0&&Jt(e,i)}function r(t){return s(t)}function i(t){for(var e=[],r=0,i=t.length;r<i;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function a(t){return t.map(o)}var s=$t(t.transform),u=t.arcs;return function t(e){var n,o=e.type;switch(o){case"GeometryCollection":return{type:o,geometries:e.geometries.map(t)};case"Point":n=r(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(r);break;case"LineString":n=i(e.arcs);break;case"MultiLineString":n=e.arcs.map(i);break;case"Polygon":n=a(e.arcs);break;case"MultiPolygon":n=e.arcs.map(a);break;default:return null}return{type:o,coordinates:n}}(e)}function pt(t,e){function n(t){t.forEach((function(e){e.forEach((function(e){(i[e=e<0?~e:e]||(i[e]=[])).push(t)}))})),o.push(t)}function r(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(ft(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var i={},o=[],a=[];return e.forEach((function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":n(e.arcs);break;case"MultiPolygon":e.arcs.forEach(n)}})),o.forEach((function(t){if(!t._){var e=[],n=[t];for(t._=1,a.push(e);t=n.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){i[t<0?~t:t].forEach((function(t){t._||(t._=1,n.push(t))}))}))}))}})),o.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:a.map((function(e){var n,o=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){i[t<0?~t:t].length<2&&o.push(t)}))}))})),(n=(o=ee(t,o)).length)>1)for(var a,s,u=1,c=r(o[0]);u<n;++u)(a=r(o[u]))>c&&(s=o[0],o[0]=o[u],o[u]=s,c=a);return o}))}}function gt(t,e,n){void 0===n&&(n={});var r=n.maxSegmentLength;void 0===r&&(r=10);var i=n.string;void 0===i&&(i=!0);var o=n.single;void 0===o&&(o=!1);var a=H(t,r);a.length<e.length+2&&I(a,e.length+2-a.length);var s,u=ae(a,e.length),c=e.map((function(t){return H(t,r)})),h="string"==typeof t&&t;return o&&!e.every((function(t){return"string"==typeof t}))||(s=e.slice(0)),dt(u,c,{match:!0,string:i,single:o,t0:h,t1:s})}function dt(t,e,n){void 0===n&&(n={});var r=n.string,i=n.single,o=n.t0,a=n.t1,s=n.match,u=s?se(t,e):t.map((function(t,e){return e})),c=u.map((function(n,i){return Z(t[n],e[i],r)}));if(s&&Array.isArray(o)&&(o=u.map((function(t){return o[t]}))),i&&r&&(Array.isArray(o)&&(o=o.join(" ")),Array.isArray(a)&&(a=a.join(" "))),i){var h=r?function(t){return c.map((function(e){return e(t)})).join(" ")}:function(t){return c.map((function(e){return e(t)}))};return r&&(o||a)?function(t){return t<1e-4&&o||1-t<1e-4&&a||h(t)}:h}return r?(o=Array.isArray(o)?o.map((function(t){return"string"==typeof t&&t})):[],a=Array.isArray(a)?a.map((function(t){return"string"==typeof t&&t})):[],c.map((function(t,e){return o[e]||a[e]?function(n){return n<1e-4&&o[e]||1-n<1e-4&&a[e]||t(n)}:t}))):c}function yt(t,e,n,r,i){return mt(function(t,e,n){return function(r){var i=N(r),o=wt(r.concat([r[0]])),a=Math.atan2(r[0][1]-i[1],r[0][0]-i[0]),s=0;return r.map((function(i,u){var c;return u&&(s+=O(i,r[u-1])),c=a+2*Math.PI*(o?s/o:u/r.length),[Math.cos(c)*n+t,Math.sin(c)*n+e]}))}}(t,e,n),r,function(t,e,n){var r=t-n+","+e,i="A"+n+","+n+",0,1,1,";return"M"+r+i+(t+n)+","+e+i+r+"Z"}(t,e,n),2*Math.PI*n,i)}function vt(t,e,n,r,i,o){return mt(function(t,e,n,r){return function(i){var o=N(i),a=wt(i.concat([i[0]])),s=Math.atan2(i[0][1]-o[1],i[0][0]-o[0]),u=0;s<0&&(s=2*Math.PI+s);var c=s/(2*Math.PI);return i.map((function(o,s){s&&(u+=O(o,i[s-1]));var h=function(t){return t<=1/8?[1,.5+4*t]:t<=3/8?[1.5-4*t,1]:t<=5/8?[0,2.5-4*t]:t<=7/8?[4*t-2.5,0]:[1,4*t-3.5]}((c+(a?u/a:s/i.length))%1);return[t+h[0]*n,e+h[1]*r]}))}}(t,e,n,r),i,function(t,e,n,r){var i=t+n,o=e+r;return"M"+t+","+e+"L"+i+","+e+"L"+i+","+o+"L"+t+","+o+"Z"}(t,e,n,r),2*n+2*r,o)}function mt(t,e,n,r,i){void 0===i&&(i={});var o=i.maxSegmentLength;void 0===o&&(o=10);var a=i.string;void 0===a&&(a=!0);var s,u,c=H(e,o);return q(r)&&c.length<r/o&&I(c,Math.ceil(r/o-c.length)),s=t(c),u=C(s,c,a),a?function(t){return t<1e-4?n:u(t)}:u}var xt=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2},bt=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(u*=3),a/u]},wt=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],u=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],u+=Math.sqrt(e*e+n*n);return u},At={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},Et=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],Mt=function(t){var e=new i(t),n=e.max;for(o(e);e.index<n&&!e.err.length;)u(e);return e.err.length?e.result=[]:e.result.length&&("mM".indexOf(e.result[0][0])<0?(e.err="SvgPath: string should start with `M` or `m`",e.result=[]):e.result[0][0]="M"),{err:e.err,segments:e.result}};h.prototype.matrix=function(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]||(this.cache=null,this.queue.push(t)),this},h.prototype.translate=function(t,e){return 0===t&&0===e||(this.cache=null,this.queue.push([1,0,0,1,t,e])),this},h.prototype.scale=function(t,e){return 1===t&&1===e||(this.cache=null,this.queue.push([t,0,0,e,0,0])),this},h.prototype.rotate=function(t,e,n){var r,i,o;return 0!==t&&(this.translate(e,n),r=t*Math.PI/180,i=Math.cos(r),o=Math.sin(r),this.queue.push([i,o,-o,i,0,0]),this.cache=null,this.translate(-e,-n)),this},h.prototype.skewX=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,0,Math.tan(t*Math.PI/180),1,0,0])),this},h.prototype.skewY=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,Math.tan(t*Math.PI/180),0,1,0,0])),this},h.prototype.toArray=function(){var t=this;if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],1===this.queue.length)return this.cache;for(var e=1;e<this.queue.length;e++)t.cache=c(t.cache,t.queue[e]);return this.cache},h.prototype.calc=function(t,e,n){var r;return this.queue.length?(this.cache||(this.cache=this.toArray()),[t*(r=this.cache)[0]+e*r[2]+(n?0:r[4]),t*r[1]+e*r[3]+(n?0:r[5])]):[t,e]};var kt=h,Pt={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},Lt=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,St=/[\s,]+/,Tt=2*Math.PI,Ot=function(t,e,n,r,i,o,a,s,u){var c=Math.sin(u*Tt/360),h=Math.cos(u*Tt/360),p=h*(t-n)/2+c*(e-r)/2,g=-c*(t-n)/2+h*(e-r)/2;if(0===p&&0===g)return[];if(0===a||0===s)return[];a=Math.abs(a),s=Math.abs(s);var d=p*p/(a*a)+g*g/(s*s);d>1&&(a*=Math.sqrt(d),s*=Math.sqrt(d));var y=function(t,e,n,r,i,o,a,s,u,c){var h=c*(t-n)/2+u*(e-r)/2,f=-u*(t-n)/2+c*(e-r)/2,p=a*a,g=s*s,d=h*h,y=f*f,v=p*g-p*y-g*d;v<0&&(v=0),v/=p*y+g*d;var m=(v=Math.sqrt(v)*(i===o?-1:1))*a/s*f,x=v*-s/a*h,b=c*m-u*x+(t+n)/2,w=u*m+c*x+(e+r)/2,A=(h-m)/a,E=(f-x)/s,M=(-h-m)/a,k=(-f-x)/s,P=l(1,0,A,E),L=l(A,E,M,k);return 0===o&&L>0&&(L-=Tt),1===o&&L<0&&(L+=Tt),[b,w,P,L]}(t,e,n,r,i,o,a,s,c,h),v=[],m=y[2],x=y[3],b=Math.max(Math.ceil(Math.abs(x)/(Tt/4)),1);x/=b;for(var w=0;w<b;w++)v.push(f(m,x)),m+=x;return v.map((function(t){for(var e=0;e<t.length;e+=2){var n=t[e+0],r=t[e+1],i=h*(n*=a)-c*(r*=s),o=c*n+h*r;t[e+0]=i+y[0],t[e+1]=o+y[1]}return t}))},_t=Math.PI/180;p.prototype.transform=function(t){var e=Math.cos(this.ax*_t),n=Math.sin(this.ax*_t),r=[this.rx*(t[0]*e+t[2]*n),this.rx*(t[1]*e+t[3]*n),this.ry*(-t[0]*n+t[2]*e),this.ry*(-t[1]*n+t[3]*e)],i=r[0]*r[0]+r[2]*r[2],o=r[1]*r[1]+r[3]*r[3],a=((r[0]-r[3])*(r[0]-r[3])+(r[2]+r[1])*(r[2]+r[1]))*((r[0]+r[3])*(r[0]+r[3])+(r[2]-r[1])*(r[2]-r[1])),s=(i+o)/2;if(a<1e-10*s)return this.rx=this.ry=Math.sqrt(s),this.ax=0,this;var u=r[0]*r[1]+r[2]*r[3],c=s+(a=Math.sqrt(a))/2,h=s-a/2;return this.ax=Math.abs(u)<1e-10&&Math.abs(c-o)<1e-10?90:180*Math.atan(Math.abs(u)>Math.abs(c-o)?(c-i)/u:u/(c-o))/Math.PI,this.ax>=0?(this.rx=Math.sqrt(c),this.ry=Math.sqrt(h)):(this.ax+=90,this.rx=Math.sqrt(h),this.ry=Math.sqrt(c)),this},p.prototype.isDegenerate=function(){return this.rx<1e-10*this.ry||this.ry<1e-10*this.rx};var Ct=p;g.prototype.__matrix=function(t){var e,n=this;t.queue.length&&this.iterate((function(r,i,o,a){var s,u,c,h;switch(r[0]){case"v":u=0===(s=t.calc(0,r[1],!0))[0]?["v",s[1]]:["l",s[0],s[1]];break;case"V":u=(s=t.calc(o,r[1],!1))[0]===t.calc(o,a,!1)[0]?["V",s[1]]:["L",s[0],s[1]];break;case"h":u=0===(s=t.calc(r[1],0,!0))[1]?["h",s[0]]:["l",s[0],s[1]];break;case"H":u=(s=t.calc(r[1],a,!1))[1]===t.calc(o,a,!1)[1]?["H",s[0]]:["L",s[0],s[1]];break;case"a":case"A":var l=t.toArray(),f=Ct(r[1],r[2],r[3]).transform(l);if(l[0]*l[3]-l[1]*l[2]<0&&(r[5]=r[5]?"0":"1"),s=t.calc(r[6],r[7],"a"===r[0]),"A"===r[0]&&r[6]===o&&r[7]===a||"a"===r[0]&&0===r[6]&&0===r[7]){u=["a"===r[0]?"l":"L",s[0],s[1]];break}u=f.isDegenerate()?["a"===r[0]?"l":"L",s[0],s[1]]:[r[0],f.rx,f.ry,f.ax,r[4],r[5],s[0],s[1]];break;case"m":h=i>0,u=["m",(s=t.calc(r[1],r[2],h))[0],s[1]];break;default:for(u=[c=r[0]],h=c.toLowerCase()===c,e=1;e<r.length;e+=2)s=t.calc(r[e],r[e+1],h),u.push(s[0],s[1])}n.segments[i]=u}),!0)},g.prototype.__evaluateStack=function(){var t,e;if(this.__stack.length){if(1===this.__stack.length)return this.__matrix(this.__stack[0]),void(this.__stack=[]);for(t=kt(),e=this.__stack.length;--e>=0;)t.matrix(this.__stack[e].toArray());this.__matrix(t),this.__stack=[]}},g.prototype.toString=function(){var t,e,n=this,r=[];this.__evaluateStack();for(var i=0;i<this.segments.length;i++)e=n.segments[i][0],t=i>0&&"m"!==e&&"M"!==e&&e===n.segments[i-1][0],r=r.concat(t?n.segments[i].slice(1):n.segments[i]);return r.join(" ").replace(/ ?([achlmqrstvz]) ?/gi,"$1").replace(/ \-/g,"-").replace(/zm/g,"z m")},g.prototype.translate=function(t,e){return this.__stack.push(kt().translate(t,e||0)),this},g.prototype.scale=function(t,e){return this.__stack.push(kt().scale(t,e||0===e?e:t)),this},g.prototype.rotate=function(t,e,n){return this.__stack.push(kt().rotate(t,e||0,n||0)),this},g.prototype.skewX=function(t){return this.__stack.push(kt().skewX(t)),this},g.prototype.skewY=function(t){return this.__stack.push(kt().skewY(t)),this},g.prototype.matrix=function(t){return this.__stack.push(kt().matrix(t)),this},g.prototype.transform=function(t){return t.trim()?(this.__stack.push(function(t){var e,n,r=new kt;return t.split(Lt).forEach((function(t){if(t.length){if(void 0!==Pt[t])return void(e=t);switch(n=t.split(St).map((function(t){return+t||0})),e){case"matrix":return void(6===n.length&&r.matrix(n));case"scale":return void(1===n.length?r.scale(n[0],n[0]):2===n.length&&r.scale(n[0],n[1]));case"rotate":return void(1===n.length?r.rotate(n[0],0,0):3===n.length&&r.rotate(n[0],n[1],n[2]));case"translate":return void(1===n.length?r.translate(n[0],0):2===n.length&&r.translate(n[0],n[1]));case"skewX":return void(1===n.length&&r.skewX(n[0]));case"skewY":return void(1===n.length&&r.skewY(n[0]))}}})),r}(t)),this):this},g.prototype.round=function(t){var e,n=0,r=0,i=0,o=0;return t=t||0,this.__evaluateStack(),this.segments.forEach((function(a){var s=a[0].toLowerCase()===a[0];switch(a[0]){case"H":case"h":return s&&(a[1]+=i),i=a[1]-a[1].toFixed(t),void(a[1]=+a[1].toFixed(t));case"V":case"v":return s&&(a[1]+=o),o=a[1]-a[1].toFixed(t),void(a[1]=+a[1].toFixed(t));case"Z":case"z":return i=n,void(o=r);case"M":case"m":return s&&(a[1]+=i,a[2]+=o),i=a[1]-a[1].toFixed(t),o=a[2]-a[2].toFixed(t),n=i,r=o,a[1]=+a[1].toFixed(t),void(a[2]=+a[2].toFixed(t));case"A":case"a":return s&&(a[6]+=i,a[7]+=o),i=a[6]-a[6].toFixed(t),o=a[7]-a[7].toFixed(t),a[1]=+a[1].toFixed(t),a[2]=+a[2].toFixed(t),a[3]=+a[3].toFixed(t+2),a[6]=+a[6].toFixed(t),void(a[7]=+a[7].toFixed(t));default:return e=a.length,s&&(a[e-2]+=i,a[e-1]+=o),i=a[e-2]-a[e-2].toFixed(t),o=a[e-1]-a[e-1].toFixed(t),void a.forEach((function(e,n){n&&(a[n]=+a[n].toFixed(t))}))}})),this},g.prototype.iterate=function(t,e){var n,r,i,o=this.segments,a={},s=!1,u=0,c=0,h=0,l=0;if(e||this.__evaluateStack(),o.forEach((function(e,n){var r=t(e,n,u,c);Array.isArray(r)&&(a[n]=r,s=!0);var i=e[0]===e[0].toLowerCase();switch(e[0]){case"m":case"M":return u=e[1]+(i?u:0),c=e[2]+(i?c:0),h=u,void(l=c);case"h":case"H":return void(u=e[1]+(i?u:0));case"v":case"V":return void(c=e[1]+(i?c:0));case"z":case"Z":return u=h,void(c=l);default:u=e[e.length-2]+(i?u:0),c=e[e.length-1]+(i?c:0)}})),!s)return this;for(i=[],n=0;n<o.length;n++)if(void 0!==a[n])for(r=0;r<a[n].length;r++)i.push(a[n][r]);else i.push(o[n]);return this.segments=i,this},g.prototype.abs=function(){return this.iterate((function(t,e,n,r){var i,o=t[0],a=o.toUpperCase();if(o!==a)switch(t[0]=a,o){case"v":return void(t[1]+=r);case"a":return t[6]+=n,void(t[7]+=r);default:for(i=1;i<t.length;i++)t[i]+=i%2?n:r}}),!0),this},g.prototype.rel=function(){return this.iterate((function(t,e,n,r){var i,o=t[0],a=o.toLowerCase();if(o!==a&&(0!==e||"M"!==o))switch(t[0]=a,o){case"V":return void(t[1]-=r);case"A":return t[6]-=n,void(t[7]-=r);default:for(i=1;i<t.length;i++)t[i]-=i%2?n:r}}),!0),this},g.prototype.unarc=function(){return this.iterate((function(t,e,n,r){var i,o,a,s=[],u=t[0];return"A"!==u&&"a"!==u?null:("a"===u?(o=n+t[6],a=r+t[7]):(o=t[6],a=t[7]),0===(i=Ot(n,r,o,a,t[4],t[5],t[1],t[2],t[3])).length?[["a"===t[0]?"l":"L",t[6],t[7]]]:(i.forEach((function(t){s.push(["C",t[2],t[3],t[4],t[5],t[6],t[7]])})),s))})),this},g.prototype.unshort=function(){var t,e,n,r,i,o=this.segments;return this.iterate((function(a,s,u,c){var h,l=a[0],f=l.toUpperCase();s&&("T"===f?(h="t"===l,"Q"===(n=o[s-1])[0]?(t=n[1]-u,e=n[2]-c):"q"===n[0]?(t=n[1]-n[3],e=n[2]-n[4]):(t=0,e=0),r=-t,i=-e,h||(r+=u,i+=c),o[s]=[h?"q":"Q",r,i,a[1],a[2]]):"S"===f&&(h="s"===l,"C"===(n=o[s-1])[0]?(t=n[3]-u,e=n[4]-c):"c"===n[0]?(t=n[3]-n[5],e=n[4]-n[6]):(t=0,e=0),r=-t,i=-e,h||(r+=u,i+=c),o[s]=[h?"c":"C",r,i,a[1],a[2],a[3],a[4]]))})),this};var qt=g,Nt={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},Rt=/([astvzqmhlc])([^astvzqmhlc]*)/gi,zt=function(t){var e=[];return t.replace(Rt,(function(t,n,r){var i=n.toLowerCase();for(r=function(t){var e=t.match(Dt);return e?e.map(Number):[]}(r),"m"===i&&r.length>2&&(e.push([n].concat(r.splice(0,2))),i="l",n="m"===n?"l":"L");r.length>=0;){if(r.length===Nt[i])return r.unshift(n),e.push(r);if(r.length<Nt[i])throw new Error("malformed path data");e.push([n].concat(r.splice(0,Nt[i])))}})),e},Dt=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,jt=function(t,e,n,r,i,o,a,s){return new d(t,e,n,r,i,o,a,s)};d.prototype={constructor:d,init:function(){this.length=this.getArcLength([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y])},getTotalLength:function(){return this.length},getPointAtLength:function(t){var e=m(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);return this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e)},getTangentAtLength:function(t){var e=m(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e),r=Math.sqrt(n.x*n.x+n.y*n.y);return r>0?{x:n.x/r,y:n.y/r}:{x:0,y:0}},getPropertiesAtLength:function(t){var e,n=m(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),r=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],n),i=Math.sqrt(r.x*r.x+r.y*r.y);e=i>0?{x:r.x/i,y:r.y/i}:{x:0,y:0};var o=this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],n);return{x:o.x,y:o.y,tangentX:e.x,tangentY:e.y}}};var It=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],Ht=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],Zt=[[1],[1,1],[1,2,1],[1,3,3,1]],Ft=2*Math.PI,Xt=function(t,e,n,r,i,o,a,s,u){var c=Math.sin(i*Ft/360),h=Math.cos(i*Ft/360),l=h*(t-s)/2+c*(e-u)/2,f=-c*(t-s)/2+h*(e-u)/2;if(0===l&&0===f)return[];if(0===n||0===r)return[];n=Math.abs(n),r=Math.abs(r);var p=l*l/(n*n)+f*f/(r*r);p>1&&(n*=Math.sqrt(p),r*=Math.sqrt(p));var g=function(t,e,n,r,i,o,a,s,u,c){var h=c*(t-n)/2+u*(e-r)/2,l=-u*(t-n)/2+c*(e-r)/2,f=a*a,p=s*s,g=h*h,d=l*l,y=f*p-f*d-p*g;y<0&&(y=0),y/=f*d+p*g;var v=(y=Math.sqrt(y)*(i===o?-1:1))*a/s*l,m=y*-s/a*h,x=c*v-u*m+(t+n)/2,b=u*v+c*m+(e+r)/2,w=(h-v)/a,A=(l-m)/s,E=(-h-v)/a,M=(-l-m)/s,k=P(1,0,w,A),L=P(w,A,E,M);return 0===o&&L>0&&(L-=Ft),1===o&&L<0&&(L+=Ft),[x,b,k,L]}(t,e,s,u,o,a,n,r,c,h),d=[],y=g[2],v=g[3],m=Math.max(Math.ceil(Math.abs(v)/(Ft/4)),1);v/=m;for(var x=0;x<m;x++)d.push(L(y,v)),y+=v;return d.map((function(t){for(var e=0;e<t.length;e+=2){var i=t[e+0],o=t[e+1],a=h*(i*=n)-c*(o*=r),s=c*i+h*o;t[e+0]=a+g[0],t[e+1]=s+g[1]}return t}))},Yt=function(t,e,n,r,i,o,a,s,u){return new S(t,e,n,r,i,o,a,s,u)};S.prototype={constructor:S,init:function(){},getTotalLength:function(){return this.length},getPointAtLength:function(t){t<0?t=0:t>this.length&&(t=this.length);for(var e=this.partialLengths.length-1;this.partialLengths[e]>=t&&this.partialLengths[e]>0;)e--;e<this.partialLengths.length-1&&e++;for(var n=0,r=0;r<e;r++)n+=this.partialLengths[r];return this.curves[e].getPointAtLength(t-n)},getTangentAtLength:function(t){t<0?t=0:t>this.length&&(t=this.length);for(var e=this.partialLengths.length-1;this.partialLengths[e]>=t&&this.partialLengths[e]>0;)e--;e<this.partialLengths.length-1&&e++;for(var n=0,r=0;r<e;r++)n+=this.partialLengths[r];return this.curves[e].getTangentAtLength(t-n)},getPropertiesAtLength:function(t){var e=this.getTangentAtLength(t),n=this.getPointAtLength(t);return{x:n.x,y:n.y,tangentX:e.x,tangentY:e.y}}};var Vt=function(t,e,n,r){return new T(t,e,n,r)};T.prototype.getTotalLength=function(){return Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2))},T.prototype.getPointAtLength=function(t){var e=t/Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2)),n=(this.x1-this.x0)*e,r=(this.y1-this.y0)*e;return{x:this.x0+n,y:this.y0+r}},T.prototype.getTangentAtLength=function(){var t=Math.sqrt((this.x1-this.x0)*(this.x1-this.x0)+(this.y1-this.y0)*(this.y1-this.y0));return{x:(this.x1-this.x0)/t,y:(this.y1-this.y0)/t}},T.prototype.getPropertiesAtLength=function(t){var e=this.getPointAtLength(t),n=this.getTangentAtLength();return{x:e.x,y:e.y,tangentX:n.x,tangentY:n.y}};var Gt=function(t){function e(t){if(!t)return null;for(var o,a=zt(t),s=[0,0],u=[0,0],c=0;c<a.length;c++)"M"===a[c][0]?(s=[a[c][1],a[c][2]],i.push(null)):"m"===a[c][0]?(s=[a[c][1]+s[0],a[c][2]+s[1]],i.push(null)):"L"===a[c][0]?(n+=Math.sqrt(Math.pow(s[0]-a[c][1],2)+Math.pow(s[1]-a[c][2],2)),i.push(new Vt(s[0],a[c][1],s[1],a[c][2])),s=[a[c][1],a[c][2]]):"l"===a[c][0]?(n+=Math.sqrt(Math.pow(a[c][1],2)+Math.pow(a[c][2],2)),i.push(new Vt(s[0],a[c][1]+s[0],s[1],a[c][2]+s[1])),s=[a[c][1]+s[0],a[c][2]+s[1]]):"H"===a[c][0]?(n+=Math.abs(s[0]-a[c][1]),i.push(new Vt(s[0],a[c][1],s[1],s[1])),s[0]=a[c][1]):"h"===a[c][0]?(n+=Math.abs(a[c][1]),i.push(new Vt(s[0],s[0]+a[c][1],s[1],s[1])),s[0]=a[c][1]+s[0]):"V"===a[c][0]?(n+=Math.abs(s[1]-a[c][1]),i.push(new Vt(s[0],s[0],s[1],a[c][1])),s[1]=a[c][1]):"v"===a[c][0]?(n+=Math.abs(a[c][1]),i.push(new Vt(s[0],s[0],s[1],s[1]+a[c][1])),s[1]=a[c][1]+s[1]):"z"===a[c][0]||"Z"===a[c][0]?(n+=Math.sqrt(Math.pow(a[0][1]-s[0],2)+Math.pow(a[0][2]-s[1],2)),i.push(new Vt(s[0],a[0][1],s[1],a[0][2])),s=[a[0][1],a[0][2]]):"C"===a[c][0]?(o=new jt(s[0],s[1],a[c][1],a[c][2],a[c][3],a[c][4],a[c][5],a[c][6]),n+=o.getTotalLength(),s=[a[c][5],a[c][6]],i.push(o)):"c"===a[c][0]?(o=new jt(s[0],s[1],s[0]+a[c][1],s[1]+a[c][2],s[0]+a[c][3],s[1]+a[c][4],s[0]+a[c][5],s[1]+a[c][6]),n+=o.getTotalLength(),s=[a[c][5]+s[0],a[c][6]+s[1]],i.push(o)):"S"===a[c][0]?(o=c>0&&["C","c","S","s"].indexOf(a[c-1][0])>-1?new jt(s[0],s[1],2*s[0]-a[c-1][a[c-1].length-4],2*s[1]-a[c-1][a[c-1].length-3],a[c][1],a[c][2],a[c][3],a[c][4]):new jt(s[0],s[1],s[0],s[1],a[c][1],a[c][2],a[c][3],a[c][4]),n+=o.getTotalLength(),s=[a[c][3],a[c][4]],i.push(o)):"s"===a[c][0]?(o=c>0&&["C","c","S","s"].indexOf(a[c-1][0])>-1?new jt(s[0],s[1],s[0]+o.d.x-o.c.x,s[1]+o.d.y-o.c.y,s[0]+a[c][1],s[1]+a[c][2],s[0]+a[c][3],s[1]+a[c][4]):new jt(s[0],s[1],s[0],s[1],s[0]+a[c][1],s[1]+a[c][2],s[0]+a[c][3],s[1]+a[c][4]),n+=o.getTotalLength(),s=[a[c][3]+s[0],a[c][4]+s[1]],i.push(o)):"Q"===a[c][0]?(o=new jt(s[0],s[1],a[c][1],a[c][2],a[c][3],a[c][4]),n+=o.getTotalLength(),i.push(o),s=[a[c][3],a[c][4]],u=[a[c][1],a[c][2]]):"q"===a[c][0]?(o=new jt(s[0],s[1],s[0]+a[c][1],s[1]+a[c][2],s[0]+a[c][3],s[1]+a[c][4]),n+=o.getTotalLength(),u=[s[0]+a[c][1],s[1]+a[c][2]],s=[a[c][3]+s[0],a[c][4]+s[1]],i.push(o)):"T"===a[c][0]?(o=c>0&&["Q","q","T","t"].indexOf(a[c-1][0])>-1?new jt(s[0],s[1],2*s[0]-u[0],2*s[1]-u[1],a[c][1],a[c][2]):new Vt(s[0],a[c][1],s[1],a[c][2]),i.push(o),n+=o.getTotalLength(),u=[2*s[0]-u[0],2*s[1]-u[1]],s=[a[c][1],a[c][2]]):"t"===a[c][0]?(o=c>0&&["Q","q","T","t"].indexOf(a[c-1][0])>-1?new jt(s[0],s[1],2*s[0]-u[0],2*s[1]-u[1],s[0]+a[c][1],s[1]+a[c][2]):new Vt(s[0],s[0]+a[c][1],s[1],s[1]+a[c][2]),n+=o.getTotalLength(),u=[2*s[0]-u[0],2*s[1]-u[1]],s=[a[c][1]+s[0],a[c][2]+s[0]],i.push(o)):"A"===a[c][0]?(o=new Yt(s[0],s[1],a[c][1],a[c][2],a[c][3],a[c][4],a[c][5],a[c][6],a[c][7]),n+=o.getTotalLength(),s=[a[c][6],a[c][7]],i.push(o)):"a"===a[c][0]&&(o=new Yt(s[0],s[1],a[c][1],a[c][2],a[c][3],a[c][4],a[c][5],s[0]+a[c][6],s[1]+a[c][7]),n+=o.getTotalLength(),s=[s[0]+a[c][6],s[1]+a[c][7]],i.push(o)),r.push(n);return e}var n=0,r=[],i=[];e.getTotalLength=function(){return n},e.getPointAtLength=function(t){var e=o(t);return i[e.i].getPointAtLength(e.fraction)},e.getTangentAtLength=function(t){var e=o(t);return i[e.i].getTangentAtLength(e.fraction)},e.getPropertiesAtLength=function(t){var e=o(t);return i[e.i].getPropertiesAtLength(e.fraction)};var o=function(t){t<0?t=0:t>n&&(t=n);for(var e=r.length-1;r[e]>=t&&r[e]>0;)e--;return e++,{fraction:t-r[e-1],i:e}};return e(t)},Kt='All shapes must be supplied as arrays of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).\nExample valid ways of supplying a shape would be:\n[[0, 0], [10, 0], [10, 10]]\n"M0,0 L10,0 L10,10Z"\n',Ut="flubber.all() expects two arrays of equal length as arguments. Each element in both arrays should be an array of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).",Bt=function(t,e){for(var n,r,i,o=t.length,a=1/0,s=0;s<o;s++)!function(i){r=0,e.forEach((function(e,n){var a=O(t[(i+n)%o],e);r+=a*a})),r<a&&(a=r,n=i)}(s);n&&(i=t.splice(0,n),t.splice.apply(t,[t.length,0].concat(i)))},Wt=F;F.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(ht(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var c=e[s]*n,h=s<u-1?e[s+1]*n:t.length;a-=Math.abs(ht(t,c,h,n))}var l=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,p=r[s+1]*n,g=r[s+2]*n;l+=Math.abs((t[f]-t[g])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[g+1]-t[f+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},F.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var Qt=function(t){return t},$t=function(t){if(null==t)return Qt;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var u=2,c=t.length,h=new Array(c);for(h[0]=(e+=t[0])*r+o,h[1]=(n+=t[1])*i+a;u<c;)h[u]=t[u],++u;return h}},Jt=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},te=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return lt(t,e)}))}:lt(t,e)},ee=function(t,e){function n(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){r[t<0?~t:t]=1})),a.push(i)}}var r={},i={},o={},a=[],s=-1;return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++s],e[s]=n,e[r]=i)})),e.forEach((function(e){var n,r,a=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1],e<0?[n,i]:[i,n]}(e),s=a[0],u=a[1];if(n=o[s])if(delete o[n.end],n.push(e),n.end=u,r=i[u]){delete i[r.start];var c=r===n?n:n.concat(r);i[c.start=n.start]=o[c.end=r.end]=c}else i[n.start]=o[n.end]=n;else if(n=i[u])if(delete i[n.start],n.unshift(e),n.start=s,r=o[s]){delete o[r.end];var h=r===n?n:r.concat(n);i[h.start=r.start]=o[h.end=n.end]=h}else i[n.start]=o[n.end]=n;else i[(n=[e]).start=s]=o[n.end=u]=n})),n(o,i),n(i,o),e.forEach((function(t){r[t<0?~t:t]||a.push([t])})),a},ne=function(t,e){for(var n=0,r=t.length;n<r;){var i=n+r>>>1;t[i]<e?n=i+1:r=i}return n},re=function(t){function e(t,e){t.forEach((function(t){t<0&&(t=~t);var n=r[t];n?n.push(e):r[t]=[e]}))}function n(t,n){t.forEach((function(t){e(t,n)}))}var r={},i=t.map((function(){return[]})),o={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach((function(t){n(t,e)}))}};for(var a in t.forEach((function t(e,n){"GeometryCollection"===e.type?e.geometries.forEach((function(e){t(e,n)})):e.type in o&&o[e.type](e.arcs,n)})),r)for(var s=r[a],u=s.length,c=0;c<u;++c)for(var h=c+1;h<u;++h){var l,f=s[c],p=s[h];(l=i[f])[a=ne(l,p)]!==p&&l.splice(a,0,p),(l=i[p])[a=ne(l,f)]!==f&&l.splice(a,0,f)}return i},ie=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},oe=function(t){return 1===t.length&&(t=function(t){return function(e,n){return ie(t(e),n)}}(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}},ae=(oe(ie).right,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2),function(t,e){return function(t,e){for(var n=t.objects.triangles.geometries,r=oe((function(t){return t.area})).left;n.length>e;)i=void 0,o=void 0,a=void 0,s=void 0,i=n[0],o=re(n)[0][0],a=n[o],(s=pt(t,[i,a])).area=i.area+a.area,s.type="Polygon",s.arcs=s.arcs[0],n.splice(o,1),n.shift(),n.splice(r(n,s.area),0,s);var i,o,a,s;if(e>n.length)throw new RangeError("Can't collapse topology into "+e+" pieces.");return te(t,t.objects.triangles).features.map((function(t){return t.geometry.coordinates[0].pop(),t.geometry.coordinates[0]}))}(function(t,e){var n={},r={type:"Topology",objects:{triangles:{type:"GeometryCollection",geometries:[]}},arcs:[]};return t.forEach((function(t){var i=[];t.forEach((function(t,o){var a=t[0]<t[1]?t.join(","):t[1]+","+t[0],s=t.map((function(t){return e[t]}));a in n?i.push(~n[a]):(i.push(n[a]=r.arcs.length),r.arcs.push(s))})),r.objects.triangles.geometries.push({type:"Polygon",area:Math.abs(xt(t.map((function(t){return e[t[0]]})))),arcs:[i]})})),r.objects.triangles.geometries.sort((function(t,e){return t.area-e.area})),r}(function(t){for(var e=Wt(t.reduce((function(t,e){return t.concat([e[0]],[e[1]])}),[])),n=[],r=0,i=e.length;r<i;r+=3)n.push([[e[r],e[r+1]],[e[r+1],e[r+2]],[e[r+2],e[r]]]);return n}(t),t),e)}),se=function(t,e){if(t.length>8)return t.map((function(t,e){return e}));var n=t.map((function(t){return e.map((function(e){return function(t,e){var n=O(N(t),N(e));return n*n}(t,e)}))}));return function(t,e,n){var r=1/0,i=t.map((function(t,e){return e}));return function t(e,o,a){void 0===o&&(o=[]),void 0===a&&(a=0);for(var s=0;s<e.length;s++){var u=e.splice(s,1),c=n[u[0]][o.length];a+c<r&&(e.length?t(e.slice(),o.concat(u),a+c):(r=a+c,i=o.concat(u))),e.length&&e.splice(s,0,u[0])}}(i),i}(t,0,n)};t.interpolate=function(t,e,n){void 0===n&&(n={});var r=n.maxSegmentLength;void 0===r&&(r=10);var i=n.string;void 0===i&&(i=!0);var o=Z(H(t,r),H(e,r),i);return!i||"string"!=typeof t&&"string"!=typeof e?o:function(n){return n<1e-4&&"string"==typeof t?t:1-n<1e-4&&"string"==typeof e?e:o(n)}},t.separate=gt,t.combine=function(t,e,n){void 0===n&&(n={});var r=n.maxSegmentLength;void 0===r&&(r=10);var i=n.string;void 0===i&&(i=!0);var o=n.single;void 0===o&&(o=!1);var a=gt(e,t,{maxSegmentLength:r,string:i,single:o});return o?function(t){return a(1-t)}:a.map((function(t){return function(e){return t(1-e)}}))},t.interpolateAll=function(t,e,n){void 0===n&&(n={});var r=n.maxSegmentLength;void 0===r&&(r=10);var i=n.string;void 0===i&&(i=!0);var o=n.single;if(void 0===o&&(o=!1),!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length||!t.length)throw new TypeError(Ut);var a,s,u=function(t){return H(t,r)},c=t.map(u),h=e.map(u);return o?(t.every((function(t){return"string"==typeof t}))&&(a=t.slice(0)),e.every((function(t){return"string"==typeof t}))&&(s=e.slice(0))):(a=t.slice(0),s=e.slice(0)),dt(c,h,{string:i,single:o,t0:a,t1:s,match:!1})},t.splitPathString=function(t){return z(R(t))},t.toPathString=D,t.fromCircle=yt,t.toCircle=function(t,e,n,r,i){var o=yt(e,n,r,t,i);return function(t){return o(1-t)}},t.fromRect=vt,t.toRect=function(t,e,n,r,i,o){var a=vt(e,n,r,i,t,o);return function(t){return a(1-t)}},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof t&&void 0!==e?r(t):"function"==typeof define&&define.amd?define(["exports"],r):r(n.flubber=n.flubber||{})}},function(){return i||(0,t[Object.keys(t)[0]])((i={exports:{}}).exports,i),i.exports}),w=function(){function t(t){this.map=new Map(t)}return t.prototype.getMap=function(){return this.map},t.prototype.get=function(t){return this.map.get(t)},t.prototype.keys=function(){return Array.from(this.map.keys())},t.prototype.values=function(){return Array.from(this.map.values())},t.prototype.set=function(t,e){return this.map.set(t,e),this},t.prototype.add=function(t){var e=this.size;return this.set(e,t),this},Object.defineProperty(t.prototype,"size",{get:function(){return this.map.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.map.size},enumerable:!1,configurable:!0}),t.prototype.last=function(t){void 0===t&&(t=1);var e=this.keys()[this.size-t];return this.get(e)},t.prototype.delete=function(t){return this.map.delete(t)},t.prototype.remove=function(t){return this.map.delete(t),this},t.prototype.clear=function(){return this.map.clear(),this},t.prototype.has=function(t){return this.map.has(t)},t.prototype.entries=function(){return this.map.entries()},t.prototype.forEach=function(t,e){return this.map.forEach(t,e),this},t.prototype[Symbol.iterator]=function(){return this.entries()},t}(),A=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t.forEach((function(t){t[e].apply(t,n)}))},E=function(t){var e=t.callback,n=void 0===e?function(){}:e,r=t.scope,i=void 0===r?null:r,o=t.name;return{callback:n,scope:i,name:void 0===o?"event":o}},M=function(t){function n(e){void 0===e&&(e="event");var n=t.call(this)||this;return n.name=e,n}return e(n,t),n}(w),k=function(t){function n(){return t.call(this)||this}return e(n,t),n.prototype.getEvent=function(t){var e=this.get(t);return e instanceof M?e:(this.set(t,new M(t)),this.get(t))},n.prototype.newListener=function(t,e,n){var r=this.getEvent(t);return r.add(E({name:t,callback:e,scope:n})),r},n.prototype.on=function(t,e,n){var r,i,o=this;if(void 0===t||null==t)return this;"string"==typeof t&&(t=t.trim().split(/\s/g));var a="object"==typeof t&&!Array.isArray(t),s=a?e:n;return a||(i=e),Object.keys(t).forEach((function(e){r=a?e:t[e],a&&(i=t[e]),o.newListener(r,i,s)}),this),this},n.prototype.removeListener=function(t,e,n){var r=this.get(t);if(r instanceof M&&e){var i=E({name:t,callback:e,scope:n});r.forEach((function(t,e){if(t.callback===i.callback&&t.scope===i.scope)return r.remove(e)}))}return r},n.prototype.off=function(t,e,n){var r,i,o=this;if(void 0===t||null==t)return this;"string"==typeof t&&(t=t.trim().split(/\s/g));var a="object"==typeof t&&!Array.isArray(t),s=a?e:n;return a||(i=e),Object.keys(t).forEach((function(e){r=a?e:t[e],a&&(i=t[e]),"function"==typeof i?o.removeListener(r,i,s):o.remove(r)}),this),this},n.prototype.once=function(t,e,n){var r=this;if(void 0===t||null==t)return this;"string"==typeof t&&(t=t.trim().split(/\s/g));var i="object"==typeof t&&!Array.isArray(t);return Object.keys(t).forEach((function(o){var a=i?o:t[o],s=i?t[o]:e,u=i?e:n,c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.apply(u,t),r.removeListener(a,c,u)};r.newListener(a,c,u)}),this),this},n.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return void 0===t||null==t||("string"==typeof t&&(t=t.trim().split(/\s/g)),t.forEach((function(t){var r=e.get(t);r instanceof M&&r.forEach((function(t){var e=t.callback,r=t.scope;e.apply(r,n)}))}),this)),this},n.prototype.clear=function(){return A(this,"clear"),t.prototype.clear.call(this),this},n}(w),P=function(t){return"string"==typeof t?t.includes("%")?parseFloat(t)/100:"from"==t?0:"to"==t?1:parseFloat(t):t},L=function(t){return void 0===t&&(t=""),function(e){return"string"==typeof e?e:""+e+t}},S=L(),T=L("px"),O=L("deg"),_=function(t){return Array.isArray(t)||"string"==typeof t?("string"==typeof t&&(t=t.split(",")),t):[t]},C=function(t){return Array.isArray(t)||"string"==typeof t?Boolean(t.length):null!=t&&null!=t},q=function(t){return function(e){return C(e)?_(e).map((function(e){if("number"!=typeof e&&"string"!=typeof e)return e;var n=Number(e),r=Number.isNaN(n)?"string"==typeof e?e.trim():e:n;return t(r)})):[]}},N=function(t,e){return _(t).map(q(e))},R=["translate","translate3d","translateX","translateY","translateZ","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],z=function(t){for(var e="",n=R.length,r=0;r<n;r++){var i=R[r],o=t[r];C(o)&&(e+=i+"("+(Array.isArray(o)?o.join(", "):o)+") ")}return e.trim()},D=q(S),j=q(T),I=q(O),H=function(t){for(var e,n,r,i=Object.keys(t),o={},a=0,s=i.length;a<s;a++)e=(r=i[a]).includes("--")?r:(""+r).replace(/-([a-z])/g,(function(t,e){return e.toUpperCase()})),n=t[i[a]],o[e]=n;return o},Z=function(t){return""+t},F=["margin","padding","size","width","height","left","right","top","bottom","radius","gap","basis","inset","outline-offset","perspective","thickness","position","distance","spacing"].join("|"),X=function(t){var e=H(t),n=e.perspective,r=e.rotate,i=e.rotate3d,o=e.rotateX,a=e.rotateY,s=e.rotateZ,u=e.translate,c=e.translate3d,h=e.translateX,l=e.translateY,f=e.translateZ,p=e.scale,g=e.scale3d,d=e.scaleX,y=e.scaleY,v=e.scaleZ,x=e.skew,b=e.skewX,w=e.skewY,A=m(e,["perspective","rotate","rotate3d","rotateX","rotateY","rotateZ","translate","translate3d","translateX","translateY","translateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY"]),E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=[],i=(t=t.map((function(t){var e=_(t),r=e.length;return r>n&&(n=r),e}))).length,o=0;o<n;o++){r[o]=[];for(var a=0;a<i;a++){var s=t[a][o];C(s)&&(r[o][a]=s)}}return r}(u=N(u,T),c=N(c,T),h=j(h),l=j(l),f=j(f),r=N(r,O),i=N(i,S),o=I(o),a=I(a),s=I(s),p=N(p,S),g=N(g,S),d=D(d),y=D(y),v=D(v),x=N(x,O),b=I(b),w=I(w),n=j(n)).filter(C).map(z);return A=V(A,(function(t,e){var n;if(!/color/gi.test(e)){var r=/rotate/gi.test(e),i=new RegExp(F,"gi").test(e);if(r||i)return r?n=I:i&&(n=j),n(t).map((function(t){var e=t.trim().split(" ");return n(e).join(" ")}))}return[].concat(t).map(Z)})),Object.assign({},C(E)?{transform:E}:null,A)},Y=function(t){return Array.isArray(t)?(e=t.map(Y),[].concat.apply([],e)):"string"==typeof t||t instanceof Node?"string"==typeof(n=t)?Array.from(document.querySelectorAll(n)):[n]:t instanceof NodeList||t instanceof HTMLCollection?Array.from(t):[];var e,n},V=function(t,e){for(var n,r,i=Object.keys(t),o={},a=0,s=i.length;a<s;a++)r=t[n=i[a]],o[n]=e(r,n,t);return o},G=function(t,e,n){return V(t,(function(t){return function(t,e,n){return"function"==typeof t?t.apply(n,e):t}(t,e,n)}))},K={in:"ease-in",out:"ease-out","in-out":"ease-in-out","in-sine":"cubic-bezier(0.47, 0, 0.745, 0.715)","out-sine":"cubic-bezier(0.39, 0.575, 0.565, 1)","in-out-sine":"cubic-bezier(0.445, 0.05, 0.55, 0.95)","in-quad":"cubic-bezier(0.55, 0.085, 0.68, 0.53)","out-quad":"cubic-bezier(0.25, 0.46, 0.45, 0.94)","in-out-quad":"cubic-bezier(0.455, 0.03, 0.515, 0.955)","in-cubic":"cubic-bezier(0.55, 0.055, 0.675, 0.19)","out-cubic":"cubic-bezier(0.215, 0.61, 0.355, 1)","in-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1)","in-quart":"cubic-bezier(0.895, 0.03, 0.685, 0.22)","out-quart":"cubic-bezier(0.165, 0.84, 0.44, 1)","in-out-quart":"cubic-bezier(0.77, 0, 0.175, 1)","in-quint":"cubic-bezier(0.755, 0.05, 0.855, 0.06)","out-quint":"cubic-bezier(0.23, 1, 0.32, 1)","in-out-quint":"cubic-bezier(0.86, 0, 0.07, 1)","in-expo":"cubic-bezier(0.95, 0.05, 0.795, 0.035)","out-expo":"cubic-bezier(0.19, 1, 0.22, 1)","in-out-expo":"cubic-bezier(1, 0, 0, 1)","in-circ":"cubic-bezier(0.6, 0.04, 0.98, 0.335)","out-circ":"cubic-bezier(0.075, 0.82, 0.165, 1)","in-out-circ":"cubic-bezier(0.785, 0.135, 0.15, 0.86)","in-back":"cubic-bezier(0.6, -0.28, 0.735, 0.045)","out-back":"cubic-bezier(0.175, 0.885, 0.32, 1.275)","in-out-back":"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},U=Object.keys(K),B=function(t){var e=t.replace(/^ease-/,"");return U.includes(e)?K[e]:t},W={keyframes:[],offset:[],loop:1,delay:0,speed:1,endDelay:0,easing:"ease",timelineOffset:0,autoplay:!0,duration:1e3,fillMode:"none",direction:"normal",padEndDelay:!1,timeline:document.timeline,extend:{}},Q=function(t,e){for(var n,r,i=y({},e);t.length;){var o=i;o[n=t.pop()];i=m(o,[(r=n,"symbol"==typeof r?r:r+"")])}return i},$=function(){function t(e){this.options={},this.properties={},this.totalDuration=-1/0,this.minDelay=1/0,this.maxSpeed=1/0,this.emitter=new k,this.targets=new w,this.targetIndexes=new WeakMap,this.keyframeEffects=new WeakMap,this.computedOptions=new WeakMap,this.animations=new WeakMap,this.computedKeyframes=new WeakMap,this.loop=this.loop.bind(this),this.onVisibilityChange=this.onVisibilityChange.bind(this),this.on("error",console.error),this.updateOptions(e),this.mainAnimation&&(this.visibilityPlayState=this.getPlayState(),t.pauseOnPageHidden&&document.addEventListener("visibilitychange",this.onVisibilityChange,!1)),this.newPromise()}return t.prototype.onVisibilityChange=function(){document.hidden?(this.visibilityPlayState=this.getPlayState(),this.is("running")&&(this.loop(),this.pause())):"running"==this.visibilityPlayState&&this.is("paused")&&this.play()},t.prototype.newPromise=function(){var t=this;return this.promise=new Promise((function(e,n){var r,i,o,a;null==(i=null==(r=null==t?void 0:t.emitter)?void 0:r.once)||i.call(r,"finish",(function(){return e([t])})),null==(a=null==(o=null==t?void 0:t.emitter)?void 0:o.once)||a.call(o,"error",(function(t){return n(t)}))})),this.promise},t.prototype.then=function(t,e){var n,r;return t=null==t?void 0:t.bind(this),e=null==e?void 0:e.bind(this),null==(r=null==(n=null==this?void 0:this.promise)?void 0:n.then)||r.call(n,t,e),this},t.prototype.catch=function(t){var e,n;return t=null==t?void 0:t.bind(this),null==(n=null==(e=this.promise)?void 0:e.catch)||n.call(e,t),this},t.prototype.finally=function(t){var e,n;return t=null==t?void 0:t.bind(this),null==(n=null==(e=this.promise)?void 0:e.finally)||n.call(e,t),this},t.prototype.loop=function(){this.stopLoop(),this.animationFrame=window.requestAnimationFrame(this.loop),this.emit("update",this.getProgress(),this)},t.prototype.stopLoop=function(){window.cancelAnimationFrame(this.animationFrame)},t.prototype.allAnimations=function(t){var e=this;return this.targets.forEach((function(n){var r=e.keyframeEffects.get(n),i=e.animations.get(r);return t(i,n)})),this},t.prototype.all=function(t){return this.mainAnimation&&t(this.mainAnimation,this.mainElement),this.allAnimations(t),this},t.prototype.beginEvent=function(){0==this.getProgress()&&this.emit("begin",this)},t.prototype.play=function(){var t=this.getPlayState();return this.beginEvent(),this.all((function(t){return t.play()})),this.emit("play",t,this),this.is(t)||this.emit("playstate-change",t,this),this.loop(),this},t.prototype.pause=function(){var t=this.getPlayState();return this.all((function(t){return t.pause()})),this.emit("pause",t,this),this.is(t)||this.emit("playstate-change",t,this),this.stopLoop(),this},t.prototype.reverse=function(){return this.all((function(t){return t.reverse()})),this},t.prototype.reset=function(){return this.setProgress(0),this.options.autoplay?this.play():this.pause(),this},t.prototype.cancel=function(){return this.all((function(t){return t.cancel()})),this},t.prototype.finish=function(){return this.all((function(t){return t.finish()})),this},t.prototype.stop=function(){var t=this;this.cancel(),this.stopLoop(),document.removeEventListener("visibilitychange",this.onVisibilityChange,!1),this.targets.forEach((function(e){return t.removeTarget(e)})),this.emit("stop"),this.emitter.clear(),this.mainkeyframeEffect=null,this.mainAnimation=null,this.mainElement=null,this.promise=null,this.computedOptions=null,this.animations=null,this.keyframeEffects=null,this.emitter=null,this.targets=null,this.options=null,this.properties=null},t.prototype.getAnimation=function(t){var e=this.keyframeEffects.get(t);return this.animations.get(e)},t.prototype.getTiming=function(t){var e,n,r,i,o=null!=(e=this.computedOptions.get(t))?e:{},a=null!=(i=null==(r=(n=this.keyframeEffects.get(t)).getTiming)?void 0:r.call(n))?i:{};return y(y({},o),a)},t.prototype.getCurrentTime=function(){return this.mainAnimation.currentTime},t.prototype.getProgress=function(){return this.getCurrentTime()/this.totalDuration*100},t.prototype.getSpeed=function(){return this.mainAnimation.playbackRate},t.prototype.getPlayState=function(){return this.mainAnimation.playState},t.prototype.is=function(t){return this.getPlayState()==t},t.prototype.setCurrentTime=function(t){return this.all((function(e){return e.currentTime=t})),this.emit("update",this.getProgress()),this},t.prototype.setProgress=function(t){var e=t/100*this.totalDuration;return this.setCurrentTime(e),this},t.prototype.setSpeed=function(t){return void 0===t&&(t=1),this.maxSpeed=t,this.all((function(e){e.updatePlaybackRate?e.updatePlaybackRate(t):e.playbackRate=t})),this},t.prototype.createArrayOfComputedOptions=function(t,e){var n=this,r=[];return this.targets.forEach((function(i,o){var a,s,u=null!=(a=n.computedOptions.get(i))?a:{},c=function(e){var r,i,o=e;return"loop"==e&&(o="iterations"),"fillMode"==e&&(o="fill"),null!=(i=null!=(r=t[e])?r:u[o])?i:n.options[e]},h=Object.assign({easing:c("easing"),iterations:c("loop"),direction:c("direction"),endDelay:c("endDelay"),duration:c("duration"),speed:c("speed"),delay:c("delay"),timelineOffset:c("timelineOffset"),keyframes:c("keyframes")},null!=(s=c("extend"))?s:{}),l=G(h,[o,e,i],n);"string"==typeof l.easing&&(l.easing=B(l.easing)),!0===l.iterations&&(l.iterations=1/0),l.fill=c("fillMode");var f=l,p=f.timelineOffset,g=f.speed,d=f.endDelay,x=f.delay,b=f.duration,w=f.iterations,A=m(f,["timelineOffset","speed","endDelay","delay","duration","iterations"]);w=Number(w),b=Number(b),d=Number(d),g=Number(g);var E=(x=Number(x)+Number(p))+b*w+d;n.totalDuration<E&&(n.totalDuration=E),r[o]=v(y({},A),{speed:g,tempDurations:E,endDelay:d,delay:x,duration:b,iterations:w}),n.minDelay>x&&(n.minDelay=x),n.maxSpeed>g&&(n.maxSpeed=g)})),r},t.prototype.createAnimations=function(t,e){var n=this,i=t.arrOfComputedOptions,o=t.padEndDelay,a=t.oldCSSProperties,s=t.onfinish,u=t.oncancel,c=t.timeline;this.targets.forEach((function(t,h){var l,f,p,g,d,x=i[h],b=x.speed,w=x.keyframes,A=x.tempDurations,E=m(x,["speed","keyframes","tempDurations"]);o&&0==E.endDelay&&Math.abs(E.iterations)!=Math.abs(1/0)&&(E.endDelay=n.totalDuration-A);var M=w;"object"==typeof M&&(M=function(t){for(var e=new Set,n=Object.keys(t),i=n.length,o=0;o<i;o++)for(var a=""+n[o],s=t[a],u=a.split(","),c=u.length,h=0;h<c;h++){var l=P(u[h]);e.add(v(y({},s),{offset:l}))}return r([],e).sort((function(t,e){return t.offset-e.offset}))}(M));var k,L,S=null!=(l=n.computedKeyframes.get(t))?l:{},T=Object.assign({},a,S),O=V(T,(function(t,e){var r;return null!=(r=n.properties[e])?r:t}));if(d=C(M)?M:O,Array.isArray(d))g=function(t){return t.map((function(t){var e=H(t),n=e.translate,r=e.translate3d,i=e.translateX,o=e.translateY,a=e.translateZ,s=e.rotate,u=e.rotate3d,c=e.rotateX,h=e.rotateY,l=e.rotateZ,f=e.scale,p=e.scale3d,g=e.scaleX,d=e.scaleY,y=e.scaleZ,v=e.skew,x=e.skewX,b=e.skewY,w=e.perspective;return e.easing,e.iterations,e.offset,[m(e,["translate","translate3d","translateX","translateY","translateZ","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","easing","iterations","offset"]),n=j(n),r=j(r),i=j(i)[0],o=j(o)[0],a=j(a)[0],s=I(s),u=D(u),c=I(c)[0],h=I(h)[0],l=I(l)[0],f=D(f),p=D(p),g=D(g)[0],d=D(d)[0],y=D(y)[0],v=I(v),x=I(x)[0],b=I(b)[0],w=j(w)[0]]})).map((function(t){var e=t[0],n=t.slice(1),r=z(n);return e=V(e,(function(t,e){var n;if(!/color/gi.test(e)){var r=/rotate/gi.test(e),i=new RegExp(F,"gi").test(e);if(r||i)return r?n=I:i&&(n=j),n(Z(t).trim().split(" ")).join(" ")}return Z(t)})),Object.assign({},C(r)?{transform:r}:null,e)}))}(g=d.map((function(t){var e=Q(["speed","loop"],t),n=e.easing,r=e.offset,i=m(e,["easing","offset"]);return Object.assign({},i,"string"==typeof n?{easing:B(n)}:null,"string"==typeof r||"number"==typeof r?{offset:P(r)}:null)})));else{var _=Q(["keyframes"],d),q=G(_,[h,e,t],n),N=q.offset,R=m(q,["offset"]);R=X(R);var Y=N;g=Object.assign({},R,C(Y)?{offset:Y.map(P)}:null)}n.keyframeEffects.has(t)?(L=n.keyframeEffects.get(t),k=n.animations.get(L),null==(f=null==L?void 0:L.setKeyframes)||f.call(L,g),null==(p=null==L?void 0:L.updateTiming)||p.call(L,E)):(L=new KeyframeEffect(t,g,E),k=new Animation(L,c),n.keyframeEffects.set(t,L),n.animations.set(L,k)),k.playbackRate=b,k.onfinish=function(){"function"==typeof s&&s.call(n,t,h,e,k)},k.oncancel=function(){"function"==typeof u&&u.call(n,t,h,e,k)},n.computedOptions.set(t,E),n.computedKeyframes.set(t,g)}))},t.prototype.updateOptions=function(t){var e,n,i=this;void 0===t&&(t={});try{var o=function(t){var e,n=t,r=n.options,i=m(n,["options"]),o=r instanceof $?r.options:Array.isArray(r)?null==(e=null==r?void 0:r[0])?void 0:e.options:r;return Object.assign({},o,i)}(t);this.options=Object.assign({},W,this.options,o);var a=["easing","loop","endDelay","duration","speed","delay","timelineOffset","direction","extend","fillMode","offset"],s=Q(a,this.options),u=s.padEndDelay,c=s.autoplay,h=s.target,l=s.targets,f=s.timeline,p=s.onfinish,g=s.oncancel,d=m(s,["padEndDelay","autoplay","target","targets","timeline","onfinish","oncancel"]);this.properties=Q(r(r([],a),["keyframes","padEndDelay","onfinish","oncancel","autoplay","target","targets","timeline"]),o);var y=this.targets.values(),v=r([],new Set(r(r(r([],y),Y(l)),Y(h))));this.targets.clear(),v.forEach((function(t,e){i.targets.set(e,t),i.targetIndexes.set(t,e)}));var x=this.targets.size,b=this.createArrayOfComputedOptions(o,x);if(this.createAnimations({arrOfComputedOptions:b,padEndDelay:u,oldCSSProperties:d,onfinish:p,oncancel:g,timeline:f},x),x<=0&&(this.maxSpeed==1/0&&(this.maxSpeed=Number(this.options.speed)),this.minDelay==1/0&&(this.minDelay=Number(this.options.delay)+Number(this.options.timelineOffset)),this.totalDuration==-1/0&&(this.totalDuration=Number(this.options.duration))),this.mainAnimation?(null==(n=null==(e=this.mainkeyframeEffect)?void 0:e.updateTiming)||n.call(e,{duration:this.totalDuration}),this.mainkeyframeEffect.setKeyframes&&this.mainkeyframeEffect.updateTiming||console.warn("@okikio/animate - `KeyframeEffect.setKeyframes` and/or `KeyframeEffect.updateTiming` are not supported in this browser.")):(this.mainkeyframeEffect=new KeyframeEffect(this.mainElement,null,{duration:this.totalDuration}),this.mainAnimation=new Animation(this.mainkeyframeEffect,f)),this.mainAnimation.playbackRate=this.maxSpeed,this.mainAnimation.onfinish=function(){if(i.mainAnimation){var t=i.getPlayState();i.is(t)||i.emit("playstate-change",t,i),i.loop(),i.stopLoop()}i.emit("finish",i)},this.mainAnimation.oncancel=function(){if(i.mainAnimation){var t=i.getPlayState();i.is(t)||i.emit("playstate-change",t,i),i.loop(),i.stopLoop()}i.emit("cancel",i)},c){var w=window.setTimeout((function(){i.emit("begin",i),w=window.clearTimeout(w)}),0);this.play()}else this.pause()}catch(t){this.emit("error",t)}},t.prototype.add=function(t){var e=this.getProgress(),n=this.is("running"),r=this.is("paused");this.updateOptions({target:t}),this.setProgress(e),n?this.play():r&&this.pause()},t.prototype.removeTarget=function(t){var e=this.keyframeEffects.get(t);this.animations.delete(e),e=null,this.computedKeyframes.delete(t),this.computedOptions.delete(t),this.keyframeEffects.delete(t);var n=this.targetIndexes.get(t);this.targets.delete(n),this.targetIndexes.delete(t)},t.prototype.remove=function(t){this.removeTarget(t);var e=new Set([].concat(this.targets.values()));this.options.target=r([],e),this.options.targets=[],e.clear(),e=null;var n=this.getProgress(),i=this.is("running"),o=this.is("paused");this.updateOptions(),i?this.play():o&&this.pause(),this.setProgress(n)},t.prototype.on=function(t,e,n){var r;return null==(r=null==this?void 0:this.emitter)||r.on(t,e,null!=n?n:this),this},t.prototype.off=function(t,e,n){var r;return null==(r=null==this?void 0:this.emitter)||r.off(t,e,null!=n?n:this),this},t.prototype.emit=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return null==(e=null==this?void 0:this.emitter)||e.emit.apply(e,r([t],n)),this},t.prototype.toJSON=function(){return this.options},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return"Animate"},enumerable:!1,configurable:!0}),t}();$.pauseOnPageHidden=!0;var J=function(t){return void 0===t&&(t={}),new $(t)},tt={wrapperAttr:"wrapper",headers:[],preventSelfAttr:'prevent="self"',preventAllAttr:'prevent="all"',transitionAttr:"transition",timeout:2e3,maxPages:5,resizeDelay:100,onTransitionPreventClick:!0,cacheIgnore:!1,prefetchIgnore:!1,preventURLs:[],stickyScroll:!1,forceOnError:!0,ignoreHashAction:!1,transitions:[]},et=function(t,e,n){void 0===n&&(n=!0);var r=t.prefix,i="data"+(r?"-"+r:"")+"-"+t[e];return n?"["+i+"]":i},nt=function(){function t(){}return t.prototype.install=function(){},t.prototype.register=function(t,e){return this.manager=t,this.app=t.app,this.config=t.config,this.emitter=t.emitter,this.key=e,this.install(),this},t.prototype.uninstall=function(){},t.prototype.unregister=function(){this.uninstall(),this.manager.remove(this.key),this.key=null,this.manager=null,this.app=null,this.config=null,this.emitter=null},t}(),rt=function(t){function n(e){var n=t.call(this)||this;return n.app=e,n.config=e.config,n.emitter=e.emitter,n}return e(n,t),n.prototype.set=function(e,n){return t.prototype.set.call(this,e,n),n.register(this,e),this},n}(w),it=function(t){return void 0===t&&(t=window.location.href),t instanceof URL?t:new URL(t,window.location.origin)},ot=function(t){var e=it(t);return""+e.pathname+e.hash},at=function(t){return it(t).toString().replace(/(\/#.*|\/|#.*)$/,"")},st=function(t,e){return at(t)===at(e)},ut=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.init=function(){},n.prototype.boot=function(){this.initEvents()},n.prototype.initEvents=function(){},n.prototype.stopEvents=function(){},n.prototype.stop=function(){this.stopEvents(),this.unregister()},n}(nt),ct=function(t){function n(e){return t.call(this,e)||this}return e(n,t),n.prototype.init=function(){return A(this,"init"),this},n.prototype.boot=function(){return A(this,"boot"),this},n.prototype.stop=function(){return A(this,"stop"),this},n}(rt),ht=function(t,e){return void 0===t&&(t=window.scrollX),void 0===e&&(e=window.scrollY),{x:t,y:e}},lt=function(t){return void 0===t&&(t={url:ot(it()),index:0,transition:"default",data:{scroll:ht(),trigger:"HistoryManager"}}),t},ft=function(t){function n(){var e=t.apply(this,arguments)||this;return e.pointer=-1,e}return e(n,t),n.prototype.init=function(){this.states=[];var t=lt();this.add(t,"replace")},n.prototype.get=function(t){return this.states[t]},n.prototype.add=function(t,e){void 0===e&&(e="push");var n=lt(t),i=this.length;this.states.push(y({},n)),this.pointer=i;var o={index:this.pointer,states:r([],this.states)};return pt(e,n,o),this},n.prototype.remove=function(t){return t?this.states.splice(t,1):this.states.pop(),this.pointer--,this},n.prototype.replace=function(t){return this.states=t,this},n.prototype.set=function(t,e){return this.states[t]=e},Object.defineProperty(n.prototype,"current",{get:function(){return this.get(this.pointer)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"last",{get:function(){return this.get(this.length-1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"previous",{get:function(){return this.pointer<1?null:this.get(this.pointer-1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"length",{get:function(){return this.states.length},enumerable:!1,configurable:!0}),n}(ut),pt=function(t,e,n){var r=[n,"",ot(e.url)];if(window.history)switch(t){case"push":window.history.pushState.apply(window.history,r);break;case"replace":window.history.replaceState.apply(window.history,r)}};function gt(t,e){void 0===e&&(e={});for(var n=function(t){for(var e=[],n=0;n<t.length;){var r=t[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)e.push({type:"CHAR",index:n,value:t[n++]});else{var i=1,o="";if("?"===t[s=n+1])throw new TypeError('Pattern cannot start with "?" at '+s);for(;s<t.length;)if("\\"!==t[s]){if(")"===t[s]){if(0==--i){s++;break}}else if("("===t[s]&&(i++,"?"!==t[s+1]))throw new TypeError("Capturing groups are not allowed at "+s);o+=t[s++]}else o+=t[s++]+t[s++];if(i)throw new TypeError("Unbalanced pattern at "+n);if(!o)throw new TypeError("Missing pattern at "+n);e.push({type:"PATTERN",index:n,value:o}),n=s}else{for(var a="",s=n+1;s<t.length;){var u=t.charCodeAt(s);if(!(u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||95===u))break;a+=t[s++]}if(!a)throw new TypeError("Missing parameter name at "+n);e.push({type:"NAME",index:n,value:a}),n=s}else e.push({type:"CLOSE",index:n,value:t[n++]});else e.push({type:"OPEN",index:n,value:t[n++]});else e.push({type:"ESCAPED_CHAR",index:n++,value:t[n++]});else e.push({type:"MODIFIER",index:n,value:t[n++]})}return e.push({type:"END",index:n,value:""}),e}(t),r=e.prefixes,i=void 0===r?"./":r,o="[^"+dt(e.delimiter||"/#?")+"]+?",a=[],s=0,u=0,c="",h=function(t){if(u<n.length&&n[u].type===t)return n[u++].value},l=function(t){var e=h(t);if(void 0!==e)return e;var r=n[u],i=r.type,o=r.index;throw new TypeError("Unexpected "+i+" at "+o+", expected "+t)},f=function(){for(var t,e="";t=h("CHAR")||h("ESCAPED_CHAR");)e+=t;return e};u<n.length;){var p=h("CHAR"),g=h("NAME"),d=h("PATTERN");if(g||d){var y=p||"";-1===i.indexOf(y)&&(c+=y,y=""),c&&(a.push(c),c=""),a.push({name:g||s++,prefix:y,suffix:"",pattern:d||o,modifier:h("MODIFIER")||""})}else{var v=p||h("ESCAPED_CHAR");if(v)c+=v;else if(c&&(a.push(c),c=""),h("OPEN")){y=f();var m=h("NAME")||"",x=h("PATTERN")||"",b=f();l("CLOSE"),a.push({name:m||(x?s++:""),pattern:m&&!x?o:x,prefix:y,suffix:b,modifier:h("MODIFIER")||""})}else l("END")}}return a}function dt(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function yt(t){return t&&t.sensitive?"":"i"}function vt(t,e,n){return function(t,e,n){void 0===n&&(n={});for(var r=n.strict,i=void 0!==r&&r,o=n.start,a=void 0===o||o,s=n.end,u=void 0===s||s,c=n.encode,h=void 0===c?function(t){return t}:c,l="["+dt(n.endsWith||"")+"]|$",f="["+dt(n.delimiter||"/#?")+"]",p=a?"^":"",g=0,d=t;g<d.length;g++){var y=d[g];if("string"==typeof y)p+=dt(h(y));else{var v=dt(h(y.prefix)),m=dt(h(y.suffix));if(y.pattern)if(e&&e.push(y),v||m)if("+"===y.modifier||"*"===y.modifier){var x="*"===y.modifier?"?":"";p+="(?:"+v+"((?:"+y.pattern+")(?:"+m+v+"(?:"+y.pattern+"))*)"+m+")"+x}else p+="(?:"+v+"("+y.pattern+")"+m+")"+y.modifier;else p+="("+y.pattern+")"+y.modifier;else p+="(?:"+v+m+")"+y.modifier}}if(u)i||(p+=f+"?"),p+=n.endsWith?"(?="+l+")":"$";else{var b=t[t.length-1],w="string"==typeof b?f.indexOf(b[b.length-1])>-1:void 0===b;i||(p+="(?:"+f+"(?="+l+"))?"),w||(p+="(?="+f+"|"+l+")")}return new RegExp(p,yt(n))}(gt(t,n),e,n)}function mt(t,e,n){return t instanceof RegExp?function(t,e){if(!e)return t;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,i=n.exec(t.source);i;)e.push({name:i[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),i=n.exec(t.source);return t}(t,e):Array.isArray(t)?function(t,e,n){var r=t.map((function(t){return mt(t,e,n).source}));return new RegExp("(?:"+r.join("|")+")",yt(n))}(t,e,n):vt(t,e,n)}var xt,bt,wt,At,Et,Mt,kt,Pt,Lt=new DOMParser,St=function(t){function r(e,n){void 0===e&&(e=it()),void 0===n&&(n=document);var r=t.call(this)||this;return r.url=it(e),"string"==typeof n?r.data=n:r.dom=n||document,r}return e(r,t),r.prototype.build=function(){return x(this,null,(function(){var t,e,r,i;return n(this,(function(n){return this.dom instanceof Node||(this.dom=Lt.parseFromString(this.data,"text/html")),this.body instanceof Node||(t=this.dom,e=t.title,r=t.head,i=t.body,this.title=e,this.head=r,this.body=i,this.wrapper=this.body.querySelector(this.wrapperAttr)),[2]}))}))},r.prototype.install=function(){this.wrapperAttr=et(this.config,"wrapperAttr")},r.prototype.uninstall=function(){this.url=null,this.title=null,this.head=null,this.body=null,this.dom=null,this.wrapper=null,this.data=null,this.wrapperAttr=null},r}(nt),Tt=function(t){function r(){var e=t.call(this)||this;return e.loading=new w,e}return e(r,t),r.prototype.install=function(){this.pages=new rt(this.app),this.cacheIgnore=this.config.cacheIgnore;var t=it().pathname;this.set(t,new St),t=null},r.prototype.get=function(t){return this.pages.get(t)},r.prototype.add=function(t){return this.pages.add(t),this},r.prototype.set=function(t,e){return this.pages.set(t,e),this},r.prototype.remove=function(t){return this.pages.remove(t),this},r.prototype.has=function(t){return this.pages.has(t)},r.prototype.clear=function(){return this.pages.clear(),this},Object.defineProperty(r.prototype,"size",{get:function(){return this.pages.size},enumerable:!1,configurable:!0}),r.prototype.keys=function(){return this.pages.keys()},r.prototype.load=function(){return x(this,arguments,(function(t){var e,r,i,o,a,s,u,c;return void 0===t&&(t=it()),n(this,(function(n){switch(n.label){case 0:return e=it(t),r=e.pathname,this.has(r)&&!Ot(r,this.cacheIgnore)?(i=this.get(r),[2,Promise.resolve(i)]):(this.loading.has(r)?o=this.loading.get(r):(o=this.request(r),this.loading.set(r,o)),[4,o]);case 1:return a=n.sent(),this.loading.remove(r),i=new St(e,a),this.set(r,i),this.size>this.config.maxPages&&(s=it(),u=this.keys(),c=st(s,u[0])?u[1]:u[0],this.get(c).unregister(),null,u=null,s=null,c=null),[2,i]}}))}))},r.prototype.request=function(t){return x(this,null,(function(){var e,r,i,o,a,s=this;return n(this,(function(n){switch(n.label){case 0:e=new Headers(this.config.headers),r=window.setTimeout((function(){window.clearTimeout(r);var e=new Error("Request Timed Out!");throw s.emitter.emit("TIMEOUT_ERROR",e,t),e}),this.config.timeout),n.label=1;case 1:return n.trys.push([1,5,,6]),[4,fetch(t,{mode:"same-origin",method:"GET",headers:e,cache:"default",credentials:"same-origin"})];case 2:return i=n.sent(),window.clearTimeout(r),i.status>=200&&i.status<300?[4,i.text()]:[3,4];case 3:return[2,n.sent()];case 4:throw o=new Error(i.statusText||""+i.status),this.emitter.emit("REQUEST_ERROR",o,t),o;case 5:throw a=n.sent(),window.clearTimeout(r),a;case 6:return[2]}}))}))},r}(ut),Ot=function(t,e){if("boolean"==typeof e)return e;var n=[];return!e.every((function(e){return null==mt(e,n,{start:!1,end:!1}).exec(t)}))},_t=function(t,e){void 0===e&&(e=window.location.hash);try{var n="#"==e[0]?e:it(e).hash;if(n.length>1){var r=document.getElementById(n.slice(1));if(r){var i=r.getBoundingClientRect(),o=i.left,a=i.top,s=window.scrollX,u=window.scrollY;return ht(o+s,a+u)}}}catch(t){console.warn("[hashAction] error",t)}return null!=t?t:ht(0,0)},Ct={name:"replace"},qt=function(t){function r(e){var n=t.call(this)||this;return n._arg=e,n}return e(r,t),r.prototype.install=function(){t.prototype.install.call(this);var e=this._arg&&this._arg.length?this._arg:this.config.transitions;this.transitions=new w([["default",Ct],["replace",Ct]].concat(e))},r.prototype.get=function(t){return this.transitions.get(t)},r.prototype.set=function(t,e){return this.transitions.set(t,e),this},r.prototype.add=function(t){return this.transitions.add(t),this},r.prototype.has=function(t){return this.transitions.has(t)},r.prototype.start=function(t,e){return x(this,null,(function(){var r,i,o,a,s,u,c,h=this;return n(this,(function(n){switch(n.label){case 0:if(r=this.transitions.get(t),i=e.oldPage,o=e.newPage,a=e.ignoreHashAction,s=e.trigger,this.emitter.emit("TRANSITION_START",y({transitionName:t},e)),!("wrapper"in i)||!("wrapper"in o))throw"[TransitionManager] either oldPage or newPage aren't instances of the Page Class.\n "+{newPage:o,oldPage:i};if(document.title=""+o.title,u=i.wrapper,c=o.wrapper,!(u instanceof Node&&c instanceof Node))throw"[TransitionManager] the wrapper from the "+(c instanceof Node?"current":"next")+" page cannot be found. The wrapper must be an element that has the attribute "+et(this.config,"wrapperAttr")+".";return r.init&&(null==r||r.init(e)),this.emitter.emit("BEFORE_TRANSITION_OUT",e),r.out?[4,new Promise((function(t){var n=r.out.call(r,v(y({},e),{from:i,done:t}));null==n||n.then(t)}))]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.emitter.emit("AFTER_TRANSITION_OUT",e),[4,new Promise((function(t){u.insertAdjacentElement("beforebegin",c),h.emitter.emit("CONTENT_INSERT",e),t()}))];case 3:return n.sent(),[4,new Promise((function(t){u.remove(),u=null,c=null,h.emitter.emit("CONTENT_REPLACED",e),a||/back|popstate|forward/.test(s)||(e.scroll=_t(e.scroll)),t()}))];case 4:return n.sent(),this.emitter.emit("BEFORE_TRANSITION_IN",e),r.in?[4,new Promise((function(t){var n=r.in.call(r,v(y({},e),{from:i,to:o,done:t}));null==n||n.then(t)}))]:[3,6];case 5:n.sent(),n.label=6;case 6:return this.emitter.emit("AFTER_TRANSITION_IN",e),r.manualScroll||(a||/back|popstate|forward/.test(s)||(e.scroll=_t(e.scroll)),window.scroll(e.scroll.x,e.scroll.y)),this.emitter.emit("TRANSITION_END",y({transitionName:t},e)),[2,e]}}))}))},r}(ut),Nt=function(){function t(t){void 0===t&&(t={}),this.canResize=!0,this.canScroll=!0,this._resize=this._resize.bind(this),this._scroll=this._scroll.bind(this),this._ready=this._ready.bind(this),this.register(t)}return t.prototype.register=function(t){return void 0===t&&(t={}),this.config=function(t){return Object.assign(y({},tt),t)}(t),this.emitter=new k,this.services=new ct(this),this},t.prototype._ready=function(){document.removeEventListener("DOMContentLoaded",this._ready),window.removeEventListener("load",this._ready),this.emitter.emit("READY ready")},t.prototype._resize=function(){var t,e,n=this;this.canResize&&(this.canResize=!1,e=window.requestAnimationFrame((function(){n.emitter.emit("RESIZE resize"),t=window.setTimeout((function(){n.canResize=!0,t=window.clearTimeout(t),e=window.cancelAnimationFrame(e)}),n.config.resizeDelay)})))},t.prototype._scroll=function(){var t,e=this;this.canScroll&&(this.canScroll=!1,t=requestAnimationFrame((function(){e.emitter.emit("SCROLL scroll"),e.canScroll=!0,t=window.cancelAnimationFrame(t)})))},t.prototype.get=function(t){return this.services.get(t)},t.prototype.set=function(t,e){return this.services.set(t,e),this},t.prototype.add=function(t){return this.services.add(t),this},t.prototype.boot=function(){return document.addEventListener("DOMContentLoaded",this._ready),window.addEventListener("load",this._ready),window.addEventListener("resize",this._resize,{passive:!0}),window.addEventListener("scroll",this._scroll,{passive:!0}),this.services.init(),this.services.boot(),this},t.prototype.stop=function(){return window.removeEventListener("resize",this._resize),window.removeEventListener("scroll",this._scroll),this.services.stop(),this.emitter.clear(),this},t.prototype.on=function(t,e){return this.emitter.on(t,e,this),this},t.prototype.off=function(t,e){return this.emitter.off(t,e,this),this},t.prototype.emit=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return(e=this.emitter).emit.apply(e,r([t],n)),this},t}(),Rt=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.install=function(){t.prototype.install.call(this),this.preventURLs=this.config.preventURLs,this.prefetchIgnore=this.config.prefetchIgnore,this.onTransitionPreventClick=this.config.onTransitionPreventClick,this.stickyScroll=this.config.stickyScroll,this.forceOnError=this.config.forceOnError,this.ignoreHashAction=this.config.ignoreHashAction},r.prototype.transitionStart=function(){this.isTransitioning=!0},r.prototype.transitionStop=function(){this.isTransitioning=!1},r.prototype.init=function(){this.onHover=this.onHover.bind(this),this.onClick=this.onClick.bind(this),this.onStateChange=this.onStateChange.bind(this)},r.prototype.boot=function(){t.prototype.boot.call(this)},r.prototype.getTransitionName=function(t){if(!t||!t.getAttribute)return null;var e=t.getAttribute(et(this.config,"transitionAttr",!1));return"string"==typeof e?e:null},r.prototype.validLink=function(t,e,n){var r=!window.history.pushState,i=!t||!n,o=e.metaKey||e.ctrlKey||e.shiftKey||e.altKey,a=t.hasAttribute("target")&&"_blank"===t.target,s=t.protocol!==location.protocol||t.hostname!==location.hostname,u="string"==typeof t.getAttribute("download"),c=t.matches(et(this.config,"preventSelfAttr")),h=Boolean(t.closest(et(this.config,"preventAllAttr"))),l=Ot(it(n).pathname,this.preventURLs),f=ot(it())===ot(it(n));return!(i||r||o||a||s||u||c||h||l||f)},r.prototype.getHref=function(t){return t&&t.tagName&&"a"===t.tagName.toLowerCase()&&"string"==typeof t.href?t.href:null},r.prototype.getLink=function(t){for(var e=t.target,n=this.getHref(e);e&&!n;)e=e.parentNode,n=this.getHref(e);if(e&&this.validLink(e,t,n))return e},r.prototype.onClick=function(t){var e=this.getLink(t);if(e){if(this.isTransitioning&&this.onTransitionPreventClick)return t.preventDefault(),void t.stopPropagation();var n=this.getHref(e);this.emitter.emit("ANCHOR_CLICK CLICK",t),this.go({href:n,trigger:e,event:t})}},r.prototype.getDirection=function(t){return Math.abs(t)>1?t>0?"forward":"back":0===t?"popstate":t>0?"back":"forward"},r.prototype.force=function(t){window.location.assign(t)},r.prototype.go=function(t){var e=t.href,n=t.trigger,r=void 0===n?"HistoryManager":n,i=t.event;if((!this.isTransitioning||this.onTransitionPreventClick)&&this.manager.has("TransitionManager")&&this.manager.has("HistoryManager")&&this.manager.has("PageManager")){var o=this.manager.get("HistoryManager"),a=ht(0,0),s=o.current,u=s.url;if(!st(u,e)){var c;if(i&&i.state){this.emitter.emit("POPSTATE",i);var h=(p=i.state).index,l=s.index-h;o.replace(p.states),o.pointer=h;var f=o.get(h);c=f.transition,a=f.data.scroll,r=this.getDirection(l),this.emitter.emit("back"===r?"POPSTATE_BACK":"POPSTATE_FORWARD",i)}else{c=this.getTransitionName(r),a=ht();var p=lt({url:e,transition:c,data:{scroll:a}});!this.stickyScroll&&(a=ht(0,0)),o.add(p),this.emitter.emit("HISTORY_NEW_ITEM",i)}return i&&(i.stopPropagation(),i.preventDefault()),this.emitter.emit("GO",i),this.load({oldHref:u,href:e,trigger:r,transitionName:c,scroll:a})}}else this.force(e)},r.prototype.load=function(t){return x(this,arguments,(function(t){var e,r,i,o,a,s,u,c,h,l=t.oldHref,f=t.href,p=t.trigger,g=t.transitionName,d=void 0===g?"default":g,y=t.scroll,v=void 0===y?{x:0,y:0}:y;return n(this,(function(t){switch(t.label){case 0:t.trys.push([0,9,10,11]),e=this.manager.get("TransitionManager"),r=this.manager.get("PageManager"),i=this.ignoreHashAction,o=void 0,a=void 0,this.emitter.emit("NAVIGATION_START",{oldHref:l,href:f,trigger:p,transitionName:d,scroll:v}),e.has(d)||(console.log('[PJAX] transition name "'+d+'" doesn\'t exist, switching to the "default" transition'),d="default"),t.label=1;case 1:return t.trys.push([1,4,,5]),this.transitionStart(),this.emitter.emit("PAGE_LOADING",{href:f,oldHref:l,trigger:p,scroll:v}),[4,r.load(l)];case 2:return a=t.sent(),[4,r.load(f)];case 3:return o=t.sent(),this.emitter.emit("PAGE_LOAD_COMPLETE",{newPage:o,oldPage:a,trigger:p,scroll:v}),a.dom instanceof Element||a.build(),o.build(),[3,5];case 4:return s=t.sent(),console.warn("[PJAX] Page load error",s),[3,5];case 5:return t.trys.push([5,7,,8]),[4,e.start(d,{oldPage:a,newPage:o,trigger:p,scroll:v,ignoreHashAction:i})];case 6:return u=t.sent(),v=u.scroll,[3,8];case 7:return c=t.sent(),console.warn("[PJAX] Transition error",c),[3,8];case 8:return this.emitter.emit("NAVIGATION_END",{oldPage:a,newPage:o,trigger:p,transitionName:d,scroll:v}),[3,11];case 9:return h=t.sent(),this.forceOnError?this.force(f):console.warn(h),[3,11];case 10:return this.transitionStop(),[7];case 11:return[2]}}))}))},r.prototype.onHover=function(t){var e=this.getLink(t);if(e&&this.manager.has("PageManager")){var n=this.manager.get("PageManager"),r=it(this.getHref(e)),i=r.pathname;if(this.emitter.emit("ANCHOR_HOVER HOVER",t),!Ot(r.pathname,this.prefetchIgnore)&&(!n.has(i)||Ot(i,n.cacheIgnore)))try{n.load(r),this.emitter.emit("PREFETCH",t)}catch(t){console.warn("[PJAX] Prefetch error",t)}}},r.prototype.onStateChange=function(t){this.go({href:window.location.href,trigger:"popstate",event:t})},r.prototype.initEvents=function(){!0!==this.prefetchIgnore&&(document.addEventListener("mouseover",this.onHover),document.addEventListener("touchstart",this.onHover)),document.addEventListener("click",this.onClick),window.addEventListener("popstate",this.onStateChange)},r.prototype.stopEvents=function(){!0!==this.prefetchIgnore&&(document.removeEventListener("mouseover",this.onHover),document.removeEventListener("touchstart",this.onHover)),document.removeEventListener("click",this.onClick),window.removeEventListener("popstate",this.onStateChange)},r}(ut),zt=function(t){function n(e){void 0===e&&(e=[]);var n=t.call(this)||this;n.routes=new w;for(var r=0,i=e;r<i.length;r++){var o=i[r];n.add(o)}return n}return e(n,t),n.prototype.add=function(t){var e=t.path,n=t.method,r=this.parse(e);return this.routes.set(r,n),this},n.prototype.parsePath=function(t){if("string"==typeof t||t instanceof RegExp||Array.isArray(t)){return mt(t,[],{start:!1,end:!1})}if("boolean"==typeof t)return t?/.*/:t;throw"[Router] only regular expressions, strings, booleans and arrays of regular expressions and strings are accepted as paths."},n.prototype.isPath=function(t){return"string"==typeof t||t instanceof RegExp||"boolean"==typeof t||Array.isArray(t)},n.prototype.parse=function(t){var e=t,n={from:/.*/,to:/.*/};if(this.isPath(t))n={from:!0,to:t};else{if(!this.isPath(e.from)||!this.isPath(e.to))throw"[Router] path is neither a string, regular expression, or a { from, to } object.";n=Object.assign({},n,e)}var r=n.from,i=n.to;return{from:this.parsePath(r),to:this.parsePath(i)}},n.prototype.route=function(){if(this.manager.has("HistoryManager")){var t=this.manager.get("HistoryManager"),e=ot(it((t.length>1?t.previous:t.current).url)),n=ot(it());this.routes.forEach((function(t,r){var i=r.from,o=r.to;if("boolean"==typeof i&&"boolean"==typeof o)throw"[Router] path ({ from: "+i+", to: "+o+" }) is not valid, remember paths can only be strings, regular expressions, or a boolean; however, both the from and to paths cannot be both booleans.";var a=i,s=o;i instanceof RegExp&&i.test(e)&&(a=i.exec(e)),o instanceof RegExp&&o.test(n)&&(s=o.exec(n)),(Array.isArray(s)&&Array.isArray(a)||Array.isArray(s)&&0==a&&!o.test(e)||Array.isArray(a)&&0==s&&!i.test(n))&&t({from:a,to:s,path:{from:e,to:n}})}))}else console.warn("[Route] HistoryManager is missing.")},n.prototype.initEvents=function(){this.emitter.on("READY",this.route,this),this.emitter.on("CONTENT_REPLACED",this.route,this)},n.prototype.stopEvents=function(){this.emitter.off("READY",this.route,this),this.emitter.off("CONTENT_REPLACED",this.route,this)},n}(ut),Dt={name:"default",duration:500,manualScroll:!0,out:function(t){var e=t.from,n=this.duration,r=e.wrapper;return J({target:r,opacity:[1,0],duration:n}).on("finish",(function(){this.stop()}))},in:function(t){var e=t.to,n=t.scroll,r=this.duration,i=e.wrapper;return window.scroll(n.x,n.y),J({target:i,opacity:[0,1],duration:r}).then((function(){this.stop()}))}},jt={name:"big",delay:200,durationPerAnimation:700,manualScroll:!0,init:function(){this.mainElement=document.getElementById("big-transition"),this.logoElement=this.mainElement.querySelector("#logo"),this.horizontalElements=Array.from(this.mainElement.querySelectorAll("#big-transition-horizontal div")),this.maxLength=this.horizontalElements.length},out:function(t){var e=this,r=t.from,i=t.done,o=this.durationPerAnimation,a=this.delay,s=r.wrapper;x(e,null,(function(){var t,e,r,u;return n(this,(function(n){switch(n.label){case 0:return t=Object.assign({},s.style),this.mainElement.style.opacity="1",this.mainElement.style.visibility="visible",J({target:s,opacity:[1,0],duration:o,onfinish:function(t){t.style.opacity="0"}}).then((function(){this.stop()})),[4,J({target:this.horizontalElements,scaleX:[0,1],delay:function(t){return a*(t+1)},onfinish:function(t){t.style.transform="scaleX(1)"},easing:"out-cubic",duration:500})];case 1:return e=n.sent()[0],s.style.opacity="1",Object.assign(s.style,t),this.logoElement.style.visibility="visible",[4,J({target:this.logoElement,opacity:[0,1],duration:500,onfinish:function(t){t.style.opacity="1"}})];case 2:return(r=n.sent()[0]).on("stop",(function(){console.log("`anim3` of the BigTransition has stopped")})),[4,J({options:r,opacity:[1,0],onfinish:function(t){t.style.opacity="0"},delay:1500})];case 3:return u=n.sent()[0],this.logoElement.style.visibility="hidden",e.stop(),r.stop(),u.stop(),i(),[2]}}))}))},in:function(t){var e=this,r=t.to,i=t.scroll,o=this.durationPerAnimation,a=this.delay,s=r.wrapper;return window.scroll(i.x,i.y),new Promise((function(t){return x(e,null,(function(){var e,r;return n(this,(function(n){switch(n.label){case 0:return e=J({target:s,opacity:[0,1],duration:o}).then((function(){e.stop()})),[4,J({target:this.horizontalElements,scaleX:[1,0],delay:function(t){return a*(t+1)},onfinish:function(t){t.style.transform="scaleX(0)"},easing:"out-cubic",duration:500})];case 1:return r=n.sent()[0],this.mainElement.style.opacity="0",this.mainElement.style.visibility="hidden",r.stop(),t(),[2]}}))}))}))}},It={name:"slide",duration:500,direction:"right",init:function(t){document.documentElement.classList.add("no-overflow-x");var e=t.trigger;e instanceof Node&&e.hasAttribute("data-direction")?this.direction=e.getAttribute("data-direction"):this.direction="right"},out:function(t){var e=t.from,n=this.duration,r=this.direction,i=e.wrapper;return J({target:i,translateX:[0,25*("left"===r?-1:1)+"%"],opacity:[1,0],duration:n,easing:"in-quint"}).then((function(){this.stop()}))},in:function(t){return x(this,arguments,(function(t){var e,r,i,o=t.to;return n(this,(function(t){switch(t.label){case 0:return e=this.duration,r=o.wrapper,[4,i=J({target:r,translateX:[25*("right"===this.direction?-1:1)+"%",0],opacity:[0,1],duration:e,easing:"out-quint"})];case 1:return t.sent(),document.documentElement.classList.remove("no-overflow-x"),i.stop(),[2]}}))}))}},Ht=v(y({},It),{name:"slide-left",direction:"left"}),Zt=v(y({},It),{name:"slide-right",direction:"right"}),Ft=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.init=function(){this.navbar=document.querySelector(".navbar"),this.collapseSection=this.navbar.querySelector(".navbar-collapse.mobile"),this.navbarList=this.navbar.querySelector(".navbar-list"),this.elements=Array.from(this.navbar.querySelectorAll(".navbar-list a")),this.menu=this.navbar.querySelector(".navbar-toggle"),this.toggleStatus=!1,this.fixTabindex(),this.toggleClick=this.toggleClick.bind(this)},n.prototype.activateLink=function(){for(var t=window.location.href,e=0,n=this.elements;e<n.length;e++){var r=n[e],i=r.getAttribute("data-path")||r.href;if(!i||i.length<1)return;var o=new RegExp(i).test(t),a=r.classList.contains("active");o&&a||r.classList.toggle("active",o)}this.toggleStatus&&this.toggleClick()},n.prototype.fixTabindex=function(){for(var t=0,e=this.elements;t<e.length;t++){e[t].setAttribute("tabindex",""+(this.toggleStatus?0:-1))}},n.prototype.toggleClick=function(){var t,e;null==(e=null==(t=this.collapseSection.style)?void 0:t.setProperty)||e.call(t,"--height",this.navbarList.clientHeight+"px"),this.toggleStatus=!this.toggleStatus,this.collapseSection.classList.toggle("collapse",!this.toggleStatus),this.collapseSection.classList.toggle("show",this.toggleStatus),this.fixTabindex()},n.prototype.scroll=function(){this.navbar.classList.toggle("active-shadow",window.scrollY>=5)},n.prototype.initEvents=function(){this.menu.addEventListener("click",this.toggleClick),this.emitter.on("scroll",this.scroll,this),this.emitter.on("READY",this.activateLink,this),this.emitter.on("GO",this.activateLink,this)},n.prototype.stopEvents=function(){this.navbar.removeEventListener("click",this.toggleClick),this.emitter.off("scroll",this.scroll,this),this.emitter.off("READY",this.activateLink,this),this.emitter.off("GO",this.activateLink,this)},n.prototype.uninstall=function(){for(;this.elements.length;)this.elements.pop();this.elements=null,this.menu=null,this.navbar=null},n}(ut),Xt=(xt=b(),function(t,e,n){if(e&&"object"==typeof e||"function"==typeof e)for(var r=function(r){p.call(t,r)||"default"===r||a(t,r,{get:function(){return e[r]},enumerable:!(n=u(e,r))||n.enumerable})},i=0,o=h(e);i<o.length;i++)r(o[i]);return t}((bt=a(null!=xt?o(f(xt)):{},"default",xt&&xt.__esModule&&"default"in xt?{get:function(){return xt.default},enumerable:!0}:{value:xt,enumerable:!0}),a(bt,"__esModule",{value:!0})),xt)),Yt=function(t,e){var n,r=document.querySelector(t+" #playstate-toggle"),i=document.querySelector(t+" #progress"),o=document.querySelector(t+" #progress-output"),a=function(){"idle"==(n=e[0].getPlayState())?n="paused":"pending"==n&&(n="running"),r.setAttribute("data-playstate",n)};e[0].on("finish begin",a).on("update",(function(t){t=t.toFixed(4),i.value=""+t,o.textContent=Math.round(t)+"%"}));var s=function(){e[0].is("running")?A(e,"pause"):e[0].is("finished")?A(e,"reset"):A(e,"play"),a()},u=function(){var t=Number(i.value);A(e,"setProgress",t),A(e,"pause")},c=function(){A(e,"paused"!==n?"play":"pause"),a()};r.addEventListener("click",s),i.addEventListener("input",u),i.addEventListener("change",c),e[0].on("stop",(function(){r.removeEventListener("click",s),i.removeEventListener("input",u),i.removeEventListener("change",c),e=null}))},Vt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},Gt=new zt,Kt=new Rt,Ut=new Ft,Bt=new Nt({transitions:[["default",Dt],["BigTransition",jt],["Slide",It],["SlideLeft",Ht],["SlideRight",Zt]]});Bt.set("HistoryManager",new ft).set("PageManager",new Tt).set("TransitionManager",new qt).add(Ut).add(Gt).add(Kt),Gt.add({path:{from:"/animate(.html)?",to:!1},method:function(){null==wt||wt.stop(),null==At||At.stop(),null==Et||Et.stop(),null==Mt||Mt.stop(),null==kt||kt.stop(),null==Pt||Pt.stop()}}).add({path:/\/animate(.html)?/,method:function(){!function(){var t=".morph-demo",e=document.querySelector(".morph-demo #using-d"),n=document.querySelector(".morph-demo #using-flubber");if(e){var r=getComputedStyle(e);wt=J({target:e,duration:1800,easing:"ease",loop:4,direction:"alternate",d:[r.getPropertyValue("d"),'path("M2,5 S2,14 4,5 S7,8 8,4")'],stroke:[r.getPropertyValue("stroke"),"rgb(96, 165, 250)"]})}if(e&&n){r=getComputedStyle(n);var i=n.getAttribute("d"),o=document.querySelector(".empty"),a={duration:1800,easing:"ease",loop:4,fillMode:"both",direction:"alternate"};Et=J({target:o,options:a,opacity:[0,1]}),At=J({target:n,options:a,fill:[r.getPropertyValue("stroke"),"rgb(96, 165, 250)"],"--stroke":[r.getPropertyValue("stroke"),"rgb(96, 165, 250)"]});var s=(0,Xt.interpolate)(i,"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z",{maxSegmentLength:.1});try{var u=getComputedStyle(o);Et.on("update",(function(){var t=Number(u.getPropertyValue("opacity")),e=s(t);n.setAttribute("d",""+e)}))}catch(t){null==Et||Et.stopLoop(),console.log(t)}Yt(t,[Et,wt,At])}}(),function(){var t=".playback-demo",e=document.querySelectorAll(t+" .el");if(e.length){Mt=J({target:e,"background-color":function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[2],r=[Vt(0,255),Vt(0,255),Vt(0,255)],i=r[0],o=r[1],a=r[2];return[getComputedStyle(n).getPropertyValue("background-color"),"rgb("+i+", "+o+", "+a+")"]},"translate-x":function(){return[0,Vt(50,400)]},translateY:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[1];return[0,Vt(-50,50)*n]},scale:function(){return[1,1+Vt(.025,1.75)]},opacity:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[1];return[.5,.5+Math.min(Vt(.025,n)/n,.5)]},rotate:function(){return[0,Vt(-360,360)]},borderRadius:function(){return["3px",Vt(10,35)+"%"]},duration:function(){return Vt(1200,1800)},delay:function(){return Vt(0,400)},loop:2,speed:function(t){return 1.5-.125*t},fillMode:"both",direction:"alternate",easing:"in-out-back",padEndDelay:!0,autoplay:!0});var n=document.querySelector("#add-el"),r=document.querySelector("#remove-el"),i=document.querySelector(".el-placement"),o=document.createElement("div");o.className="contain",o.innerHTML='\n            <div class="el"></div>\n            <div class="el-initial"></div>'.trim(),n.onclick=function(){var t=o.cloneNode(!0),e=t.querySelector(".el");i.appendChild(t),Mt.add(e);var n=J({target:t,opacity:[0,1],height:[0,"4vmin"],marginBottom:[0,5],fillMode:"forwards",duration:400,easing:"out"}).then((function(){n.stop(),n=null,t=null,e=null}))},r.onclick=function(){var t=i.querySelector(".contain"),e=null==t?void 0:t.querySelector(".el");Mt.remove(e);var n=getComputedStyle(t),r=n.getPropertyValue("margin-bottom"),o=n.getPropertyValue("height"),a=J({target:t,opacity:[1,0],height:[o,0],"margin-bottom":[r,0],fillMode:"forwards",duration:400,easing:"out"}).then((function(){null==t||t.remove(),a.stop(),a=null,t=null,e=null}))},Yt(t,[Mt])}}(),function(){var t={padEndDelay:!0,easing:"linear",duration:2e3,loop:4,speed:1},e=document.querySelector(".motion-path .el-1");e&&(kt=J(y({target:e,offsetDistance:["0%","100%"]},t)));var n=document.querySelector(".motion-path path"),i=document.querySelector(".motion-path .el-2");if(n&&i){for(var o=new Set,a=[],s=n.getTotalLength(),u=n.getPointAtLength(0),c=0;c<s;c++){var h=n.getPointAtLength(c),l=h.x,f=h.y;o.add([l,f]);var p=c-1>=1?n.getPointAtLength(c-1):u,g=p.x,d=p.y,v=c+1>=1?n.getPointAtLength(c+1):u,m=v.x,x=v.y,b=180*Math.atan2(d-x,g-m)/Math.PI;a.push(b)}Pt=J(y({target:i,translate:r([],o),rotate:a,fillMode:"both"},t)),Yt(".motion-path-demo",[kt,Pt])}}()}});try{Bt.boot()}catch(t){console.warn("[App] boot failed,",t)}}();