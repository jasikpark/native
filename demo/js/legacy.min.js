var t,e=this&&this.__extends||(t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),n=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=this&&this.__spreadArray||function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t};!function(){var t=Object.create,r=Object.defineProperty,o=Object.defineProperties,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,f=function(t,e,n){return e in t?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},d=function(t,e){for(var n in e||(e={}))p.call(e,n)&&f(t,n,e[n]);if(u)for(var i=0,r=u(e);i<r.length;i++){n=r[i];h.call(e,n)&&f(t,n,e[n])}return t},m=function(t,e){return o(t,a(e))},y=function(t,e){var n={};for(var i in t)p.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&u)for(var r=0,o=u(t);r<o.length;r++){i=o[r];e.indexOf(i)<0&&h.call(t,i)&&(n[i]=t[i])}return n},g=function(t,e){return function(){return e||(0,t[Object.keys(t)[0]])((e={exports:{}}).exports,e),e.exports}},v=function(t,e,n){return new Promise((function(i,r){var o=function(t){try{a(n.next(t))}catch(t){r(t)}},s=function(t){try{a(n.throw(t))}catch(t){r(t)}},a=function(t){return t.done?i(t.value):Promise.resolve(t.value).then(o,s)};a((n=n.apply(t,e)).next())}))},b=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/constants.js":function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._=void 0,t.SPACE=" ",t.FILL="fill",t.NONE="none",t.DRAW_LINE_VERTICAL="V",t.DRAW_LINE_HORIZONTAL="H",t.DRAW_LINE="L",t.CLOSE_PATH="Z",t.MOVE_CURSOR="M",t.DRAW_CURVE_CUBIC_BEZIER="C",t.DRAW_CURVE_SMOOTH="S",t.DRAW_CURVE_QUADRATIC="Q",t.DRAW_CURVE_QUADRATIC_CONTINUATION="T",t.DRAW_ARC="A"}}),A=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/utilities/inspect.js":function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isString=function(t){return"string"==typeof t}}}),w=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/utilities/math.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Math;t.abs=e.abs,t.min=e.min,t.max=e.max,t.floor=e.floor,t.round=e.round,t.sqrt=e.sqrt,t.pow=e.pow,t.cos=e.cos,t.asin=e.asin,t.sin=e.sin,t.tan=e.tan,t.PI=e.PI,t.QUADRATIC_RATIO=2/3,t.EPSILON=t.pow(2,-52)}}),_=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/operators/renderPath.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=b(),n=A(),i=w();t.renderPath=function(t,r){if(void 0===r&&(r=i.round),n.isString(t))return t;for(var o=[],s=0;s<t.length;s++){var a=t[s];o.push(e.MOVE_CURSOR,r(a[0]),r(a[1]),e.DRAW_CURVE_CUBIC_BEZIER);for(var l=void 0,u=2;u<a.length;u+=6){var c=r(a[u]),p=r(a[u+1]),h=r(a[u+2]),f=r(a[u+3]),d=r(a[u+4]),m=r(a[u+5]);c==d&&h==d&&p==m&&f==m&&l==(l=""+c+p+h+f+d+m)||o.push(c,p,h,f,d,m)}}return o.join(e.SPACE)}}}),E=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/utilities/errors.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=b();t.raiseError=function(){throw new Error(Array.prototype.join.call(arguments,e.SPACE))}}}),P=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/utilities/browser.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e="undefined"!=typeof window&&window.navigator.userAgent;t.isEdge=/(MSIE |Trident\/|Edge\/)/i.test(e)}}),O=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/utilities/createNumberArray.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=P().isEdge?Array:Float32Array;t.createNumberArray=function(t){return new e(t)}}}),S=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/operators/computeAbsoluteOrigin.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=w();t.computeAbsoluteOrigin=function(t,n,i){var r=function(t){for(var n=t[0],i=t[1],r=i,o=n,s=2;s<t.length;s+=6){var a=t[s+4],l=t[s+5];n=e.min(n,a),o=e.max(o,a),i=e.min(i,l),r=e.max(r,l)}return{x:n,w:o-n,y:i,h:r-i}}(i);return{x:r.x+r.w*t,y:r.y+r.h*n}}}}),R=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/operators/fillSegments.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=O(),n=S();t.fillSegments=function t(i,r,o){var s=i.length,a=r.length;if(s<a)return t(r,i,o);r.length=s;for(var l=a;l<s;l++){var u=i[l],c=o.x,p=o.y;if(!o.absolute){var h=n.computeAbsoluteOrigin(c,p,u);c=h.x,p=h.y}for(var f=e.createNumberArray(u.length),d=0;d<u.length;d+=2)f[d]=c,f[d+1]=p;r[l]=f}}}}),T=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/operators/rotatePoints.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=O();t.rotatePoints=function(t,n){var i,r=t.length,o=r-n,s=e.createNumberArray(n);for(i=0;i<n;i++)s[i]=t[i];for(i=n;i<r;i++)t[i-n]=t[i];for(i=0;i<n;i++)t[o+i]=s[i]}}}),j=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/utilities/distance.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=w();t.distance=function(t,n,i,r){return e.sqrt((t-i)*(t-i)+(n-r)*(n-r))}}}),C=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/operators/normalizePoints.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=T(),n=b(),i=j(),r=S();t.normalizePoints=function(t,o,s,a){var l=a.length;if(a[l-2]===a[0]&&a[l-1]===a[1]){if(!t){var u=r.computeAbsoluteOrigin(o,s,a);o=u.x,s=u.y}var c,p,h=a.slice(2);l=h.length;for(var f=0;f<l;f+=6){var d=i.distance(o,o,h[f],h[f+1]);(p===n._||d<p)&&(p=d,c=f)}e.rotatePoints(h,c),a[0]=h[l-2],a[1]=h[l-1];for(f=0;f<h.length;f++)a[f+2]=h[f]}}}}),k=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/operators/fillPoints.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=w(),n=O();function i(t,e){var i=e-t.length,r=Math.ceil(e/t.length),o=n.createNumberArray(e);o[0]=t[0],o[1]=t[1];for(var s=1,a=1;a<e-1;){o[++a]=t[++s],o[++a]=t[++s],o[++a]=t[++s],o[++a]=t[++s];var l=o[++a]=t[++s],u=o[++a]=t[++s];if(i)for(var c=0;c<r&&i;c++)o[a+5]=o[a+3]=o[a+1]=l,o[a+6]=o[a+4]=o[a+2]=u,a+=6,i-=6}return o}t.fillPoints=function(t,n){for(var r=t[0].length,o=0;o<r;o++){var s=t[0][o],a=t[1][o],l=e.max(s.length+n,a.length+n);t[0][o]=i(s,l),t[1][o]=i(a,l)}},t.fillSubpath=i}}),x=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/operators/perimeterPoints.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=w(),n=j();t.perimeterPoints=function(t){for(var i=t.length,r=t[i-2],o=t[i-1],s=0,a=0;a<i;a+=6)s+=n.distance(t[a],t[a+1],r,o),r=t[a],o=t[a+1];return e.floor(s)}}}),D=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/operators/getSortedSegments.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=x();t.getSortedSegments=function(t){return t.map((function(t){return{points:t,perimeter:e.perimeterPoints(t)}})).sort((function(t,e){return e.perimeter-t.perimeter})).map((function(t){return t.points}))}}}),I=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/operators/normalizePaths.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=R(),n=C(),i=k(),r=b(),o=E(),s=D();t.normalizePaths=function(t,a,l){l.optimize===r.FILL&&(t=s.getSortedSegments(t),a=s.getSortedSegments(a)),t.length!==a.length&&(l.optimize===r.FILL?e.fillSegments(t,a,l.origin):o.raiseError("optimize:none requires equal lengths"));var u=Array(2);if(u[0]=t,u[1]=a,l.optimize===r.FILL){for(var c=l.origin,p=c.x,h=c.y,f=c.absolute,d=0;d<t.length;d++)n.normalizePoints(f,p,h,u[0][d]),n.normalizePoints(f,p,h,u[1][d]);i.fillPoints(u,6*l.addPoints)}return u}}}),L=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/utilities/objects.js":function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fillObject=function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}}}),N=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/operators/interpolatePath.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=_(),n=w(),i=E(),r=I(),o=L(),s=O(),a=b(),l={addPoints:0,optimize:a.FILL,origin:{x:0,y:0},precision:0};function u(t,e,i){var o=r.normalizePaths(t.getData(),e.getData(),i),s=o[0].length;return function(i){if(n.abs(i-0)<n.EPSILON)return t.getStringData();if(n.abs(i-1)<n.EPSILON)return e.getStringData();for(var r=Array(s),a=0;a<s;a++)r[a]=c(o[0][a],o[1][a],i);return r}}function c(t,e,n){for(var i=t.length,r=s.createNumberArray(i),o=0;o<i;o++)r[o]=t[o]+(e[o]-t[o])*n;return r}t.interpolatePath=function(t,r){r=o.fillObject(r,l),(!t||t.length<2)&&i.raiseError("invalid arguments");for(var s=t.length-1,c=Array(s),p=0;p<s;p++)c[p]=u(t[p],t[p+1],r);var h=r.precision?function(t){return t.toFixed(r.precision)}:a._;return function(t){var i=s*t,r=n.min(n.floor(i),s-1);return e.renderPath(c[r]((i-r)/(r+1)),h)}},t.mixPoints=c}}),M=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/utilities/coalesce.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=b();t.coalesce=function(t,n){return t===e._?n:t}}}),z=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/operators/arcToCurve.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=w(),n=120*e.PI/180,i=2*e.PI;t.arcToCurve=function t(r,o,s,a,l,u,c,p,h,f,d,m,y){if(s<=0||a<=0)return[r,o,p,h,p,h];var g,v=e.PI/180*(+l||0),b=e.cos(v),A=e.sin(v),w=!!f;if(!w){var _=r,E=p,P=((r=_*b-o*-A)-(p=E*b-h*-A))/2,O=((o=_*-A+o*b)-(h=E*-A+h*b))/2,S=P*P/(s*s)+O*O/(a*a);S>1&&(s*=S=e.sqrt(S),a*=S);var R=(u===c?-1:1)*e.sqrt(e.abs((s*s*a*a-s*s*O*O-a*a*P*P)/(s*s*O*O+a*a*P*P)));m=R*s*O/a+(r+p)/2,y=R*-a*P/s+(o+h)/2,f=e.asin((o-y)/a),d=e.asin((h-y)/a),r<m&&(f=e.PI-f),p<m&&(d=e.PI-d),f<0&&(f+=i),d<0&&(d+=i),c&&f>d&&(f-=i),!c&&d>f&&(d-=i)}if(e.abs(d-f)>n){var T=d,j=p,C=h;d=f+n*(c&&d>f?1:-1),g=t(p=m+s*e.cos(d),h=y+a*e.sin(d),s,a,l,0,c,j,C,d,T,m,y)}else g=[];var k=4/3*e.tan((d-f)/4);if(g.splice(0,0,2*r-(r+k*s*e.sin(f)),2*o-(o-k*a*e.cos(f)),p+k*s*e.sin(d),h-k*a*e.cos(d),p,h),!w)for(var x=0,D=g.length;x<D;x+=2){var I=g[x],L=g[x+1];g[x]=I*b-L*A,g[x+1]=I*A+L*b}return g}}}),H=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/operators/parsePoints.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=b(),n=M(),i=E(),r=w(),o=z(),s={M:2,H:1,V:1,L:2,Z:0,C:6,S:4,Q:4,T:2,A:7};function a(t,e,i,r,o,s,a){var l=t.x,u=t.y;t.x=n.coalesce(s,l),t.y=n.coalesce(a,u),t.current.push(n.coalesce(e,l),i=n.coalesce(i,u),r=n.coalesce(r,l),o=n.coalesce(o,u),t.x,t.y),t.lc=t.c}function l(t){var n=t.c,i=t.t,r=t.x,o=t.y;if(n===e.DRAW_LINE_VERTICAL)i[0]+=o;else if(n===e.DRAW_LINE_HORIZONTAL)i[0]+=r;else if(n===e.DRAW_ARC)i[5]+=r,i[6]+=o;else for(var s=0;s<i.length;s+=2)i[s]+=r,i[s+1]+=o}function u(t){return t.split(e.SPACE).map(c)}function c(t,e){return 0===e?t:+t}t.parsePoints=function(t){for(var n={x:0,y:0,segments:[]},c=function(t){return t.replace(/[\^\s]*([mhvlzcsqta]|\-?\d*\.?\d+)[,\$\s]*/gi," $1").replace(/([mhvlzcsqta])/gi," $1").trim().split("  ").map(u)}(t),p=0;p<c.length;p++){var h=c[p],f=h[0],d=f.toUpperCase(),m=d!==e.CLOSE_PATH&&d!==f;n.c=d;var y=s[d],g=h,v=1;do{n.t=1===g.length?g:g.slice(v,v+y),m&&l(n);var b=n.t,A=n.x,w=n.y,_=void 0,E=void 0,P=void 0,O=void 0,S=void 0,R=void 0;if(d===e.MOVE_CURSOR)n.segments.push(n.current=[n.x=b[0],n.y=b[1]]);else if(d===e.DRAW_LINE_HORIZONTAL)a(n,e._,e._,e._,e._,b[0],e._);else if(d===e.DRAW_LINE_VERTICAL)a(n,e._,e._,e._,e._,e._,b[0]);else if(d===e.DRAW_LINE)a(n,e._,e._,e._,e._,b[0],b[1]);else if(d===e.CLOSE_PATH)a(n,e._,e._,e._,e._,n.current[0],n.current[1]);else if(d===e.DRAW_CURVE_CUBIC_BEZIER)a(n,b[0],b[1],b[2],b[3],b[4],b[5]),n.cx=b[2],n.cy=b[3];else if(d===e.DRAW_CURVE_SMOOTH){var T=n.lc!==e.DRAW_CURVE_SMOOTH&&n.lc!==e.DRAW_CURVE_CUBIC_BEZIER;a(n,_=T?e._:2*A-n.cx,E=T?e._:2*w-n.cy,b[0],b[1],b[2],b[3]),n.cx=b[0],n.cy=b[1]}else if(d===e.DRAW_CURVE_QUADRATIC){var j=b[0],C=b[1];P=b[2],O=b[3],a(n,A+(j-A)*r.QUADRATIC_RATIO,w+(C-w)*r.QUADRATIC_RATIO,P+(j-P)*r.QUADRATIC_RATIO,O+(C-O)*r.QUADRATIC_RATIO,P,O),n.cx=j,n.cy=C}else if(d===e.DRAW_CURVE_QUADRATIC_CONTINUATION)P=b[0],O=b[1],n.lc===e.DRAW_CURVE_QUADRATIC||n.lc===e.DRAW_CURVE_QUADRATIC_CONTINUATION?(_=A+(2*A-n.cx-A)*r.QUADRATIC_RATIO,E=w+(2*w-n.cy-w)*r.QUADRATIC_RATIO,S=P+(2*A-n.cx-P)*r.QUADRATIC_RATIO,R=O+(2*w-n.cy-O)*r.QUADRATIC_RATIO):(_=S=A,E=R=w),a(n,_,E,S,R,P,O),n.cx=S,n.cy=R;else if(d===e.DRAW_ARC)for(var k=o.arcToCurve(A,w,b[0],b[1],b[2],b[3],b[4],b[5],b[6]),x=0;x<k.length;x+=6)a(n,k[x],k[x+1],k[x+2],k[x+3],k[x+4],k[x+5]);else i.raiseError(n.c," is not supported");v+=y}while(v<g.length)}return n.segments}}}),U=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/getPath.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=E(),n=H(),i=b(),r=/^([#|\.]|path)/i;t.convertToPathData=function(t){if(Array.isArray(t))return{data:t,stringData:i._};var o;if("string"==typeof t&&r.test(t)?t=document.querySelector(t):o=t,"string"==typeof t)return{data:n.parsePoints(t),stringData:o};var s=t;return"PATH"===s.tagName.toUpperCase()?(o=s.getAttribute("d"),{data:n.parsePoints(o),stringData:o}):e.raiseError("Unsupported element ",s.tagName)}}}),q=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/path.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=U(),n=w(),i=b(),r=function(){function t(t){var n=e.convertToPathData(t),i=n.data,r=n.stringData;this.data=i,this.stringData=r}return t.prototype.getData=function(){return this.data},t.prototype.getStringData=function(){return this.stringData||(this.stringData=this.render())},t.prototype.render=function(t){void 0===t&&(t=n.round);for(var e=this.data,r=[],o=0;o<e.length;o++){var s=e[o];r.push(i.MOVE_CURSOR,t(s[0]),t(s[1]),i.DRAW_CURVE_CUBIC_BEZIER);for(var a=void 0,l=2;l<s.length;l+=6){var u=t(s[l]),c=t(s[l+1]),p=t(s[l+2]),h=t(s[l+3]),f=t(s[l+4]),d=t(s[l+5]);u==f&&p==f&&c==d&&h==d&&a==(a=""+u+c+p+h+f+d)||r.push(u,c,p,h,f,d)}}return r.join(i.SPACE)},t}();t.Path=r}}),V=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/interpolate.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=N(),n=q();t.interpolate=function(t,i){return e.interpolatePath(t.map((function(t){return new n.Path(t)})),i||{})}}}),W=g({"node_modules/.pnpm/polymorph-js@1.0.2/node_modules/polymorph-js/lib/index.js":function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=V();t.interpolate=e.interpolate;var n=q();t.Path=n.Path}}),X=function(){function t(t){this.map=new Map(t)}return t.prototype.getMap=function(){return this.map},t.prototype.get=function(t){return this.map.get(t)},t.prototype.keys=function(){return Array.from(this.map.keys())},t.prototype.values=function(){return Array.from(this.map.values())},t.prototype.set=function(t,e){return this.map.set(t,e),this},t.prototype.add=function(t){var e=this.size;return this.set(e,t),this},Object.defineProperty(t.prototype,"size",{get:function(){return this.map.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.map.size},enumerable:!1,configurable:!0}),t.prototype.last=function(t){void 0===t&&(t=1);var e=this.keys()[this.size-t];return this.get(e)},t.prototype.delete=function(t){return this.map.delete(t)},t.prototype.remove=function(t){return this.map.delete(t),this},t.prototype.clear=function(){return this.map.clear(),this},t.prototype.has=function(t){return this.map.has(t)},t.prototype.entries=function(){return this.map.entries()},t.prototype.forEach=function(t,e){return this.map.forEach(t,e),this},t.prototype[Symbol.iterator]=function(){return this.entries()},t}(),Y=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t.forEach((function(t){t[e].apply(t,n)}))},F=function(t){var e=t.callback,n=void 0===e?function(){}:e,i=t.scope,r=void 0===i?null:i,o=t.name;return{callback:n,scope:r,name:void 0===o?"event":o}},Z=function(t){function n(e){void 0===e&&(e="event");var n=t.call(this)||this;return n.name=e,n}return e(n,t),n}(X),B=function(t){function n(){return t.call(this)||this}return e(n,t),n.prototype.getEvent=function(t){var e=this.get(t);return e instanceof Z?e:(this.set(t,new Z(t)),this.get(t))},n.prototype.newListener=function(t,e,n){var i=this.getEvent(t);return i.add(F({name:t,callback:e,scope:n})),i},n.prototype.on=function(t,e,n){var i,r,o=this;if(void 0===t||null==t)return this;"string"==typeof t&&(t=t.trim().split(/\s/g));var s="object"==typeof t&&!Array.isArray(t),a=s?e:n;return s||(r=e),Object.keys(t).forEach((function(e){i=s?e:t[e],s&&(r=t[e]),o.newListener(i,r,a)}),this),this},n.prototype.removeListener=function(t,e,n){var i=this.get(t);if(i instanceof Z&&e){var r=F({name:t,callback:e,scope:n});i.forEach((function(t,e){if(t.callback===r.callback&&t.scope===r.scope)return i.remove(e)}))}return i},n.prototype.off=function(t,e,n){var i,r,o=this;if(void 0===t||null==t)return this;"string"==typeof t&&(t=t.trim().split(/\s/g));var s="object"==typeof t&&!Array.isArray(t),a=s?e:n;return s||(r=e),Object.keys(t).forEach((function(e){i=s?e:t[e],s&&(r=t[e]),"function"==typeof r?o.removeListener(i,r,a):o.remove(i)}),this),this},n.prototype.once=function(t,e,n){var i=this;if(void 0===t||null==t)return this;"string"==typeof t&&(t=t.trim().split(/\s/g));var r="object"==typeof t&&!Array.isArray(t);return Object.keys(t).forEach((function(o){var s=r?o:t[o],a=r?t[o]:e,l=r?e:n,u=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.apply(l,t),i.removeListener(s,u,l)};i.newListener(s,u,l)}),this),this},n.prototype.emit=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return void 0===t||null==t||("string"==typeof t&&(t=t.trim().split(/\s/g)),t.forEach((function(t){var i=e.get(t);i instanceof Z&&i.forEach((function(t){var e=t.callback,i=t.scope;e.apply(i,n)}))}),this)),this},n.prototype.clear=function(){return Y(this,"clear"),t.prototype.clear.call(this),this},n}(X),K=function(t){return"string"==typeof t?t.includes("%")?parseFloat(t)/100:"from"==t?0:"to"==t?1:parseFloat(t):t},Q=function(t){return void 0===t&&(t=""),function(e){return"string"==typeof e?e:""+e+t}},G=Q(),$=Q("px"),J=Q("deg"),tt=function(t){return Array.isArray(t)||"string"==typeof t?("string"==typeof t&&(t=t.split(",")),t):[t]},et=function(t){return Array.isArray(t)||"string"==typeof t?Boolean(t.length):null!=t&&null!=t},nt=function(t){return function(e){return et(e)?tt(e).map((function(e){if("number"!=typeof e&&"string"!=typeof e)return e;var n=Number(e),i=Number.isNaN(n)?"string"==typeof e?e.trim():e:n;return t(i)})):[]}},it=function(t,e){return tt(t).map(nt(e))},rt=["translate","translate3d","translateX","translateY","translateZ","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],ot=function(t){for(var e="",n=rt.length,i=0;i<n;i++){var r=rt[i],o=t[i];et(o)&&(e+=r+"("+(Array.isArray(o)?o.join(", "):o)+") ")}return e.trim()},st=nt(G),at=nt($),lt=nt(J),ut=function(t){for(var e,n,i,r=Object.keys(t),o={},s=0,a=r.length;s<a;s++)e=(i=r[s]).includes("--")?i:(""+i).replace(/-([a-z])/g,(function(t,e){return e.toUpperCase()})),n=t[r[s]],o[e]=n;return o},ct=function(t){return""+t},pt=["margin","padding","size","width","height","left","right","top","bottom","radius","gap","basis","inset","outline-offset","perspective","thickness","position","distance","spacing"].join("|"),ht=function(t){var e=ut(t),n=e.perspective,i=e.rotate,r=e.rotate3d,o=e.rotateX,s=e.rotateY,a=e.rotateZ,l=e.translate,u=e.translate3d,c=e.translateX,p=e.translateY,h=e.translateZ,f=e.scale,d=e.scale3d,m=e.scaleX,g=e.scaleY,v=e.scaleZ,b=e.skew,A=e.skewX,w=e.skewY,_=y(e,["perspective","rotate","rotate3d","rotateX","rotateY","rotateZ","translate","translate3d","translateX","translateY","translateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY"]),E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=[],r=(t=t.map((function(t){var e=tt(t),i=e.length;return i>n&&(n=i),e}))).length,o=0;o<n;o++){i[o]=[];for(var s=0;s<r;s++){var a=t[s][o];et(a)&&(i[o][s]=a)}}return i}(l=it(l,$),u=it(u,$),c=at(c),p=at(p),h=at(h),i=it(i,J),r=it(r,G),o=lt(o),s=lt(s),a=lt(a),f=it(f,G),d=it(d,G),m=st(m),g=st(g),v=st(v),b=it(b,J),A=lt(A),w=lt(w),n=at(n)).filter(et).map(ot);return _=dt(_,(function(t,e){var n;if(!/color/gi.test(e)){var i=/rotate/gi.test(e),r=new RegExp(pt,"gi").test(e);if(i||r)return i?n=lt:r&&(n=at),n(t).map((function(t){var e=t.trim().split(" ");return n(e).join(" ")}))}return[].concat(t).map(ct)})),Object.assign({},et(E)?{transform:E}:null,_)},ft=function(t){return Array.isArray(t)?(e=t.map(ft),[].concat.apply([],e)):"string"==typeof t||t instanceof Node?"string"==typeof(n=t)?Array.from(document.querySelectorAll(n)):[n]:t instanceof NodeList||t instanceof HTMLCollection?Array.from(t):[];var e,n},dt=function(t,e){for(var n,i,r=Object.keys(t),o={},s=0,a=r.length;s<a;s++)i=t[n=r[s]],o[n]=e(i,n,t);return o},mt=function(t,e,n){return dt(t,(function(t){return function(t,e,n){return"function"==typeof t?t.apply(n,e):t}(t,e,n)}))},yt={in:"ease-in",out:"ease-out","in-out":"ease-in-out","in-sine":"cubic-bezier(0.47, 0, 0.745, 0.715)","out-sine":"cubic-bezier(0.39, 0.575, 0.565, 1)","in-out-sine":"cubic-bezier(0.445, 0.05, 0.55, 0.95)","in-quad":"cubic-bezier(0.55, 0.085, 0.68, 0.53)","out-quad":"cubic-bezier(0.25, 0.46, 0.45, 0.94)","in-out-quad":"cubic-bezier(0.455, 0.03, 0.515, 0.955)","in-cubic":"cubic-bezier(0.55, 0.055, 0.675, 0.19)","out-cubic":"cubic-bezier(0.215, 0.61, 0.355, 1)","in-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1)","in-quart":"cubic-bezier(0.895, 0.03, 0.685, 0.22)","out-quart":"cubic-bezier(0.165, 0.84, 0.44, 1)","in-out-quart":"cubic-bezier(0.77, 0, 0.175, 1)","in-quint":"cubic-bezier(0.755, 0.05, 0.855, 0.06)","out-quint":"cubic-bezier(0.23, 1, 0.32, 1)","in-out-quint":"cubic-bezier(0.86, 0, 0.07, 1)","in-expo":"cubic-bezier(0.95, 0.05, 0.795, 0.035)","out-expo":"cubic-bezier(0.19, 1, 0.22, 1)","in-out-expo":"cubic-bezier(1, 0, 0, 1)","in-circ":"cubic-bezier(0.6, 0.04, 0.98, 0.335)","out-circ":"cubic-bezier(0.075, 0.82, 0.165, 1)","in-out-circ":"cubic-bezier(0.785, 0.135, 0.15, 0.86)","in-back":"cubic-bezier(0.6, -0.28, 0.735, 0.045)","out-back":"cubic-bezier(0.175, 0.885, 0.32, 1.275)","in-out-back":"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},gt=Object.keys(yt),vt=function(t){var e=t.replace(/^ease-/,"");return gt.includes(e)?yt[e]:t},bt={keyframes:[],offset:[],loop:1,delay:0,speed:1,endDelay:0,easing:"ease",timelineOffset:0,autoplay:!0,duration:1e3,fillMode:"none",direction:"normal",padEndDelay:!1,timeline:document.timeline,extend:{}},At=function(t,e){for(var n,i,r=d({},e);t.length;){var o=r;o[n=t.pop()];r=y(o,[(i=n,"symbol"==typeof i?i:i+"")])}return r},wt=function(){function t(e){this.options={},this.properties={},this.totalDuration=-1/0,this.minDelay=1/0,this.maxSpeed=1/0,this.emitter=new B,this.targets=new X,this.targetIndexes=new WeakMap,this.keyframeEffects=new WeakMap,this.computedOptions=new WeakMap,this.animations=new WeakMap,this.computedKeyframes=new WeakMap,this.loop=this.loop.bind(this),this.onVisibilityChange=this.onVisibilityChange.bind(this),this.on("error",console.error),this.updateOptions(e),this.mainAnimation&&(this.visibilityPlayState=this.getPlayState(),t.pauseOnPageHidden&&document.addEventListener("visibilitychange",this.onVisibilityChange,!1)),this.newPromise()}return t.prototype.onVisibilityChange=function(){document.hidden?(this.visibilityPlayState=this.getPlayState(),this.is("running")&&(this.loop(),this.pause())):"running"==this.visibilityPlayState&&this.is("paused")&&this.play()},t.prototype.newPromise=function(){var t=this;return this.promise=new Promise((function(e,n){var i,r,o,s;null==(r=null==(i=null==t?void 0:t.emitter)?void 0:i.once)||r.call(i,"finish",(function(){return e([t])})),null==(s=null==(o=null==t?void 0:t.emitter)?void 0:o.once)||s.call(o,"error",(function(t){return n(t)}))})),this.promise},t.prototype.then=function(t,e){var n,i;return t=null==t?void 0:t.bind(this),e=null==e?void 0:e.bind(this),null==(i=null==(n=null==this?void 0:this.promise)?void 0:n.then)||i.call(n,t,e),this},t.prototype.catch=function(t){var e,n;return t=null==t?void 0:t.bind(this),null==(n=null==(e=this.promise)?void 0:e.catch)||n.call(e,t),this},t.prototype.finally=function(t){var e,n;return t=null==t?void 0:t.bind(this),null==(n=null==(e=this.promise)?void 0:e.finally)||n.call(e,t),this},t.prototype.loop=function(){this.stopLoop(),this.animationFrame=window.requestAnimationFrame(this.loop),this.emit("update",this.getProgress(),this)},t.prototype.stopLoop=function(){window.cancelAnimationFrame(this.animationFrame)},t.prototype.allAnimations=function(t){var e=this;return this.targets.forEach((function(n){var i=e.keyframeEffects.get(n),r=e.animations.get(i);return t(r,n)})),this},t.prototype.all=function(t){return this.mainAnimation&&t(this.mainAnimation,this.mainElement),this.allAnimations(t),this},t.prototype.beginEvent=function(){0==this.getProgress()&&this.emit("begin",this)},t.prototype.play=function(){var t=this.getPlayState();return this.beginEvent(),this.all((function(t){return t.play()})),this.emit("play",t,this),this.is(t)||this.emit("playstate-change",t,this),this.loop(),this},t.prototype.pause=function(){var t=this.getPlayState();return this.all((function(t){return t.pause()})),this.emit("pause",t,this),this.is(t)||this.emit("playstate-change",t,this),this.stopLoop(),this},t.prototype.reverse=function(){return this.all((function(t){return t.reverse()})),this},t.prototype.reset=function(){return this.setProgress(0),this.options.autoplay?this.play():this.pause(),this},t.prototype.cancel=function(){return this.all((function(t){return t.cancel()})),this},t.prototype.finish=function(){return this.all((function(t){return t.finish()})),this},t.prototype.stop=function(){var t=this;this.cancel(),this.stopLoop(),document.removeEventListener("visibilitychange",this.onVisibilityChange,!1),this.targets.forEach((function(e){return t.removeTarget(e)})),this.emit("stop"),this.emitter.clear(),this.mainkeyframeEffect=null,this.mainAnimation=null,this.mainElement=null,this.promise=null,this.computedOptions=null,this.animations=null,this.keyframeEffects=null,this.emitter=null,this.targets=null,this.options=null,this.properties=null},t.prototype.getAnimation=function(t){var e=this.keyframeEffects.get(t);return this.animations.get(e)},t.prototype.getTiming=function(t){var e,n,i,r,o=null!=(e=this.computedOptions.get(t))?e:{},s=null!=(r=null==(i=(n=this.keyframeEffects.get(t)).getTiming)?void 0:i.call(n))?r:{};return d(d({},o),s)},t.prototype.getCurrentTime=function(){return this.mainAnimation.currentTime},t.prototype.getProgress=function(){return this.getCurrentTime()/this.totalDuration*100},t.prototype.getSpeed=function(){return this.mainAnimation.playbackRate},t.prototype.getPlayState=function(){return this.mainAnimation.playState},t.prototype.is=function(t){return this.getPlayState()==t},t.prototype.setCurrentTime=function(t){return this.all((function(e){return e.currentTime=t})),this.emit("update",this.getProgress()),this},t.prototype.setProgress=function(t){var e=t/100*this.totalDuration;return this.setCurrentTime(e),this},t.prototype.setSpeed=function(t){return void 0===t&&(t=1),this.maxSpeed=t,this.all((function(e){e.updatePlaybackRate?e.updatePlaybackRate(t):e.playbackRate=t})),this},t.prototype.createArrayOfComputedOptions=function(t,e){var n=this,i=[];return this.targets.forEach((function(r,o){var s,a,l=null!=(s=n.computedOptions.get(r))?s:{},u=function(e){var i,r,o=e;return"loop"==e&&(o="iterations"),"fillMode"==e&&(o="fill"),null!=(r=null!=(i=t[e])?i:l[o])?r:n.options[e]},c=Object.assign({easing:u("easing"),iterations:u("loop"),direction:u("direction"),endDelay:u("endDelay"),duration:u("duration"),speed:u("speed"),delay:u("delay"),timelineOffset:u("timelineOffset"),keyframes:u("keyframes")},null!=(a=u("extend"))?a:{}),p=mt(c,[o,e,r],n);"string"==typeof p.easing&&(p.easing=vt(p.easing)),!0===p.iterations&&(p.iterations=1/0),p.fill=u("fillMode");var h=p,f=h.timelineOffset,g=h.speed,v=h.endDelay,b=h.delay,A=h.duration,w=h.iterations,_=y(h,["timelineOffset","speed","endDelay","delay","duration","iterations"]);w=Number(w),A=Number(A),v=Number(v),g=Number(g);var E=(b=Number(b)+Number(f))+A*w+v;n.totalDuration<E&&(n.totalDuration=E),i[o]=m(d({},_),{speed:g,tempDurations:E,endDelay:v,delay:b,duration:A,iterations:w}),n.minDelay>b&&(n.minDelay=b),n.maxSpeed>g&&(n.maxSpeed=g)})),i},t.prototype.createAnimations=function(t,e){var n=this,r=t.arrOfComputedOptions,o=t.padEndDelay,s=t.oldCSSProperties,a=t.onfinish,l=t.oncancel,u=t.timeline;this.targets.forEach((function(t,c){var p,h,f,g,v,b=r[c],A=b.speed,w=b.keyframes,_=b.tempDurations,E=y(b,["speed","keyframes","tempDurations"]);o&&0==E.endDelay&&Math.abs(E.iterations)!=Math.abs(1/0)&&(E.endDelay=n.totalDuration-_);var P=w;"object"==typeof P&&(P=function(t){for(var e=new Set,n=Object.keys(t),r=n.length,o=0;o<r;o++)for(var s=""+n[o],a=t[s],l=s.split(","),u=l.length,c=0;c<u;c++){var p=K(l[c]);e.add(m(d({},a),{offset:p}))}return i([],e).sort((function(t,e){return t.offset-e.offset}))}(P));var O,S,R=null!=(p=n.computedKeyframes.get(t))?p:{},T=Object.assign({},s,R),j=dt(T,(function(t,e){var i;return null!=(i=n.properties[e])?i:t}));if(v=et(P)?P:j,Array.isArray(v))g=function(t){return t.map((function(t){var e=ut(t),n=e.translate,i=e.translate3d,r=e.translateX,o=e.translateY,s=e.translateZ,a=e.rotate,l=e.rotate3d,u=e.rotateX,c=e.rotateY,p=e.rotateZ,h=e.scale,f=e.scale3d,d=e.scaleX,m=e.scaleY,g=e.scaleZ,v=e.skew,b=e.skewX,A=e.skewY,w=e.perspective;return e.easing,e.iterations,e.offset,[y(e,["translate","translate3d","translateX","translateY","translateZ","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","easing","iterations","offset"]),n=at(n),i=at(i),r=at(r)[0],o=at(o)[0],s=at(s)[0],a=lt(a),l=st(l),u=lt(u)[0],c=lt(c)[0],p=lt(p)[0],h=st(h),f=st(f),d=st(d)[0],m=st(m)[0],g=st(g)[0],v=lt(v),b=lt(b)[0],A=lt(A)[0],w=at(w)[0]]})).map((function(t){var e=t[0],n=t.slice(1),i=ot(n);return e=dt(e,(function(t,e){var n;if(!/color/gi.test(e)){var i=/rotate/gi.test(e),r=new RegExp(pt,"gi").test(e);if(i||r)return i?n=lt:r&&(n=at),n(ct(t).trim().split(" ")).join(" ")}return ct(t)})),Object.assign({},et(i)?{transform:i}:null,e)}))}(g=v.map((function(t){var e=At(["speed","loop"],t),n=e.easing,i=e.offset,r=y(e,["easing","offset"]);return Object.assign({},r,"string"==typeof n?{easing:vt(n)}:null,"string"==typeof i||"number"==typeof i?{offset:K(i)}:null)})));else{var C=At(["keyframes"],v),k=mt(C,[c,e,t],n),x=k.offset,D=y(k,["offset"]);D=ht(D);var I=x;g=Object.assign({},D,et(I)?{offset:I.map(K)}:null)}n.keyframeEffects.has(t)?(S=n.keyframeEffects.get(t),O=n.animations.get(S),null==(h=null==S?void 0:S.setKeyframes)||h.call(S,g),null==(f=null==S?void 0:S.updateTiming)||f.call(S,E)):(S=new KeyframeEffect(t,g,E),O=new Animation(S,u),n.keyframeEffects.set(t,S),n.animations.set(S,O)),O.playbackRate=A,O.onfinish=function(){"function"==typeof a&&a.call(n,t,c,e,O)},O.oncancel=function(){"function"==typeof l&&l.call(n,t,c,e,O)},n.computedOptions.set(t,E),n.computedKeyframes.set(t,g)}))},t.prototype.updateOptions=function(t){var e,n,r=this;void 0===t&&(t={});try{var o=function(t){var e,n=t,i=n.options,r=y(n,["options"]),o=i instanceof wt?i.options:Array.isArray(i)?null==(e=null==i?void 0:i[0])?void 0:e.options:i;return Object.assign({},o,r)}(t);this.options=Object.assign({},bt,this.options,o);var s=["easing","loop","endDelay","duration","speed","delay","timelineOffset","direction","extend","fillMode","offset"],a=At(s,this.options),l=a.padEndDelay,u=a.autoplay,c=a.target,p=a.targets,h=a.timeline,f=a.onfinish,d=a.oncancel,m=y(a,["padEndDelay","autoplay","target","targets","timeline","onfinish","oncancel"]);this.properties=At(i(i([],s),["keyframes","padEndDelay","onfinish","oncancel","autoplay","target","targets","timeline"]),o);var g=this.targets.values(),v=i([],new Set(i(i(i([],g),ft(p)),ft(c))));this.targets.clear(),v.forEach((function(t,e){r.targets.set(e,t),r.targetIndexes.set(t,e)}));var b=this.targets.size,A=this.createArrayOfComputedOptions(o,b);if(this.createAnimations({arrOfComputedOptions:A,padEndDelay:l,oldCSSProperties:m,onfinish:f,oncancel:d,timeline:h},b),b<=0&&(this.maxSpeed==1/0&&(this.maxSpeed=Number(this.options.speed)),this.minDelay==1/0&&(this.minDelay=Number(this.options.delay)+Number(this.options.timelineOffset)),this.totalDuration==-1/0&&(this.totalDuration=Number(this.options.duration))),this.mainAnimation?(null==(n=null==(e=this.mainkeyframeEffect)?void 0:e.updateTiming)||n.call(e,{duration:this.totalDuration}),this.mainkeyframeEffect.setKeyframes&&this.mainkeyframeEffect.updateTiming||console.warn("@okikio/animate - `KeyframeEffect.setKeyframes` and/or `KeyframeEffect.updateTiming` are not supported in this browser.")):(this.mainkeyframeEffect=new KeyframeEffect(this.mainElement,null,{duration:this.totalDuration}),this.mainAnimation=new Animation(this.mainkeyframeEffect,h)),this.mainAnimation.playbackRate=this.maxSpeed,this.mainAnimation.onfinish=function(){if(r.mainAnimation){var t=r.getPlayState();r.is(t)||r.emit("playstate-change",t,r),r.loop(),r.stopLoop()}r.emit("finish",r)},this.mainAnimation.oncancel=function(){if(r.mainAnimation){var t=r.getPlayState();r.is(t)||r.emit("playstate-change",t,r),r.loop(),r.stopLoop()}r.emit("cancel",r)},u){var w=window.setTimeout((function(){r.emit("begin",r),w=window.clearTimeout(w)}),0);this.play()}else this.pause()}catch(t){this.emit("error",t)}},t.prototype.add=function(t){var e=this.getProgress(),n=this.is("running"),i=this.is("paused");this.updateOptions({target:t}),this.setProgress(e),n?this.play():i&&this.pause()},t.prototype.removeTarget=function(t){var e=this.keyframeEffects.get(t);this.animations.delete(e),e=null,this.computedKeyframes.delete(t),this.computedOptions.delete(t),this.keyframeEffects.delete(t);var n=this.targetIndexes.get(t);this.targets.delete(n),this.targetIndexes.delete(t)},t.prototype.remove=function(t){this.removeTarget(t);var e=new Set([].concat(this.targets.values()));this.options.target=i([],e),this.options.targets=[],e.clear(),e=null;var n=this.getProgress(),r=this.is("running"),o=this.is("paused");this.updateOptions(),r?this.play():o&&this.pause(),this.setProgress(n)},t.prototype.on=function(t,e,n){var i;return null==(i=null==this?void 0:this.emitter)||i.on(t,e,null!=n?n:this),this},t.prototype.off=function(t,e,n){var i;return null==(i=null==this?void 0:this.emitter)||i.off(t,e,null!=n?n:this),this},t.prototype.emit=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return null==(e=null==this?void 0:this.emitter)||e.emit.apply(e,i([t],n)),this},t.prototype.toJSON=function(){return this.options},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return"Animate"},enumerable:!1,configurable:!0}),t}();wt.pauseOnPageHidden=!0;var _t=function(t){return void 0===t&&(t={}),new wt(t)},Et={wrapperAttr:"wrapper",headers:[],preventSelfAttr:'prevent="self"',preventAllAttr:'prevent="all"',transitionAttr:"transition",timeout:2e3,maxPages:5,resizeDelay:100,onTransitionPreventClick:!0,cacheIgnore:!1,prefetchIgnore:!1,preventURLs:[],stickyScroll:!1,forceOnError:!0,ignoreHashAction:!1,transitions:[]},Pt=function(t,e,n){void 0===n&&(n=!0);var i=t.prefix,r="data"+(i?"-"+i:"")+"-"+t[e];return n?"["+r+"]":r},Ot=function(){function t(){}return t.prototype.install=function(){},t.prototype.register=function(t,e){return this.manager=t,this.app=t.app,this.config=t.config,this.emitter=t.emitter,this.key=e,this.install(),this},t.prototype.uninstall=function(){},t.prototype.unregister=function(){this.uninstall(),this.manager.remove(this.key),this.key=null,this.manager=null,this.app=null,this.config=null,this.emitter=null},t}(),St=function(t){function n(e){var n=t.call(this)||this;return n.app=e,n.config=e.config,n.emitter=e.emitter,n}return e(n,t),n.prototype.set=function(e,n){return t.prototype.set.call(this,e,n),n.register(this,e),this},n}(X),Rt=function(t){return void 0===t&&(t=window.location.href),t instanceof URL?t:new URL(t,window.location.origin)},Tt=function(t){var e=Rt(t);return""+e.pathname+e.hash},jt=function(t){return Rt(t).toString().replace(/(\/#.*|\/|#.*)$/,"")},Ct=function(t,e){return jt(t)===jt(e)},kt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.init=function(){},n.prototype.boot=function(){this.initEvents()},n.prototype.initEvents=function(){},n.prototype.stopEvents=function(){},n.prototype.stop=function(){this.stopEvents(),this.unregister()},n}(Ot),xt=function(t){function n(e){return t.call(this,e)||this}return e(n,t),n.prototype.init=function(){return Y(this,"init"),this},n.prototype.boot=function(){return Y(this,"boot"),this},n.prototype.stop=function(){return Y(this,"stop"),this},n}(St),Dt=function(t,e){return void 0===t&&(t=window.scrollX),void 0===e&&(e=window.scrollY),{x:t,y:e}},It=function(t){return void 0===t&&(t={url:Tt(Rt()),index:0,transition:"default",data:{scroll:Dt(),trigger:"HistoryManager"}}),t},Lt=function(t){function n(){var e=t.apply(this,arguments)||this;return e.pointer=-1,e}return e(n,t),n.prototype.init=function(){this.states=[];var t=It();this.add(t,"replace")},n.prototype.get=function(t){return this.states[t]},n.prototype.add=function(t,e){void 0===e&&(e="push");var n=It(t),r=this.length;this.states.push(d({},n)),this.pointer=r;var o={index:this.pointer,states:i([],this.states)};return Nt(e,n,o),this},n.prototype.remove=function(t){return t?this.states.splice(t,1):this.states.pop(),this.pointer--,this},n.prototype.replace=function(t){return this.states=t,this},n.prototype.set=function(t,e){return this.states[t]=e},Object.defineProperty(n.prototype,"current",{get:function(){return this.get(this.pointer)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"last",{get:function(){return this.get(this.length-1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"previous",{get:function(){return this.pointer<1?null:this.get(this.pointer-1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"length",{get:function(){return this.states.length},enumerable:!1,configurable:!0}),n}(kt),Nt=function(t,e,n){var i=[n,"",Tt(e.url)];if(window.history)switch(t){case"push":window.history.pushState.apply(window.history,i);break;case"replace":window.history.replaceState.apply(window.history,i)}};function Mt(t,e){void 0===e&&(e={});for(var n=function(t){for(var e=[],n=0;n<t.length;){var i=t[n];if("*"!==i&&"+"!==i&&"?"!==i)if("\\"!==i)if("{"!==i)if("}"!==i)if(":"!==i)if("("!==i)e.push({type:"CHAR",index:n,value:t[n++]});else{var r=1,o="";if("?"===t[a=n+1])throw new TypeError('Pattern cannot start with "?" at '+a);for(;a<t.length;)if("\\"!==t[a]){if(")"===t[a]){if(0==--r){a++;break}}else if("("===t[a]&&(r++,"?"!==t[a+1]))throw new TypeError("Capturing groups are not allowed at "+a);o+=t[a++]}else o+=t[a++]+t[a++];if(r)throw new TypeError("Unbalanced pattern at "+n);if(!o)throw new TypeError("Missing pattern at "+n);e.push({type:"PATTERN",index:n,value:o}),n=a}else{for(var s="",a=n+1;a<t.length;){var l=t.charCodeAt(a);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;s+=t[a++]}if(!s)throw new TypeError("Missing parameter name at "+n);e.push({type:"NAME",index:n,value:s}),n=a}else e.push({type:"CLOSE",index:n,value:t[n++]});else e.push({type:"OPEN",index:n,value:t[n++]});else e.push({type:"ESCAPED_CHAR",index:n++,value:t[n++]});else e.push({type:"MODIFIER",index:n,value:t[n++]})}return e.push({type:"END",index:n,value:""}),e}(t),i=e.prefixes,r=void 0===i?"./":i,o="[^"+zt(e.delimiter||"/#?")+"]+?",s=[],a=0,l=0,u="",c=function(t){if(l<n.length&&n[l].type===t)return n[l++].value},p=function(t){var e=c(t);if(void 0!==e)return e;var i=n[l],r=i.type,o=i.index;throw new TypeError("Unexpected "+r+" at "+o+", expected "+t)},h=function(){for(var t,e="";t=c("CHAR")||c("ESCAPED_CHAR");)e+=t;return e};l<n.length;){var f=c("CHAR"),d=c("NAME"),m=c("PATTERN");if(d||m){var y=f||"";-1===r.indexOf(y)&&(u+=y,y=""),u&&(s.push(u),u=""),s.push({name:d||a++,prefix:y,suffix:"",pattern:m||o,modifier:c("MODIFIER")||""})}else{var g=f||c("ESCAPED_CHAR");if(g)u+=g;else if(u&&(s.push(u),u=""),c("OPEN")){y=h();var v=c("NAME")||"",b=c("PATTERN")||"",A=h();p("CLOSE"),s.push({name:v||(b?a++:""),pattern:v&&!b?o:b,prefix:y,suffix:A,modifier:c("MODIFIER")||""})}else p("END")}}return s}function zt(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Ht(t){return t&&t.sensitive?"":"i"}function Ut(t,e,n){return function(t,e,n){void 0===n&&(n={});for(var i=n.strict,r=void 0!==i&&i,o=n.start,s=void 0===o||o,a=n.end,l=void 0===a||a,u=n.encode,c=void 0===u?function(t){return t}:u,p="["+zt(n.endsWith||"")+"]|$",h="["+zt(n.delimiter||"/#?")+"]",f=s?"^":"",d=0,m=t;d<m.length;d++){var y=m[d];if("string"==typeof y)f+=zt(c(y));else{var g=zt(c(y.prefix)),v=zt(c(y.suffix));if(y.pattern)if(e&&e.push(y),g||v)if("+"===y.modifier||"*"===y.modifier){var b="*"===y.modifier?"?":"";f+="(?:"+g+"((?:"+y.pattern+")(?:"+v+g+"(?:"+y.pattern+"))*)"+v+")"+b}else f+="(?:"+g+"("+y.pattern+")"+v+")"+y.modifier;else f+="("+y.pattern+")"+y.modifier;else f+="(?:"+g+v+")"+y.modifier}}if(l)r||(f+=h+"?"),f+=n.endsWith?"(?="+p+")":"$";else{var A=t[t.length-1],w="string"==typeof A?h.indexOf(A[A.length-1])>-1:void 0===A;r||(f+="(?:"+h+"(?="+p+"))?"),w||(f+="(?="+h+"|"+p+")")}return new RegExp(f,Ht(n))}(Mt(t,n),e,n)}function qt(t,e,n){return t instanceof RegExp?function(t,e){if(!e)return t;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,i=0,r=n.exec(t.source);r;)e.push({name:r[1]||i++,prefix:"",suffix:"",modifier:"",pattern:""}),r=n.exec(t.source);return t}(t,e):Array.isArray(t)?function(t,e,n){var i=t.map((function(t){return qt(t,e,n).source}));return new RegExp("(?:"+i.join("|")+")",Ht(n))}(t,e,n):Ut(t,e,n)}var Vt,Wt,Xt,Yt,Ft,Zt,Bt,Kt,Qt=new DOMParser,Gt=function(t){function i(e,n){void 0===e&&(e=Rt()),void 0===n&&(n=document);var i=t.call(this)||this;return i.url=Rt(e),"string"==typeof n?i.data=n:i.dom=n||document,i}return e(i,t),i.prototype.build=function(){return v(this,null,(function(){var t,e,i,r;return n(this,(function(n){return this.dom instanceof Node||(this.dom=Qt.parseFromString(this.data,"text/html")),this.body instanceof Node||(t=this.dom,e=t.title,i=t.head,r=t.body,this.title=e,this.head=i,this.body=r,this.wrapper=this.body.querySelector(this.wrapperAttr)),[2]}))}))},i.prototype.install=function(){this.wrapperAttr=Pt(this.config,"wrapperAttr")},i.prototype.uninstall=function(){this.url=null,this.title=null,this.head=null,this.body=null,this.dom=null,this.wrapper=null,this.data=null,this.wrapperAttr=null},i}(Ot),$t=function(t){function i(){var e=t.call(this)||this;return e.loading=new X,e}return e(i,t),i.prototype.install=function(){this.pages=new St(this.app),this.cacheIgnore=this.config.cacheIgnore;var t=Rt().pathname;this.set(t,new Gt),t=null},i.prototype.get=function(t){return this.pages.get(t)},i.prototype.add=function(t){return this.pages.add(t),this},i.prototype.set=function(t,e){return this.pages.set(t,e),this},i.prototype.remove=function(t){return this.pages.remove(t),this},i.prototype.has=function(t){return this.pages.has(t)},i.prototype.clear=function(){return this.pages.clear(),this},Object.defineProperty(i.prototype,"size",{get:function(){return this.pages.size},enumerable:!1,configurable:!0}),i.prototype.keys=function(){return this.pages.keys()},i.prototype.load=function(){return v(this,arguments,(function(t){var e,i,r,o,s,a,l,u;return void 0===t&&(t=Rt()),n(this,(function(n){switch(n.label){case 0:return e=Rt(t),i=e.pathname,this.has(i)&&!Jt(i,this.cacheIgnore)?(r=this.get(i),[2,Promise.resolve(r)]):(this.loading.has(i)?o=this.loading.get(i):(o=this.request(i),this.loading.set(i,o)),[4,o]);case 1:return s=n.sent(),this.loading.remove(i),r=new Gt(e,s),this.set(i,r),this.size>this.config.maxPages&&(a=Rt(),l=this.keys(),u=Ct(a,l[0])?l[1]:l[0],this.get(u).unregister(),null,l=null,a=null,u=null),[2,r]}}))}))},i.prototype.request=function(t){return v(this,null,(function(){var e,i,r,o,s,a=this;return n(this,(function(n){switch(n.label){case 0:e=new Headers(this.config.headers),i=window.setTimeout((function(){window.clearTimeout(i);var e=new Error("Request Timed Out!");throw a.emitter.emit("TIMEOUT_ERROR",e,t),e}),this.config.timeout),n.label=1;case 1:return n.trys.push([1,5,,6]),[4,fetch(t,{mode:"same-origin",method:"GET",headers:e,cache:"default",credentials:"same-origin"})];case 2:return r=n.sent(),window.clearTimeout(i),r.status>=200&&r.status<300?[4,r.text()]:[3,4];case 3:return[2,n.sent()];case 4:throw o=new Error(r.statusText||""+r.status),this.emitter.emit("REQUEST_ERROR",o,t),o;case 5:throw s=n.sent(),window.clearTimeout(i),s;case 6:return[2]}}))}))},i}(kt),Jt=function(t,e){if("boolean"==typeof e)return e;var n=[];return!e.every((function(e){return null==qt(e,n,{start:!1,end:!1}).exec(t)}))},te=function(t,e){void 0===e&&(e=window.location.hash);try{var n="#"==e[0]?e:Rt(e).hash;if(n.length>1){var i=document.getElementById(n.slice(1));if(i){var r=i.getBoundingClientRect(),o=r.left,s=r.top,a=window.scrollX,l=window.scrollY;return Dt(o+a,s+l)}}}catch(t){console.warn("[hashAction] error",t)}return null!=t?t:Dt(0,0)},ee={name:"replace"},ne=function(t){function i(e){var n=t.call(this)||this;return n._arg=e,n}return e(i,t),i.prototype.install=function(){t.prototype.install.call(this);var e=this._arg&&this._arg.length?this._arg:this.config.transitions;this.transitions=new X([["default",ee],["replace",ee]].concat(e))},i.prototype.get=function(t){return this.transitions.get(t)},i.prototype.set=function(t,e){return this.transitions.set(t,e),this},i.prototype.add=function(t){return this.transitions.add(t),this},i.prototype.has=function(t){return this.transitions.has(t)},i.prototype.start=function(t,e){return v(this,null,(function(){var i,r,o,s,a,l,u,c=this;return n(this,(function(n){switch(n.label){case 0:if(i=this.transitions.get(t),r=e.oldPage,o=e.newPage,s=e.ignoreHashAction,a=e.trigger,this.emitter.emit("TRANSITION_START",d({transitionName:t},e)),!("wrapper"in r)||!("wrapper"in o))throw"[TransitionManager] either oldPage or newPage aren't instances of the Page Class.\n "+{newPage:o,oldPage:r};if(document.title=""+o.title,l=r.wrapper,u=o.wrapper,!(l instanceof Node&&u instanceof Node))throw"[TransitionManager] the wrapper from the "+(u instanceof Node?"current":"next")+" page cannot be found. The wrapper must be an element that has the attribute "+Pt(this.config,"wrapperAttr")+".";return i.init&&(null==i||i.init(e)),this.emitter.emit("BEFORE_TRANSITION_OUT",e),i.out?[4,new Promise((function(t){var n=i.out.call(i,m(d({},e),{from:r,done:t}));null==n||n.then(t)}))]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.emitter.emit("AFTER_TRANSITION_OUT",e),[4,new Promise((function(t){l.insertAdjacentElement("beforebegin",u),c.emitter.emit("CONTENT_INSERT",e),t()}))];case 3:return n.sent(),[4,new Promise((function(t){l.remove(),l=null,u=null,c.emitter.emit("CONTENT_REPLACED",e),s||/back|popstate|forward/.test(a)||(e.scroll=te(e.scroll)),t()}))];case 4:return n.sent(),this.emitter.emit("BEFORE_TRANSITION_IN",e),i.in?[4,new Promise((function(t){var n=i.in.call(i,m(d({},e),{from:r,to:o,done:t}));null==n||n.then(t)}))]:[3,6];case 5:n.sent(),n.label=6;case 6:return this.emitter.emit("AFTER_TRANSITION_IN",e),i.manualScroll||(s||/back|popstate|forward/.test(a)||(e.scroll=te(e.scroll)),window.scroll(e.scroll.x,e.scroll.y)),this.emitter.emit("TRANSITION_END",d({transitionName:t},e)),[2,e]}}))}))},i}(kt),ie=function(){function t(t){void 0===t&&(t={}),this.canResize=!0,this.canScroll=!0,this._resize=this._resize.bind(this),this._scroll=this._scroll.bind(this),this._ready=this._ready.bind(this),this.register(t)}return t.prototype.register=function(t){return void 0===t&&(t={}),this.config=function(t){return Object.assign(d({},Et),t)}(t),this.emitter=new B,this.services=new xt(this),this},t.prototype._ready=function(){document.removeEventListener("DOMContentLoaded",this._ready),window.removeEventListener("load",this._ready),this.emitter.emit("READY ready")},t.prototype._resize=function(){var t,e,n=this;this.canResize&&(this.canResize=!1,e=window.requestAnimationFrame((function(){n.emitter.emit("RESIZE resize"),t=window.setTimeout((function(){n.canResize=!0,t=window.clearTimeout(t),e=window.cancelAnimationFrame(e)}),n.config.resizeDelay)})))},t.prototype._scroll=function(){var t,e=this;this.canScroll&&(this.canScroll=!1,t=requestAnimationFrame((function(){e.emitter.emit("SCROLL scroll"),e.canScroll=!0,t=window.cancelAnimationFrame(t)})))},t.prototype.get=function(t){return this.services.get(t)},t.prototype.set=function(t,e){return this.services.set(t,e),this},t.prototype.add=function(t){return this.services.add(t),this},t.prototype.boot=function(){return document.addEventListener("DOMContentLoaded",this._ready),window.addEventListener("load",this._ready),window.addEventListener("resize",this._resize,{passive:!0}),window.addEventListener("scroll",this._scroll,{passive:!0}),this.services.init(),this.services.boot(),this},t.prototype.stop=function(){return window.removeEventListener("resize",this._resize),window.removeEventListener("scroll",this._scroll),this.services.stop(),this.emitter.clear(),this},t.prototype.on=function(t,e){return this.emitter.on(t,e,this),this},t.prototype.off=function(t,e){return this.emitter.off(t,e,this),this},t.prototype.emit=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(e=this.emitter).emit.apply(e,i([t],n)),this},t}(),re=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return e(i,t),i.prototype.install=function(){t.prototype.install.call(this),this.preventURLs=this.config.preventURLs,this.prefetchIgnore=this.config.prefetchIgnore,this.onTransitionPreventClick=this.config.onTransitionPreventClick,this.stickyScroll=this.config.stickyScroll,this.forceOnError=this.config.forceOnError,this.ignoreHashAction=this.config.ignoreHashAction},i.prototype.transitionStart=function(){this.isTransitioning=!0},i.prototype.transitionStop=function(){this.isTransitioning=!1},i.prototype.init=function(){this.onHover=this.onHover.bind(this),this.onClick=this.onClick.bind(this),this.onStateChange=this.onStateChange.bind(this)},i.prototype.boot=function(){t.prototype.boot.call(this)},i.prototype.getTransitionName=function(t){if(!t||!t.getAttribute)return null;var e=t.getAttribute(Pt(this.config,"transitionAttr",!1));return"string"==typeof e?e:null},i.prototype.validLink=function(t,e,n){var i=!window.history.pushState,r=!t||!n,o=e.metaKey||e.ctrlKey||e.shiftKey||e.altKey,s=t.hasAttribute("target")&&"_blank"===t.target,a=t.protocol!==location.protocol||t.hostname!==location.hostname,l="string"==typeof t.getAttribute("download"),u=t.matches(Pt(this.config,"preventSelfAttr")),c=Boolean(t.closest(Pt(this.config,"preventAllAttr"))),p=Jt(Rt(n).pathname,this.preventURLs),h=Tt(Rt())===Tt(Rt(n));return!(r||i||o||s||a||l||u||c||p||h)},i.prototype.getHref=function(t){return t&&t.tagName&&"a"===t.tagName.toLowerCase()&&"string"==typeof t.href?t.href:null},i.prototype.getLink=function(t){for(var e=t.target,n=this.getHref(e);e&&!n;)e=e.parentNode,n=this.getHref(e);if(e&&this.validLink(e,t,n))return e},i.prototype.onClick=function(t){var e=this.getLink(t);if(e){if(this.isTransitioning&&this.onTransitionPreventClick)return t.preventDefault(),void t.stopPropagation();var n=this.getHref(e);this.emitter.emit("ANCHOR_CLICK CLICK",t),this.go({href:n,trigger:e,event:t})}},i.prototype.getDirection=function(t){return Math.abs(t)>1?t>0?"forward":"back":0===t?"popstate":t>0?"back":"forward"},i.prototype.force=function(t){window.location.assign(t)},i.prototype.go=function(t){var e=t.href,n=t.trigger,i=void 0===n?"HistoryManager":n,r=t.event;if((!this.isTransitioning||this.onTransitionPreventClick)&&this.manager.has("TransitionManager")&&this.manager.has("HistoryManager")&&this.manager.has("PageManager")){var o=this.manager.get("HistoryManager"),s=Dt(0,0),a=o.current,l=a.url;if(!Ct(l,e)){var u;if(r&&r.state){this.emitter.emit("POPSTATE",r);var c=(f=r.state).index,p=a.index-c;o.replace(f.states),o.pointer=c;var h=o.get(c);u=h.transition,s=h.data.scroll,i=this.getDirection(p),this.emitter.emit("back"===i?"POPSTATE_BACK":"POPSTATE_FORWARD",r)}else{u=this.getTransitionName(i),s=Dt();var f=It({url:e,transition:u,data:{scroll:s}});!this.stickyScroll&&(s=Dt(0,0)),o.add(f),this.emitter.emit("HISTORY_NEW_ITEM",r)}return r&&(r.stopPropagation(),r.preventDefault()),this.emitter.emit("GO",r),this.load({oldHref:l,href:e,trigger:i,transitionName:u,scroll:s})}}else this.force(e)},i.prototype.load=function(t){return v(this,arguments,(function(t){var e,i,r,o,s,a,l,u,c,p=t.oldHref,h=t.href,f=t.trigger,d=t.transitionName,m=void 0===d?"default":d,y=t.scroll,g=void 0===y?{x:0,y:0}:y;return n(this,(function(t){switch(t.label){case 0:t.trys.push([0,9,10,11]),e=this.manager.get("TransitionManager"),i=this.manager.get("PageManager"),r=this.ignoreHashAction,o=void 0,s=void 0,this.emitter.emit("NAVIGATION_START",{oldHref:p,href:h,trigger:f,transitionName:m,scroll:g}),e.has(m)||(console.log('[PJAX] transition name "'+m+'" doesn\'t exist, switching to the "default" transition'),m="default"),t.label=1;case 1:return t.trys.push([1,4,,5]),this.transitionStart(),this.emitter.emit("PAGE_LOADING",{href:h,oldHref:p,trigger:f,scroll:g}),[4,i.load(p)];case 2:return s=t.sent(),[4,i.load(h)];case 3:return o=t.sent(),this.emitter.emit("PAGE_LOAD_COMPLETE",{newPage:o,oldPage:s,trigger:f,scroll:g}),s.dom instanceof Element||s.build(),o.build(),[3,5];case 4:return a=t.sent(),console.warn("[PJAX] Page load error",a),[3,5];case 5:return t.trys.push([5,7,,8]),[4,e.start(m,{oldPage:s,newPage:o,trigger:f,scroll:g,ignoreHashAction:r})];case 6:return l=t.sent(),g=l.scroll,[3,8];case 7:return u=t.sent(),console.warn("[PJAX] Transition error",u),[3,8];case 8:return this.emitter.emit("NAVIGATION_END",{oldPage:s,newPage:o,trigger:f,transitionName:m,scroll:g}),[3,11];case 9:return c=t.sent(),this.forceOnError?this.force(h):console.warn(c),[3,11];case 10:return this.transitionStop(),[7];case 11:return[2]}}))}))},i.prototype.onHover=function(t){var e=this.getLink(t);if(e&&this.manager.has("PageManager")){var n=this.manager.get("PageManager"),i=Rt(this.getHref(e)),r=i.pathname;if(this.emitter.emit("ANCHOR_HOVER HOVER",t),!Jt(i.pathname,this.prefetchIgnore)&&(!n.has(r)||Jt(r,n.cacheIgnore)))try{n.load(i),this.emitter.emit("PREFETCH",t)}catch(t){console.warn("[PJAX] Prefetch error",t)}}},i.prototype.onStateChange=function(t){this.go({href:window.location.href,trigger:"popstate",event:t})},i.prototype.initEvents=function(){!0!==this.prefetchIgnore&&(document.addEventListener("mouseover",this.onHover),document.addEventListener("touchstart",this.onHover)),document.addEventListener("click",this.onClick),window.addEventListener("popstate",this.onStateChange)},i.prototype.stopEvents=function(){!0!==this.prefetchIgnore&&(document.removeEventListener("mouseover",this.onHover),document.removeEventListener("touchstart",this.onHover)),document.removeEventListener("click",this.onClick),window.removeEventListener("popstate",this.onStateChange)},i}(kt),oe=function(t){function n(e){void 0===e&&(e=[]);var n=t.call(this)||this;n.routes=new X;for(var i=0,r=e;i<r.length;i++){var o=r[i];n.add(o)}return n}return e(n,t),n.prototype.add=function(t){var e=t.path,n=t.method,i=this.parse(e);return this.routes.set(i,n),this},n.prototype.parsePath=function(t){if("string"==typeof t||t instanceof RegExp||Array.isArray(t)){return qt(t,[],{start:!1,end:!1})}if("boolean"==typeof t)return t?/.*/:t;throw"[Router] only regular expressions, strings, booleans and arrays of regular expressions and strings are accepted as paths."},n.prototype.isPath=function(t){return"string"==typeof t||t instanceof RegExp||"boolean"==typeof t||Array.isArray(t)},n.prototype.parse=function(t){var e=t,n={from:/.*/,to:/.*/};if(this.isPath(t))n={from:!0,to:t};else{if(!this.isPath(e.from)||!this.isPath(e.to))throw"[Router] path is neither a string, regular expression, or a { from, to } object.";n=Object.assign({},n,e)}var i=n.from,r=n.to;return{from:this.parsePath(i),to:this.parsePath(r)}},n.prototype.route=function(){if(this.manager.has("HistoryManager")){var t=this.manager.get("HistoryManager"),e=Tt(Rt((t.length>1?t.previous:t.current).url)),n=Tt(Rt());this.routes.forEach((function(t,i){var r=i.from,o=i.to;if("boolean"==typeof r&&"boolean"==typeof o)throw"[Router] path ({ from: "+r+", to: "+o+" }) is not valid, remember paths can only be strings, regular expressions, or a boolean; however, both the from and to paths cannot be both booleans.";var s=r,a=o;r instanceof RegExp&&r.test(e)&&(s=r.exec(e)),o instanceof RegExp&&o.test(n)&&(a=o.exec(n)),(Array.isArray(a)&&Array.isArray(s)||Array.isArray(a)&&0==s&&!o.test(e)||Array.isArray(s)&&0==a&&!r.test(n))&&t({from:s,to:a,path:{from:e,to:n}})}))}else console.warn("[Route] HistoryManager is missing.")},n.prototype.initEvents=function(){this.emitter.on("READY",this.route,this),this.emitter.on("CONTENT_REPLACED",this.route,this)},n.prototype.stopEvents=function(){this.emitter.off("READY",this.route,this),this.emitter.off("CONTENT_REPLACED",this.route,this)},n}(kt),se={name:"default",duration:500,manualScroll:!0,out:function(t){var e=t.from,n=this.duration,i=e.wrapper;return _t({target:i,opacity:[1,0],duration:n}).on("finish",(function(){this.stop()}))},in:function(t){var e=t.to,n=t.scroll,i=this.duration,r=e.wrapper;return window.scroll(n.x,n.y),_t({target:r,opacity:[0,1],duration:i}).then((function(){this.stop()}))}},ae={name:"big",delay:200,durationPerAnimation:700,manualScroll:!0,init:function(){this.mainElement=document.getElementById("big-transition"),this.logoElement=this.mainElement.querySelector("#logo"),this.horizontalElements=Array.from(this.mainElement.querySelectorAll("#big-transition-horizontal div")),this.maxLength=this.horizontalElements.length},out:function(t){var e=this,i=t.from,r=t.done,o=this.durationPerAnimation,s=this.delay,a=i.wrapper;v(e,null,(function(){var t,e,i,l;return n(this,(function(n){switch(n.label){case 0:return t=Object.assign({},a.style),this.mainElement.style.opacity="1",this.mainElement.style.visibility="visible",_t({target:a,opacity:[1,0],duration:o,onfinish:function(t){t.style.opacity="0"}}).then((function(){this.stop()})),[4,_t({target:this.horizontalElements,scaleX:[0,1],delay:function(t){return s*(t+1)},onfinish:function(t){t.style.transform="scaleX(1)"},easing:"out-cubic",duration:500})];case 1:return e=n.sent()[0],a.style.opacity="1",Object.assign(a.style,t),this.logoElement.style.visibility="visible",[4,_t({target:this.logoElement,opacity:[0,1],duration:500,onfinish:function(t){t.style.opacity="1"}})];case 2:return(i=n.sent()[0]).on("stop",(function(){console.log("`anim3` of the BigTransition has stopped")})),[4,_t({options:i,opacity:[1,0],onfinish:function(t){t.style.opacity="0"},delay:1500})];case 3:return l=n.sent()[0],this.logoElement.style.visibility="hidden",e.stop(),i.stop(),l.stop(),r(),[2]}}))}))},in:function(t){var e=this,i=t.to,r=t.scroll,o=this.durationPerAnimation,s=this.delay,a=i.wrapper;return window.scroll(r.x,r.y),new Promise((function(t){return v(e,null,(function(){var e,i;return n(this,(function(n){switch(n.label){case 0:return e=_t({target:a,opacity:[0,1],duration:o}).then((function(){e.stop()})),[4,_t({target:this.horizontalElements,scaleX:[1,0],delay:function(t){return s*(t+1)},onfinish:function(t){t.style.transform="scaleX(0)"},easing:"out-cubic",duration:500})];case 1:return i=n.sent()[0],this.mainElement.style.opacity="0",this.mainElement.style.visibility="hidden",i.stop(),t(),[2]}}))}))}))}},le={name:"slide",duration:500,direction:"right",init:function(t){document.documentElement.classList.add("no-overflow-x");var e=t.trigger;e instanceof Node&&e.hasAttribute("data-direction")?this.direction=e.getAttribute("data-direction"):this.direction="right"},out:function(t){var e=t.from,n=this.duration,i=this.direction,r=e.wrapper;return _t({target:r,translateX:[0,25*("left"===i?-1:1)+"%"],opacity:[1,0],duration:n,easing:"in-quint"}).then((function(){this.stop()}))},in:function(t){return v(this,arguments,(function(t){var e,i,r,o=t.to;return n(this,(function(t){switch(t.label){case 0:return e=this.duration,i=o.wrapper,[4,r=_t({target:i,translateX:[25*("right"===this.direction?-1:1)+"%",0],opacity:[0,1],duration:e,easing:"out-quint"})];case 1:return t.sent(),document.documentElement.classList.remove("no-overflow-x"),r.stop(),[2]}}))}))}},ue=m(d({},le),{name:"slide-left",direction:"left"}),ce=m(d({},le),{name:"slide-right",direction:"right"}),pe=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.init=function(){this.navbar=document.querySelector(".navbar"),this.collapseSection=this.navbar.querySelector(".navbar-collapse.mobile"),this.navbarList=this.navbar.querySelector(".navbar-list"),this.elements=Array.from(this.navbar.querySelectorAll(".navbar-list a")),this.menu=this.navbar.querySelector(".navbar-toggle"),this.toggleStatus=!1,this.fixTabindex(),this.toggleClick=this.toggleClick.bind(this)},n.prototype.activateLink=function(){for(var t=window.location.href,e=0,n=this.elements;e<n.length;e++){var i=n[e],r=i.getAttribute("data-path")||i.href;if(!r||r.length<1)return;var o=new RegExp(r).test(t),s=i.classList.contains("active");o&&s||i.classList.toggle("active",o)}this.toggleStatus&&this.toggleClick()},n.prototype.fixTabindex=function(){for(var t=0,e=this.elements;t<e.length;t++){e[t].setAttribute("tabindex",""+(this.toggleStatus?0:-1))}},n.prototype.toggleClick=function(){var t,e;null==(e=null==(t=this.collapseSection.style)?void 0:t.setProperty)||e.call(t,"--height",this.navbarList.clientHeight+"px"),this.toggleStatus=!this.toggleStatus,this.collapseSection.classList.toggle("collapse",!this.toggleStatus),this.collapseSection.classList.toggle("show",this.toggleStatus),this.fixTabindex()},n.prototype.scroll=function(){this.navbar.classList.toggle("active-shadow",window.scrollY>=5)},n.prototype.initEvents=function(){this.menu.addEventListener("click",this.toggleClick),this.emitter.on("scroll",this.scroll,this),this.emitter.on("READY",this.activateLink,this),this.emitter.on("GO",this.activateLink,this)},n.prototype.stopEvents=function(){this.navbar.removeEventListener("click",this.toggleClick),this.emitter.off("scroll",this.scroll,this),this.emitter.off("READY",this.activateLink,this),this.emitter.off("GO",this.activateLink,this)},n.prototype.uninstall=function(){for(;this.elements.length;)this.elements.pop();this.elements=null,this.menu=null,this.navbar=null},n}(kt),he=(Vt=W(),function(t,e,n){if(e&&"object"==typeof e||"function"==typeof e)for(var i=function(i){p.call(t,i)||"default"===i||r(t,i,{get:function(){return e[i]},enumerable:!(n=s(e,i))||n.enumerable})},o=0,a=l(e);o<a.length;o++)i(a[o]);return t}((Wt=r(null!=Vt?t(c(Vt)):{},"default",Vt&&Vt.__esModule&&"default"in Vt?{get:function(){return Vt.default},enumerable:!0}:{value:Vt,enumerable:!0}),r(Wt,"__esModule",{value:!0})),Vt)),fe=function(t,e){var n,i=document.querySelector(t+" #playstate-toggle"),r=document.querySelector(t+" #progress"),o=document.querySelector(t+" #progress-output"),s=function(){"idle"==(n=e[0].getPlayState())?n="paused":"pending"==n&&(n="running"),i.setAttribute("data-playstate",n)};e[0].on("finish begin",s).on("update",(function(t){t=t.toFixed(4),r.value=""+t,o.textContent=Math.round(t)+"%"}));var a=function(){e[0].is("running")?Y(e,"pause"):e[0].is("finished")?Y(e,"reset"):Y(e,"play"),s()},l=function(){var t=Number(r.value);Y(e,"setProgress",t),Y(e,"pause")},u=function(){Y(e,"paused"!==n?"play":"pause"),s()};i.addEventListener("click",a),r.addEventListener("input",l),r.addEventListener("change",u),e[0].on("stop",(function(){i.removeEventListener("click",a),r.removeEventListener("input",l),r.removeEventListener("change",u),e=null}))},de=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},me=new oe,ye=new re,ge=new pe,ve=new ie({transitions:[["default",se],["BigTransition",ae],["Slide",le],["SlideLeft",ue],["SlideRight",ce]]});ve.set("HistoryManager",new Lt).set("PageManager",new $t).set("TransitionManager",new ne).add(ge).add(me).add(ye),me.add({path:{from:"/animate(.html)?",to:!1},method:function(){null==Xt||Xt.stop(),null==Yt||Yt.stop(),null==Ft||Ft.stop(),null==Zt||Zt.stop(),null==Bt||Bt.stop(),null==Kt||Kt.stop()}}).add({path:/\/animate(.html)?/,method:function(){!function(){var t=".morph-demo",e=document.querySelector(".morph-demo #using-d"),n=document.querySelector(".morph-demo #using-polymorph-js");if(e){var i=getComputedStyle(e);Xt=_t({target:e,duration:1800,easing:"ease",loop:4,direction:"alternate",d:[i.getPropertyValue("d"),'path("M2,5 S2,14 4,5 S7,8 8,4")'],stroke:[i.getPropertyValue("stroke"),"rgb(96, 165, 250)"]})}if(e&&n){i=getComputedStyle(n);var r=n.getAttribute("d"),o=document.querySelector(".empty"),s={duration:1800,easing:"ease",loop:4,fillMode:"both",direction:"alternate"};Ft=_t({target:o,options:s,opacity:[0,1]}),Yt=_t({target:n,options:s,fill:[i.getPropertyValue("stroke"),"rgb(96, 165, 250)"],"--stroke":[i.getPropertyValue("stroke"),"rgb(96, 165, 250)"]});var a=(0,he.interpolate)([r,"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"],{addPoints:0,origin:{x:0,y:0},optimize:"fill",precision:3});try{var l=getComputedStyle(o);Ft.on("update",(function(){var t=Number(l.getPropertyValue("opacity")),e=a(t);n.setAttribute("d",""+e)}))}catch(t){null==Ft||Ft.stopLoop(),console.log(t)}fe(t,[Ft,Xt,Yt])}}(),function(){var t=".playback-demo",e=document.querySelectorAll(t+" .el");if(e.length){Zt=_t({target:e,"background-color":function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[2],i=[de(0,255),de(0,255),de(0,255)],r=i[0],o=i[1],s=i[2];return[getComputedStyle(n).getPropertyValue("background-color"),"rgb("+r+", "+o+", "+s+")"]},"translate-x":function(){return[0,de(50,400)]},translateY:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[1];return[0,de(-50,50)*n]},scale:function(){return[1,1+de(.025,1.75)]},opacity:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[1];return[.5,.5+Math.min(de(.025,n)/n,.5)]},rotate:function(){return[0,de(-360,360)]},borderRadius:function(){return["3px",de(10,35)+"%"]},duration:function(){return de(1200,1800)},delay:function(){return de(0,400)},loop:2,speed:function(t){return 1.5-.125*t},fillMode:"both",direction:"alternate",easing:"in-out-back",padEndDelay:!0,autoplay:!0});var n=document.querySelector("#add-el"),i=document.querySelector("#remove-el"),r=document.querySelector(".el-placement"),o=document.createElement("div");o.className="contain",o.innerHTML='\n            <div class="el"></div>\n            <div class="el-initial"></div>'.trim(),n.onclick=function(){var t=o.cloneNode(!0),e=t.querySelector(".el");r.appendChild(t),Zt.add(e);var n=_t({target:t,opacity:[0,1],height:[0,"4vmin"],marginBottom:[0,5],fillMode:"forwards",duration:400,easing:"out"}).then((function(){n.stop(),n=null,t=null,e=null}))},i.onclick=function(){var t=r.querySelector(".contain"),e=null==t?void 0:t.querySelector(".el");Zt.remove(e);var n=getComputedStyle(t),i=n.getPropertyValue("margin-bottom"),o=n.getPropertyValue("height"),s=_t({target:t,opacity:[1,0],height:[o,0],"margin-bottom":[i,0],fillMode:"forwards",duration:400,easing:"out"}).then((function(){null==t||t.remove(),s.stop(),s=null,t=null,e=null}))},fe(t,[Zt])}}(),function(){var t={padEndDelay:!0,easing:"linear",duration:2e3,loop:4,speed:1},e=document.querySelector(".motion-path .el-1");e&&(Bt=_t(d({target:e,offsetDistance:["0%","100%"]},t)));var n=document.querySelector(".motion-path path"),r=document.querySelector(".motion-path .el-2");if(n&&r){for(var o=new Set,s=[],a=n.getTotalLength(),l=n.getPointAtLength(0),u=0;u<a;u++){var c=n.getPointAtLength(u),p=c.x,h=c.y;o.add([p,h]);var f=u-1>=1?n.getPointAtLength(u-1):l,m=f.x,y=f.y,g=u+1>=1?n.getPointAtLength(u+1):l,v=g.x,b=g.y,A=180*Math.atan2(y-b,m-v)/Math.PI;s.push(A)}Kt=_t(d({target:r,translate:i([],o),rotate:s,fillMode:"both"},t)),fe(".motion-path-demo",[Bt,Kt])}}()}});try{ve.boot()}catch(t){console.warn("[App] boot failed,",t)}}();