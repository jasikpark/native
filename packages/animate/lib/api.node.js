var x=Object.defineProperty,N=i=>x(i,"__esModule",{value:!0}),F=(i,t)=>{N(i);for(var e in t)x(i,e,{get:t[e],enumerable:!0})};F(exports,{Animate:()=>h,DefaultAnimationOptions:()=>O,animate:()=>C,computeValue:()=>A,default:()=>D,easings:()=>K,getEase:()=>w,getElements:()=>M,getTargets:()=>T,mapObject:()=>E});var y=class{constructor(t){this.map=new Map(t)}getMap(){return this.map}get(t){return this.map.get(t)}keys(){return Array.from(this.map.keys())}values(){return Array.from(this.map.values())}set(t,e){return this.map.set(t,e),this}add(t){let e=this.size,r=e;return this.set(r,t),this}get size(){return this.map.size}get length(){return this.map.size}last(t=1){let e=this.keys()[this.size-t];return this.get(e)}delete(t){return this.map.delete(t)}remove(t){return this.map.delete(t),this}clear(){return this.map.clear(),this}has(t){return this.map.has(t)}entries(){return this.map.entries()}forEach(t=(...r)=>{},e){return this.map.forEach(t,e),this}[Symbol.iterator](){return this.entries()}},z=({callback:i=()=>{},scope:t=null,name:e="event"})=>({callback:i,scope:t,name:e}),b=class extends y{constructor(t="event"){super();this.name=t}},d=class extends y{constructor(){super()}getEvent(t){let e=this.get(t);return e instanceof b?e:(this.set(t,new b(t)),this.get(t))}newListener(t,e,r){let n=this.getEvent(t);return n.add(z({name:t,callback:e,scope:r})),n}on(t,e,r){if(typeof t=="undefined")return this;typeof t=="string"&&(t=t.trim().split(/\s/g));let n,a,s=typeof t=="object"&&!Array.isArray(t),o=s?e:r;return s||(a=e),Object.keys(t).forEach(u=>{s?(n=u,a=t[u]):n=t[u],this.newListener(n,a,o)},this),this}removeListener(t,e,r){let n=this.get(t);if(n instanceof b&&e){let a=z({name:t,callback:e,scope:r});n.forEach((s,o)=>{if(s.callback===a.callback&&s.scope===a.scope)return n.remove(o)})}return n}off(t,e,r){if(typeof t=="undefined")return this;typeof t=="string"&&(t=t.trim().split(/\s/g));let n,a,s=typeof t=="object"&&!Array.isArray(t),o=s?e:r;return s||(a=e),Object.keys(t).forEach(u=>{s?(n=u,a=t[u]):n=t[u],typeof a=="function"?this.removeListener(n,a,o):this.remove(n)},this),this}emit(t,...e){return typeof t=="undefined"?this:(typeof t=="string"&&(t=t.trim().split(/\s/g)),t.forEach(r=>{let n=this.get(r);n instanceof b&&n.forEach(a=>{let{callback:s,scope:o}=a;s.apply(o,e)})},this),this)}},M=i=>typeof i=="string"?Array.from(document.querySelectorAll(i)):[i],T=i=>Array.isArray(i)?i:typeof i=="string"||i instanceof Node?M(i):i instanceof NodeList||i instanceof HTMLCollection?Array.from(i):[],A=(i,t)=>typeof i=="function"?i(...t):i,E=(i,t)=>{let e,r,n={},a=Object.keys(i);for(let s=0,o=a.length;s<o;s++)e=a[s],r=i[e],n[e]=A(r,t);return n},K={ease:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out","in-sine":"cubic-bezier(0.47, 0, 0.745, 0.715)","out-sine":"cubic-bezier(0.39, 0.575, 0.565, 1)","in-out-sine":"cubic-bezier(0.445, 0.05, 0.55, 0.95)","in-quad":"cubic-bezier(0.55, 0.085, 0.68, 0.53)","out-quad":"cubic-bezier(0.25, 0.46, 0.45, 0.94)","in-out-quad":"cubic-bezier(0.455, 0.03, 0.515, 0.955)","in-cubic":"cubic-bezier(0.55, 0.055, 0.675, 0.19)","out-cubic":"cubic-bezier(0.215, 0.61, 0.355, 1)","in-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1)","in-quart":"cubic-bezier(0.895, 0.03, 0.685, 0.22)","out-quart":"cubic-bezier(0.165, 0.84, 0.44, 1)","in-out-quart":"cubic-bezier(0.77, 0, 0.175, 1)","in-quint":"cubic-bezier(0.755, 0.05, 0.855, 0.06)","out-quint":"cubic-bezier(0.23, 1, 0.32, 1)","in-out-quint":"cubic-bezier(0.86, 0, 0.07, 1)","in-expo":"cubic-bezier(0.95, 0.05, 0.795, 0.035)","out-expo":"cubic-bezier(0.19, 1, 0.22, 1)","in-out-expo":"cubic-bezier(1, 0, 0, 1)","in-circ":"cubic-bezier(0.6, 0.04, 0.98, 0.335)","out-circ":"cubic-bezier(0.075, 0.82, 0.165, 1)","in-out-circ":"cubic-bezier(0.785, 0.135, 0.15, 0.86)","in-back":"cubic-bezier(0.6, -0.28, 0.735, 0.045)","out-back":"cubic-bezier(0.175, 0.885, 0.32, 1.275)","in-out-back":"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},w=i=>/^(ease|in|out)/.test(i)?K[i]:i,O={keyframes:[],loop:1,delay:0,speed:1,endDelay:0,easing:"ease",autoplay:!0,duration:1e3,onfinish(){},fillMode:"auto",direction:"normal"},h=class{constructor(t={}){this.options={};this.targets=[];this.properties={};this.animations=new Map;this.duration=0;this.emitter=new d;let{options:e,...r}=t;this.options=Object.assign({},O,e instanceof h?e.getOptions():e,r),this.loop=this.loop.bind(this);let{loop:n,delay:a,speed:s,easing:o,endDelay:u,duration:j,direction:v,fillMode:I,onfinish:V,target:S,keyframes:q,autoplay:P,...H}=this.options;this.mainElement=document.createElement("div"),this.targets=T(S),this.properties=H;let c=0,p=this.targets.length,f;for(;c<p;c++){let m=this.targets[c],l={easing:w(o),iterations:n===!0?Infinity:n,direction:v,endDelay:u,duration:j,delay:a,fill:I},g=A(q,[c,p,m]);f=g.length?g:this.properties,l=E(l,[c,p,m]),g.length>0||(f=E(f,[c,p,m]));let k=l.delay+l.duration*l.iterations+l.endDelay;this.duration<k&&(this.duration=k);let L=m.animate(f,l);L.onfinish=()=>{V(m,c,p)},this.animations.set(m,L)}this.mainAnimation=this.mainElement.animate([{opacity:"0"},{opacity:"1"}],{duration:this.duration,easing:"linear"}),this.setSpeed(s),P?this.play():this.pause(),this.promise=this.newPromise(),this.mainAnimation.onfinish=()=>{window.cancelAnimationFrame(this.animationFrame),this.finish()}}newPromise(){return new Promise((t,e)=>{try{this.finish=()=>(this.emit("finish",this.options),t(this.options))}catch(r){e(r)}})}getTargets(){return this.targets}then(t,e){return t=t?.bind(this),e=e?.bind(this),this.promise.then(t,e),this}catch(t){return t=t?.bind(this),this.promise.catch(t),this}finally(t){return t=t?.bind(this),this.promise.finally(t),this}loop(){this.animationFrame=window.requestAnimationFrame(this.loop),this.emit("tick change",this.getCurrentTime())}on(t,e,r){return this.emitter.on(t,e,r??this),this}off(t,e,r){return this.emitter.off(t,e,r??this),this}emit(t,...e){return this.emitter.emit(t,...e),this}getAnimation(t){return this.animations.get(t)}play(){return this.mainAnimation.playState!=="finished"&&(this.mainAnimation.play(),this.animationFrame=requestAnimationFrame(this.loop),this.animations.forEach(t=>{t.playState!=="finished"&&t.play()}),this.emit("play")),this}pause(){return this.mainAnimation.playState!=="finished"&&(this.mainAnimation.pause(),window.cancelAnimationFrame(this.animationFrame),this.animations.forEach(t=>{t.playState!=="finished"&&t.pause()}),this.emit("pause")),this}getDuration(){return this.duration}getCurrentTime(){return this.mainAnimation.currentTime}setCurrentTime(t){return this.mainAnimation.currentTime=t,this.animations.forEach(e=>{e.currentTime=t}),this}getProgress(){return this.getCurrentTime()/this.duration}setProgress(t){return this.mainAnimation.currentTime=t/100*this.duration,this.animations.forEach(e=>{e.currentTime=t*this.duration}),this}getSpeed(){return this.mainAnimation.playbackRate}setSpeed(t=1){return this.mainAnimation.playbackRate=t,this.animations.forEach(e=>{e.playbackRate=t}),this}reset(){this.setCurrentTime(0),this.promise=this.newPromise(),this.options.autoplay?this.play():this.pause()}getPlayState(){return this.mainAnimation.playState}getOptions(){return this.options}toJSON(){return this.getOptions()}stop(){for(this.animations.forEach(t=>{t.cancel()},this),this.mainAnimation.cancel(),window.cancelAnimationFrame(this.animationFrame),this.animations.clear();this.targets.length;)this.targets.pop();this.mainElement=void 0,this.animationFrame=void 0,this.emit("stop")}get[Symbol.toStringTag](){return"Animate"}},C=(i={})=>new h(i),D=C;
//# sourceMappingURL=api.node.js.map
