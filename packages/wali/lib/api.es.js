function t(t,n){if(null==t)return{};var i,e,r={},o=Object.keys(t);for(e=0;e<o.length;e++)n.indexOf(i=o[e])>=0||(r[i]=t[i]);return r}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var n,i=(function(t){function n(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}var i=function(t,n,i){return function(t,n){t.exports=function(){function t(t){var n;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(n=t[Symbol.asyncIterator]))return n.call(t);if(Symbol.iterator&&null!=(n=t[Symbol.iterator]))return n.call(t)}throw new TypeError("Object is not async iterable")}function n(t,i,r){if(!t.s){if(r instanceof e){if(!r.s)return void(r.o=n.bind(null,t,i));1&i&&(i=r.s),r=r.v}if(r&&r.then)return void r.then(n.bind(null,t,i),n.bind(null,t,2));t.s=i,t.v=r;var o=t.o;o&&o(t)}}var i=function(){function n(t){this.map=new Map(t)}var i,e=n.prototype;return e.getMap=function(){return this.map},e.get=function(t){return this.map.get(t)},e.keys=function(){return[].concat(this.map.keys())},e.values=function(){return[].concat(this.map.values())},e.set=function(t,n){return this.map.set(t,n),this},e.add=function(t){return this.set(this.size,t),this},e.last=function(t){void 0===t&&(t=1);var n=this.keys()[this.size-t];return this.get(n)},e.prev=function(){return this.last(2)},e.delete=function(t){return this.map.delete(t),this},e.clear=function(){return this.map.clear(),this},e.has=function(t){return this.map.has(t)},e.entries=function(){return this.map.entries()},e.forEach=function(t,n){return void 0===t&&(t=function(){}),this.map.forEach(t,n),this},e[Symbol.iterator]=function(){return this.entries()},e.methodCall=function(t){var n=arguments;return this.forEach(function(i){i[t].apply(i,[].slice.call(n,1))}),this},e.asyncMethodCall=function(n){try{var i,e,r,s,c,f=this,h=arguments,l=!0,p=!1,m=u(function(){return a(function(){e=t(f.map);var i=o(function(){return!!Promise.resolve(e.next()).then(function(t){return l=r.done,r=t,Promise.resolve(r.value).then(function(t){return s=t,!l})})},function(){return!!(l=!0)},function(){var t=s[1];return Promise.resolve(t[n].apply(t,[].slice.call(h,1))).then(function(){})});if(i&&i.then)return i.then(function(){})},function(t){p=!0,c=t})},function(t,n){function r(e){if(i)return e;if(t)throw n;return n}var o=u(function(){var t=function(){if(!l&&null!=e.return)return Promise.resolve(e.return()).then(function(){})}();if(t&&t.then)return t.then(function(){})},function(t,n){if(p)throw c;if(t)throw n;return n});return o&&o.then?o.then(r):r(o)});return Promise.resolve(m&&m.then?m.then(function(t){return i?t:f}):i?m:f)}catch(t){return Promise.reject(t)}},(i=[{key:"size",get:function(){return this.map.size}}])&&function(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(n.prototype,i),n}(),e=function(){function t(){}return t.prototype.then=function(i,e){var r=new t,o=this.s;if(o){var a=1&o?i:e;if(a){try{n(r,1,a(this.v))}catch(t){n(r,2,t)}return r}return this}return this.o=function(t){try{var o=t.v;1&t.s?n(r,1,i?i(o):o):e?n(r,1,e(o)):n(r,2,o)}catch(t){n(r,2,t)}},r},t}();function r(t){return t instanceof e&&1&t.s}function o(t,i,o){for(var a;;){var u=t();if(r(u)&&(u=u.v),!u)return s;if(u.then){a=0;break}var s=o();if(s&&s.then){if(!r(s)){a=1;break}s=s.s}if(i){var c=i();if(c&&c.then&&!r(c)){a=2;break}}}var f=new e,h=n.bind(null,f,2);return(0===a?u.then(p):1===a?s.then(l):c.then(m)).then(void 0,h),f;function l(e){s=e;do{if(i&&(c=i())&&c.then&&!r(c))return void c.then(m).then(void 0,h);if(!(u=t())||r(u)&&!u.v)return void n(f,1,s);if(u.then)return void u.then(p).then(void 0,h);r(s=o())&&(s=s.v)}while(!s||!s.then);s.then(l).then(void 0,h)}function p(t){t?(s=o())&&s.then?s.then(l).then(void 0,h):l(s):n(f,1,s)}function m(){(u=t())?u.then?u.then(p).then(void 0,h):p(u):n(f,1,s)}}function a(t,n){try{var i=t()}catch(t){return n(t)}return i&&i.then?i.then(void 0,n):i}function u(t,n){try{var i=t()}catch(t){return n(!0,t)}return i&&i.then?i.then(n.bind(null,!1),n.bind(null,!0)):n(!1,i)}return i}()}(i={path:void 0,exports:{},require:function(t,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}}),i.exports}(),e=function(){function t(t){var n=t.callback,i=t.scope,e=t.name;this.listener={callback:void 0===n?function(){}:n,scope:void 0===i?null:i,name:void 0===e?"event":e}}var n=t.prototype;return n.getCallback=function(){return this.listener.callback},n.getScope=function(){return this.listener.scope},n.getEventName=function(){return this.listener.name},n.toJSON=function(){return this.listener},t}(),r=function(t){function i(n){var i;return void 0===n&&(n="event"),(i=t.call(this)||this).name=n,i}return n(i,t),i}(i),o=function(t){function i(){return t.call(this)||this}n(i,t);var o=i.prototype;return o.getEvent=function(t){var n=this.get(t);return n instanceof r?n:(this.set(t,new r(t)),this.get(t))},o.newListener=function(t,n,i){var r=this.getEvent(t);return r.add(new e({name:t,callback:n,scope:i})),r},o.on=function(t,n,i){var e,r,o,a=this;return void 0===t||("string"==typeof t&&(t=t.split(/\s/g)),Object.keys(t).forEach(function(u){"object"!=typeof t||Array.isArray(t)?(e=t[u],r=n,o=i):(e=u,r=t[u],o=n),a.newListener(e,r,o)},this)),this},o.removeListener=function(t,n,i){var r=this.getEvent(t);if(n){for(var o,a=0,u=r.size,s=new e({name:t,callback:n,scope:i});a<u&&(o=r.get(a),console.log(o),o.getCallback()!==s.getCallback()||o.getScope()!==s.getScope());a++);r.delete(a)}return r},o.off=function(t,n,i){var e,r,o,a=this;return void 0===t||("string"==typeof t&&(t=t.split(/\s/g)),Object.keys(t).forEach(function(u){"object"!=typeof t||Array.isArray(t)?(e=t[u],r=n,o=i):(e=u,r=t[u],o=n),r?a.removeListener(e,r,o):a.delete(e)},this)),this},o.once=function(t,n,i){var e=this;return void 0===t||("string"==typeof t&&(t=t.split(/\s/g)),this.on(t,function r(){e.off(t,r,i),n.apply(i,[].slice.call(arguments))},i)),this},o.emit=function(t){var n=this,i=[].slice.call(arguments,1);return void 0===t||("string"==typeof t&&(t=t.split(/\s/g)),t.forEach(function(t){var e=n.getEvent(t),r=new CustomEvent(t,{detail:i});window.dispatchEvent(r),e.forEach(function(t){var n=t.toJSON();n.callback.apply(n.scope,i)})},this)),this},i}(i);t.Event=r,t.EventEmitter=o,t.Listener=e}((n={path:void 0,exports:{},require:function(t,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}}).exports),n.exports),e=function(t){return"string"==typeof t?Array.from(document.querySelectorAll(t)):[t]},r=function(t){return Array.isArray(t)?t:"string"==typeof t||t instanceof Node?e(t):t instanceof NodeList||t instanceof HTMLCollection?Array.from(t):[]},o=function(t,n){return"function"==typeof t?t.apply(void 0,n):t},a=function(t,n){for(var i,e={},r=Object.keys(t),a=0,u=r.length;a<u;a++)e[i=r[a]]=o(t[i],n);return e},u={ease:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out","in-sine":"cubic-bezier(0.47, 0, 0.745, 0.715)","out-sine":"cubic-bezier(0.39, 0.575, 0.565, 1)","in-out-sine":"cubic-bezier(0.445, 0.05, 0.55, 0.95)","in-quad":"cubic-bezier(0.55, 0.085, 0.68, 0.53)","out-quad":"cubic-bezier(0.25, 0.46, 0.45, 0.94)","in-out-quad":"cubic-bezier(0.455, 0.03, 0.515, 0.955)","in-cubic":"cubic-bezier(0.55, 0.055, 0.675, 0.19)","out-cubic":"cubic-bezier(0.215, 0.61, 0.355, 1)","in-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1)","in-quart":"cubic-bezier(0.895, 0.03, 0.685, 0.22)","out-quart":"cubic-bezier(0.165, 0.84, 0.44, 1)","in-out-quart":"cubic-bezier(0.77, 0, 0.175, 1)","in-quint":"cubic-bezier(0.755, 0.05, 0.855, 0.06)","out-quint":"cubic-bezier(0.23, 1, 0.32, 1)","in-out-quint":"cubic-bezier(0.86, 0, 0.07, 1)","in-expo":"cubic-bezier(0.95, 0.05, 0.795, 0.035)","out-expo":"cubic-bezier(0.19, 1, 0.22, 1)","in-out-expo":"cubic-bezier(1, 0, 0, 1)","in-circ":"cubic-bezier(0.6, 0.04, 0.98, 0.335)","out-circ":"cubic-bezier(0.075, 0.82, 0.165, 1)","in-out-circ":"cubic-bezier(0.785, 0.135, 0.15, 0.86)","in-back":"cubic-bezier(0.6, -0.28, 0.735, 0.045)","out-back":"cubic-bezier(0.175, 0.885, 0.32, 1.275)","in-out-back":"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},s=function(t){return/^(ease|in|out)/.test(t)?u[t]:t},c={keyframes:[],loop:1,delay:0,speed:1,endDelay:0,easing:"ease",autoplay:!0,duration:1e3,onfinish:function(){},fillMode:"auto",direction:"normal"},f=function(){function n(n){var e=this;void 0===n&&(n={}),this.options={},this.targets=[],this.properties={},this.animations=new Map,this.duration=0,this.emitter=new i.EventEmitter;var u=n.options,f=t(n,["options"]);this.options=Object.assign({},c,u,f);var h,l=this.options,p=l.loop,m=l.delay,d=l.speed,v=l.easing,y=l.endDelay,b=l.duration,g=l.direction,w=l.fillMode,k=l.onfinish,E=l.target,z=l.keyframes,A=l.autoplay,S=t(l,["loop","delay","speed","easing","endDelay","duration","direction","fillMode","onfinish","target","keyframes","autoplay"]);this.mainElement=document.createElement("span"),this.targets=r(E),this.properties=S;for(var q=function(t,n){var i=e.targets[t],r={easing:s(v),iterations:!0===p?Infinity:p,direction:g,endDelay:y,duration:b,delay:m,fill:w},u=o(z,[t,n,i]);h=u.length?u:e.properties,r=a(r,[t,n,i]),u.length>0||(h=a(h,[t,n,i]));var c=r.delay+r.duration*r.iterations+r.endDelay;e.duration<c&&(e.duration=c);var f=i.animate(h,r);f.onfinish=function(){k(i,t,n)},e.animations.set(i,f)},O=0,P=this.targets.length;O<P;O++)q(O,P);this.mainAnimation=this.mainElement.animate([{opacity:"0"},{opacity:"1"}],{duration:this.duration,easing:"linear"}),this.setSpeed(d),A?this.play():this.pause(),this.promise=this.newPromise(),this.mainAnimation.onfinish=function(){e.finish(e.options),window.cancelAnimationFrame(e.animationFrame)}}var e=n.prototype;return e.newPromise=function(){var t=this;return new Promise(function(n,i){try{t.finish=function(i){return t.emit("finish",i),n(i)}}catch(t){i(t)}})},e.then=function(t,n){return this.promise.then(t,n)},e.catch=function(t){return this.promise.catch(t)},e.finally=function(t){return this.promise.finally(t)},e.loop=function(){this.animationFrame=window.requestAnimationFrame(this.loop.bind(this)),this.emit("tick change",this.getCurrentTime())},e.on=function(t,n,i){return this.emitter.on(t,n,i),this},e.off=function(t,n,i){return this.emitter.off(t,n,i),this},e.emit=function(t){var n;return(n=this.emitter).emit.apply(n,[t].concat([].slice.call(arguments,1))),this},e.getAnimation=function(t){return this.animations.get(t)},e.play=function(){return"finished"!==this.mainAnimation.playState&&(this.mainAnimation.play(),this.animationFrame=requestAnimationFrame(this.loop.bind(this)),this.animations.forEach(function(t){"finished"!==t.playState&&t.play()}),this.emit("play")),this},e.pause=function(){return"finished"!==this.mainAnimation.playState&&(this.mainAnimation.pause(),window.cancelAnimationFrame(this.animationFrame),this.animations.forEach(function(t){"finished"!==t.playState&&t.pause()}),this.emit("pause")),this},e.getDuration=function(){return this.duration},e.getCurrentTime=function(){return this.mainAnimation.currentTime},e.setCurrentTime=function(t){return this.mainAnimation.currentTime=t,this.animations.forEach(function(n){n.currentTime=t}),this},e.getProgress=function(){return this.getCurrentTime()/this.duration},e.setProgress=function(t){var n=this;return this.mainAnimation.currentTime=t*this.duration,this.animations.forEach(function(i){i.currentTime=t*n.duration}),this},e.getSpeed=function(){return this.mainAnimation.playbackRate},e.setSpeed=function(t){return void 0===t&&(t=1),this.mainAnimation.playbackRate=t,this.animations.forEach(function(n){n.playbackRate=t}),this},e.reset=function(){this.setCurrentTime(0),this.promise=this.newPromise(),this.options.autoplay?this.play():this.pause()},e.getPlayState=function(){return this.mainAnimation.playState},e.getOptions=function(){return this.options},e.toJSON=function(){return this.getOptions()},n}(),h=function(t){return void 0===t&&(t={}),new f(t)};export{f as Animate,c as DefaultAnimationOptions,h as animate,o as computeValue,u as easings,s as getEase,e as getElements,r as getTargets,a as mapObject};
//# sourceMappingURL=api.es.js.map
