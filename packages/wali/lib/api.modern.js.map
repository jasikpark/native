{"version":3,"file":"api.modern.js","sources":["../node_modules/@okikio/event-emitter/lib/api.umd.js","../src/api.ts"],"sourcesContent":["!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?n(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],n):n((t=t||self)[\"@okikio/event-emitter\"]={})}(this,function(t){function n(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self&&self;var e=function(t,n,e){return function(t,n){t.exports=function(){function t(t){var n;if(\"undefined\"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(n=t[Symbol.asyncIterator]))return n.call(t);if(Symbol.iterator&&null!=(n=t[Symbol.iterator]))return n.call(t)}throw new TypeError(\"Object is not async iterable\")}function n(t,e,i){if(!t.s){if(i instanceof r){if(!i.s)return void(i.o=n.bind(null,t,e));1&e&&(e=i.s),i=i.v}if(i&&i.then)return void i.then(n.bind(null,t,e),n.bind(null,t,2));t.s=e,t.v=i;var o=t.o;o&&o(t)}}var e=function(){function n(t){this.map=new Map(t)}var e,r=n.prototype;return r.getMap=function(){return this.map},r.get=function(t){return this.map.get(t)},r.keys=function(){return[].concat(this.map.keys())},r.values=function(){return[].concat(this.map.values())},r.set=function(t,n){return this.map.set(t,n),this},r.add=function(t){return this.set(this.size,t),this},r.last=function(t){void 0===t&&(t=1);var n=this.keys()[this.size-t];return this.get(n)},r.prev=function(){return this.last(2)},r.delete=function(t){return this.map.delete(t),this},r.clear=function(){return this.map.clear(),this},r.has=function(t){return this.map.has(t)},r.entries=function(){return this.map.entries()},r.forEach=function(t,n){return void 0===t&&(t=function(){}),this.map.forEach(t,n),this},r[Symbol.iterator]=function(){return this.entries()},r.methodCall=function(t){var n=arguments;return this.forEach(function(e){e[t].apply(e,[].slice.call(n,1))}),this},r.asyncMethodCall=function(n){try{var e,r,i,s,f,a=this,h=arguments,l=!0,v=!1,p=c(function(){return u(function(){r=t(a.map);var e=o(function(){return!!Promise.resolve(r.next()).then(function(t){return l=i.done,i=t,Promise.resolve(i.value).then(function(t){return s=t,!l})})},function(){return!!(l=!0)},function(){var t=s[1];return Promise.resolve(t[n].apply(t,[].slice.call(h,1))).then(function(){})});if(e&&e.then)return e.then(function(){})},function(t){v=!0,f=t})},function(t,n){function i(r){if(e)return r;if(t)throw n;return n}var o=c(function(){var t=function(){if(!l&&null!=r.return)return Promise.resolve(r.return()).then(function(){})}();if(t&&t.then)return t.then(function(){})},function(t,n){if(v)throw f;if(t)throw n;return n});return o&&o.then?o.then(i):i(o)});return Promise.resolve(p&&p.then?p.then(function(t){return e?t:a}):e?p:a)}catch(t){return Promise.reject(t)}},(e=[{key:\"size\",get:function(){return this.map.size}}])&&function(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(n.prototype,e),n}(),r=function(){function t(){}return t.prototype.then=function(e,r){var i=new t,o=this.s;if(o){var u=1&o?e:r;if(u){try{n(i,1,u(this.v))}catch(t){n(i,2,t)}return i}return this}return this.o=function(t){try{var o=t.v;1&t.s?n(i,1,e?e(o):o):r?n(i,1,r(o)):n(i,2,o)}catch(t){n(i,2,t)}},i},t}();function i(t){return t instanceof r&&1&t.s}function o(t,e,o){for(var u;;){var c=t();if(i(c)&&(c=c.v),!c)return s;if(c.then){u=0;break}var s=o();if(s&&s.then){if(!i(s)){u=1;break}s=s.s}if(e){var f=e();if(f&&f.then&&!i(f)){u=2;break}}}var a=new r,h=n.bind(null,a,2);return(0===u?c.then(v):1===u?s.then(l):f.then(p)).then(void 0,h),a;function l(r){s=r;do{if(e&&(f=e())&&f.then&&!i(f))return void f.then(p).then(void 0,h);if(!(c=t())||i(c)&&!c.v)return void n(a,1,s);if(c.then)return void c.then(v).then(void 0,h);i(s=o())&&(s=s.v)}while(!s||!s.then);s.then(l).then(void 0,h)}function v(t){t?(s=o())&&s.then?s.then(l).then(void 0,h):l(s):n(a,1,s)}function p(){(c=t())?c.then?c.then(v).then(void 0,h):v(c):n(a,1,s)}}function u(t,n){try{var e=t()}catch(t){return n(t)}return e&&e.then?e.then(void 0,n):e}function c(t,n){try{var e=t()}catch(t){return n(!0,t)}return e&&e.then?e.then(n.bind(null,!1),n.bind(null,!0)):n(!1,e)}return e}()}(e={path:void 0,exports:{},require:function(t,n){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}()}}),e.exports}(),r=function(){function t(t){var n=t.callback,e=t.scope,r=t.name;this.listener={callback:void 0===n?function(){}:n,scope:void 0===e?null:e,name:void 0===r?\"event\":r}}var n=t.prototype;return n.getCallback=function(){return this.listener.callback},n.getScope=function(){return this.listener.scope},n.getEventName=function(){return this.listener.name},n.toJSON=function(){return this.listener},t}(),i=function(t){function e(n){var e;return void 0===n&&(n=\"event\"),(e=t.call(this)||this).name=n,e}return n(e,t),e}(e),o=function(t){function e(){return t.call(this)||this}n(e,t);var o=e.prototype;return o.getEvent=function(t){var n=this.get(t);return n instanceof i?n:(this.set(t,new i(t)),this.get(t))},o.newListener=function(t,n,e){var i=this.getEvent(t);return i.add(new r({name:t,callback:n,scope:e})),i},o.on=function(t,n,e){var r,i,o,u=this;return void 0===t||(\"string\"==typeof t&&(t=t.split(/\\s/g)),Object.keys(t).forEach(function(c){\"object\"!=typeof t||Array.isArray(t)?(r=t[c],i=n,o=e):(r=c,i=t[c],o=n),u.newListener(r,i,o)},this)),this},o.removeListener=function(t,n,e){var i=this.getEvent(t);if(n){for(var o,u=0,c=i.size,s=new r({name:t,callback:n,scope:e});u<c&&(o=i.get(u),console.log(o),o.getCallback()!==s.getCallback()||o.getScope()!==s.getScope());u++);i.delete(u)}return i},o.off=function(t,n,e){var r,i,o,u=this;return void 0===t||(\"string\"==typeof t&&(t=t.split(/\\s/g)),Object.keys(t).forEach(function(c){\"object\"!=typeof t||Array.isArray(t)?(r=t[c],i=n,o=e):(r=c,i=t[c],o=n),i?u.removeListener(r,i,o):u.delete(r)},this)),this},o.once=function(t,n,e){var r=this;return void 0===t||(\"string\"==typeof t&&(t=t.split(/\\s/g)),this.on(t,function i(){r.off(t,i,e),n.apply(e,[].slice.call(arguments))},e)),this},o.emit=function(t){var n=this,e=[].slice.call(arguments,1);return void 0===t||(\"string\"==typeof t&&(t=t.split(/\\s/g)),t.forEach(function(t){var r=n.getEvent(t),i=new CustomEvent(t,{detail:e});window.dispatchEvent(i),r.forEach(function(t){var n=t.toJSON();n.callback.apply(n.scope,e)})},this)),this},e}(e);t.Event=i,t.EventEmitter=o,t.Listener=r});\n//# sourceMappingURL=api.umd.js.map\n","import { EventEmitter, EventInput, ListenerCallback } from \"@okikio/event-emitter\";\r\n\r\n// DOM\r\nexport type AnimationTarget = string | Node | NodeList | HTMLCollection | HTMLElement[] | any[];\r\nexport const getElements = (selector: string | Node): Node[] => {\r\n    return typeof selector === \"string\" ? Array.from(document.querySelectorAll(selector as string)) : [selector];\r\n};\r\n\r\nexport const getTargets = (targets: AnimationTarget): Node[] => {\r\n    if (Array.isArray(targets)) return targets;\r\n    if (typeof targets == \"string\" || targets instanceof Node)\r\n        return getElements(targets);\r\n    if (targets instanceof NodeList || targets instanceof HTMLCollection)\r\n        return Array.from(targets);\r\n    return [];\r\n};\r\n\r\n// VALUES\r\nexport type closureArgs = [number, number, HTMLElement];\r\nexport type closure = ((index?: number, total?: number, element?: HTMLElement) => any) | any;\r\nexport const computeValue = (value: closure, args: closureArgs) => {\r\n    if (typeof value === \"function\") {\r\n        return value(...args);\r\n    } else { return value; }\r\n};\r\n\r\nexport const mapObject = (obj: object, args: closureArgs): any => {\r\n    let key, value, result = {};\r\n    let keys = Object.keys(obj);\r\n    for (let i = 0, len = keys.length; i < len; i++) {\r\n        key = keys[i];\r\n        value = obj[key];\r\n        result[key] = computeValue(value, args);\r\n    }\r\n\r\n    return result;\r\n};\r\n\r\n// From: [https://easings.net]\r\nexport const easings = {\r\n    \"ease\": \"ease\",\r\n    \"in\": \"ease-in\",\r\n    \"out\": \"ease-out\",\r\n    \"in-out\": \"ease-in-out\",\r\n\r\n    // Sine\r\n    \"in-sine\": \"cubic-bezier(0.47, 0, 0.745, 0.715)\",\r\n    \"out-sine\": \"cubic-bezier(0.39, 0.575, 0.565, 1)\",\r\n    \"in-out-sine\": \"cubic-bezier(0.445, 0.05, 0.55, 0.95)\",\r\n\r\n    // Quad\r\n    \"in-quad\": \"cubic-bezier(0.55, 0.085, 0.68, 0.53)\",\r\n    \"out-quad\": \"cubic-bezier(0.25, 0.46, 0.45, 0.94)\",\r\n    \"in-out-quad\": \"cubic-bezier(0.455, 0.03, 0.515, 0.955)\",\r\n\r\n    // Cubic\r\n    \"in-cubic\": \"cubic-bezier(0.55, 0.055, 0.675, 0.19)\",\r\n    \"out-cubic\": \"cubic-bezier(0.215, 0.61, 0.355, 1)\",\r\n    \"in-out-cubic\": \"cubic-bezier(0.645, 0.045, 0.355, 1)\",\r\n\r\n    // Quart\r\n    \"in-quart\": \"cubic-bezier(0.895, 0.03, 0.685, 0.22)\",\r\n    \"out-quart\": \"cubic-bezier(0.165, 0.84, 0.44, 1)\",\r\n    \"in-out-quart\": \"cubic-bezier(0.77, 0, 0.175, 1)\",\r\n\r\n    // Quint\r\n    \"in-quint\": \"cubic-bezier(0.755, 0.05, 0.855, 0.06)\",\r\n    \"out-quint\": \"cubic-bezier(0.23, 1, 0.32, 1)\",\r\n    \"in-out-quint\": \"cubic-bezier(0.86, 0, 0.07, 1)\",\r\n\r\n    // Expo\r\n    \"in-expo\": \"cubic-bezier(0.95, 0.05, 0.795, 0.035)\",\r\n    \"out-expo\": \"cubic-bezier(0.19, 1, 0.22, 1)\",\r\n    \"in-out-expo\": \"cubic-bezier(1, 0, 0, 1)\",\r\n\r\n    // Circ\r\n    \"in-circ\": \"cubic-bezier(0.6, 0.04, 0.98, 0.335)\",\r\n    \"out-circ\": \"cubic-bezier(0.075, 0.82, 0.165, 1)\",\r\n    \"in-out-circ\": \"cubic-bezier(0.785, 0.135, 0.15, 0.86)\",\r\n\r\n    // Back\r\n    \"in-back\": \"cubic-bezier(0.6, -0.28, 0.735, 0.045)\",\r\n    \"out-back\": \"cubic-bezier(0.175, 0.885, 0.32, 1.275)\",\r\n    \"in-out-back\": \"cubic-bezier(0.68, -0.55, 0.265, 1.55)\"\r\n};\r\nexport const getEase = (ease: string) => {\r\n    return /^(ease|in|out)/.test(ease) ? easings[ease] : ease;\r\n};\r\n\r\nexport interface AnimationOptions {\r\n    target?: AnimationTarget,\r\n\r\n    speed?: number | closure,\r\n    delay?: number | closure,\r\n    easing?: string | closure,\r\n    endDelay?: number | closure,\r\n    duration?: number | closure,\r\n    autoplay?: boolean | closure,\r\n    keyframes?: object[] | closure,\r\n    loop?: number | boolean | closure, // iterations: number,\r\n    options?: AnimationOptions | closure,\r\n    onfinish?: (element?: HTMLElement, index?: number, total?: number) => any,\r\n    fillMode?: \"none\" | \"forwards\" | \"backwards\" | \"both\" | \"auto\" | closure,\r\n    direction?: \"normal\" | \"reverse\" | \"alternate\" | \"alternate-reverse\" | closure,\r\n    [property: string]: boolean | object | string | string[] | number | null | (number | null)[] | closure | undefined;\r\n};\r\n\r\nexport const DefaultAnimationOptions: AnimationOptions = {\r\n    keyframes: [],\r\n\r\n    loop: 1, // iterations: number,\r\n    delay: 0,\r\n    speed: 1,\r\n    endDelay: 0,\r\n    easing: \"ease\",\r\n    autoplay: true,\r\n    duration: 1000,\r\n    onfinish() { },\r\n    fillMode: \"auto\",\r\n    direction: \"normal\",\r\n};\r\n\r\n// You can check it out here: https://codepen.io/okikio/pen/qBbdGaW?editors=0011\r\nexport class Animate {\r\n    /**\r\n     * Stores the options for the current animation\r\n     *\r\n     * @protected\r\n     * @type AnimationOptions\r\n     * @memberof Animate\r\n     */\r\n    protected options: AnimationOptions = {};\r\n\r\n    /**\r\n     * The Array of Elements to Animate\r\n     *\r\n     * @protected\r\n     * @type {Node[]}\r\n     * @memberof Animate\r\n     */\r\n    protected targets: Node[] = [];\r\n\r\n    /**\r\n     * The properties to animate\r\n     *\r\n     * @protected\r\n     * @type {object}\r\n     * @memberof Animate\r\n     */\r\n    protected properties: object = {};\r\n\r\n    /**\r\n     * A Set of Animations\r\n     *\r\n     * @protected\r\n     * @type {Map<HTMLElement, Animation>}\r\n     * @memberof Animate\r\n     */\r\n    protected animations: Map<HTMLElement, Animation> = new Map();\r\n\r\n    /**\r\n     * The total duration of all Animation's\r\n     *\r\n     * @protected\r\n     * @type {number}\r\n     * @memberof Animate\r\n     */\r\n    protected duration: number = 0;\r\n\r\n    /**\r\n     * The Element the main animation uses\r\n     *\r\n     * @protected\r\n     * @type {HTMLElement}\r\n     * @memberof Animate\r\n     */\r\n    protected mainElement: HTMLElement;\r\n\r\n    /**\r\n     * Stores an animation that runs on the total duration of the all other Animations, and as such it's the main Animation\r\n     *\r\n     * @protected\r\n     * @type {Animation}\r\n     * @memberof Animate\r\n     */\r\n    protected mainAnimation: Animation;\r\n\r\n    /**\r\n     * Stores request frame calls\r\n     *\r\n     * @protected\r\n     * @type {number}\r\n     * @memberof Animate\r\n     */\r\n    protected animationFrame: number;\r\n\r\n    /**\r\n     * An event emitter\r\n     *\r\n     * @protected\r\n     * @type {EventEmitter}\r\n     * @memberof Animate\r\n     */\r\n    protected emitter: EventEmitter = new EventEmitter();\r\n\r\n    /**\r\n     * The finish method, is called when the main animation has finished\r\n     *\r\n     * @protected\r\n     * @type {*}\r\n     * @memberof Animate\r\n     */\r\n    protected finish: any;\r\n\r\n    /**\r\n     * Returns a promise that is fulfilled when the mainAnimation is finished\r\n     *\r\n     * @protected\r\n     * @type {Promise<AnimationOptions>}\r\n     * @memberof Animate\r\n     */\r\n    protected promise: Promise<AnimationOptions>;\r\n\r\n    /**\r\n     * Creates an instance of Animate.\r\n     * \r\n     * @param {AnimationOptions} options\r\n     * @memberof Animate\r\n     */\r\n    constructor(options: AnimationOptions = {}) {\r\n        let { options: animation, ...rest } = options;\r\n        this.options = Object.assign({}, DefaultAnimationOptions, animation, rest);\r\n\r\n        let {\r\n            loop,\r\n            delay,\r\n            speed,\r\n            easing,\r\n            endDelay,\r\n            duration,\r\n            direction,\r\n            fillMode,\r\n            onfinish,\r\n            target,\r\n            keyframes,\r\n            autoplay,\r\n            ...properties\r\n        } = this.options;\r\n\r\n        this.mainElement = document.createElement(\"span\");\r\n        this.targets = getTargets(target);\r\n        this.properties = properties;\r\n\r\n        let animationKeyframe: Keyframe[] | PropertyIndexedKeyframes;\r\n        for (let i = 0, len = this.targets.length; i < len; i++) {\r\n            let target = this.targets[i] as HTMLElement;\r\n            let animationOptions = {\r\n                easing: getEase(easing),\r\n                iterations: loop === true ? Infinity : (loop as number),\r\n                direction,\r\n                endDelay,\r\n                duration,\r\n                delay,\r\n                fill: fillMode,\r\n            };\r\n\r\n            // Accept keyframes as a keyframes Object, or a method, \r\n            // if there are no animations in the keyframes array,\r\n            // uses css properties from the options object\r\n            let arrKeyframes = computeValue((keyframes as Keyframe[]), [i, len, target]);\r\n            animationKeyframe = arrKeyframes.length ? arrKeyframes :\r\n                (this.properties as PropertyIndexedKeyframes);\r\n\r\n            // Allows the use of functions as the values, for both the keyframes and the animation object\r\n            // It adds the capability of advanced stagger animation, similar to the anime js stagger functions\r\n            animationOptions = mapObject(animationOptions, [i, len, target]);\r\n            if (!(arrKeyframes.length > 0))\r\n                animationKeyframe = mapObject(animationKeyframe, [i, len, target]);\r\n\r\n            // Set the Animate classes duration to be the Animation with the largest totalDuration\r\n            let tempDuration: number =\r\n                animationOptions.delay +\r\n                (animationOptions.duration * animationOptions.iterations) +\r\n                animationOptions.endDelay;\r\n            if (this.duration < tempDuration) this.duration = tempDuration;\r\n\r\n            // Add animation to the Animations Set\r\n            let animation = target.animate(animationKeyframe, animationOptions);\r\n            animation.onfinish = () => {\r\n                onfinish(target, i, len);\r\n            };\r\n            this.animations.set(target, animation);\r\n        }\r\n\r\n        this.mainAnimation = this.mainElement.animate([\r\n            { opacity: \"0\" },\r\n            { opacity: \"1\" }\r\n        ], {\r\n            duration: this.duration,\r\n            easing: \"linear\"\r\n        });\r\n\r\n        this.setSpeed(speed);\r\n        if (autoplay) this.play();\r\n        else this.pause();\r\n\r\n        this.promise = this.newPromise();\r\n        this.mainAnimation.onfinish = () => {\r\n            this.finish(this.options);\r\n            window.cancelAnimationFrame(this.animationFrame);\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Returns a new Promise that is resolve when this.finish is called\r\n     *\r\n     * @protected\r\n     * @returns {Promise<AnimationOptions>}\r\n     * @memberof Animate\r\n     */\r\n    protected newPromise(): Promise<AnimationOptions> {\r\n        return new Promise((resolve, reject) => {\r\n            try {\r\n                this.finish = (options: AnimationOptions) => {\r\n                    this.emit(\"finish\", options);\r\n                    return resolve(options);\r\n                };\r\n            } catch (err) { reject(err); }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Fulfills the this.promise Promise\r\n     *\r\n     * @param {(value?: any) => any} [onFulfilled]\r\n     * @param {(reason?: any) => any} [onRejected]\r\n     * @returns {Promise<AnimationOptions>}\r\n     * @memberof Animate\r\n     */\r\n    public then(\r\n        onFulfilled?: (value?: any) => any,\r\n        onRejected?: (reason?: any) => any\r\n    ): Promise<AnimationOptions> {\r\n        return this.promise.then(onFulfilled, onRejected);\r\n    }\r\n\r\n    /**\r\n     * Catches error that occur in the this.promise Promise\r\n     *\r\n     * @param {(reason?: any) => any} onRejected\r\n     * @returns {Promise<AnimationOptions>}\r\n     * @memberof Animate\r\n     */\r\n    public catch(onRejected: (reason?: any) => any): Promise<AnimationOptions> {\r\n        return this.promise.catch(onRejected);\r\n    }\r\n\r\n    /**\r\n     * If you don't care if the this.promise Promise has either been rejected or resolved  \r\n     *\r\n     * @param {() => any} onFinally\r\n     * @returns {Promise<AnimationOptions>}\r\n     * @memberof Animate\r\n     */\r\n    public finally(onFinally: () => any): Promise<AnimationOptions> {\r\n        return this.promise.finally(onFinally);\r\n    }\r\n\r\n    /**\r\n     * Represents an Animation Frame Loop\r\n     *\r\n     * @private\r\n     * @memberof Animate\r\n     */\r\n    protected loop(): void {\r\n        this.animationFrame = window.requestAnimationFrame(this.loop.bind(this));\r\n        this.emit(\"tick change\", this.getCurrentTime());\r\n    }\r\n\r\n    /**\r\n     * Adds a listener for a given event\r\n     *\r\n     * @param {EventInput} events\r\n     * @param {ListenerCallback} [callback]\r\n     * @param {object} [scope]\r\n     * @returns {Animate}\r\n     * @memberof Animate\r\n     */\r\n    public on(events: EventInput, callback?: ListenerCallback, scope?: object): Animate {\r\n        this.emitter.on(events, callback, scope);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Removes a listener from an event\r\n     *\r\n     * @param {EventInput} events\r\n     * @param {ListenerCallback} [callback]\r\n     * @param {object} [scope]\r\n     * @returns {Animate}\r\n     * @memberof Animate\r\n     */\r\n    public off(events: EventInput, callback?: ListenerCallback, scope?: object): Animate {\r\n        this.emitter.off(events, callback, scope);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Call all listeners within an event\r\n     *\r\n     * @param {(string | any[])} events\r\n     * @param {...any} args\r\n     * @returns {Animate}\r\n     * @memberof Animate\r\n     */\r\n    public emit(events: string | any[], ...args: any): Animate {\r\n        this.emitter.emit(events, ...args);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Get a specific Animation from an Animate instance\r\n     *\r\n     * @param {HTMLElement} element\r\n     * @returns {Animation}\r\n     * @memberof Animate\r\n     */\r\n    public getAnimation(element: HTMLElement): Animation {\r\n        return this.animations.get(element);\r\n    }\r\n\r\n    /**\r\n     * Play Animation's\r\n     *\r\n     * @returns {Animate}\r\n     * @memberof Animate\r\n     */\r\n    public play(): Animate {\r\n        // Once the animation is done, it's done, it can only be paused by the reset method\r\n        if (this.mainAnimation.playState !== \"finished\") {\r\n            this.mainAnimation.play();\r\n            this.animationFrame = requestAnimationFrame(this.loop.bind(this));\r\n            this.animations.forEach(animation => {\r\n                if (animation.playState !== \"finished\") animation.play();\r\n            });\r\n            this.emit(\"play\");\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Pause Animation's\r\n     *\r\n     * @returns {Animate}\r\n     * @memberof Animate\r\n     */\r\n    public pause(): Animate {\r\n        // Once the animation is done, it's done, it can only be reset by the reset method\r\n        if (this.mainAnimation.playState !== \"finished\") {\r\n            this.mainAnimation.pause();\r\n            window.cancelAnimationFrame(this.animationFrame);\r\n            this.animations.forEach(animation => {\r\n                if (animation.playState !== \"finished\") animation.pause();\r\n            });\r\n            this.emit(\"pause\");\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Returns the total duration of all Animations\r\n     *\r\n     * @returns {number}\r\n     * @memberof Animate\r\n     */\r\n    public getDuration(): number {\r\n        return this.duration;\r\n    }\r\n\r\n    /**\r\n     * Returns the current time of the Main Animation\r\n     *\r\n     * @returns {number}\r\n     * @memberof Animate\r\n     */\r\n    public getCurrentTime(): number {\r\n        return this.mainAnimation.currentTime;\r\n    }\r\n\r\n    /**\r\n     * Set the current time of the Main Animation\r\n     *\r\n     * @param {number} time\r\n     * @returns {Animate}\r\n     * @memberof Animate\r\n     */\r\n    public setCurrentTime(time: number): Animate {\r\n        this.mainAnimation.currentTime = time;\r\n        this.animations.forEach(animation => {\r\n            animation.currentTime = time;\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Returns the Animation progress as a fraction of the current time / duration\r\n     *\r\n     * @returns\r\n     * @memberof Animate\r\n     */\r\n    public getProgress() {\r\n        return this.getCurrentTime() / this.duration;\r\n    }\r\n\r\n    /**\r\n     * Set the Animation progress as a fraction of the current time / duration\r\n     *\r\n     * @param {number} percent\r\n     * @returns {Animate}\r\n     * @memberof Animate\r\n     */\r\n    public setProgress(percent: number): Animate {\r\n        this.mainAnimation.currentTime = percent * this.duration;\r\n        this.animations.forEach(animation => {\r\n            animation.currentTime = percent * this.duration;\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Return the playback speed of the animation\r\n     *\r\n     * @returns {number}\r\n     * @memberof Animate\r\n     */\r\n    public getSpeed(): number {\r\n        return this.mainAnimation.playbackRate;\r\n    }\r\n    /**\r\n     * Set the playback speed of an Animation\r\n     *\r\n     * @param {number} [speed=1]\r\n     * @returns {Animate}\r\n     * @memberof Animate\r\n     */\r\n    public setSpeed(speed: number = 1): Animate {\r\n        this.mainAnimation.playbackRate = speed;\r\n        this.animations.forEach(animation => {\r\n            animation.playbackRate = speed;\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Reset all Animations\r\n     *\r\n     * @memberof Animate\r\n     */\r\n    public reset() {\r\n        this.setCurrentTime(0);\r\n        this.promise = this.newPromise();\r\n\r\n        if (this.options.autoplay) this.play();\r\n        else this.pause();\r\n    }\r\n\r\n    /**\r\n     * Returns the current playing state\r\n     *\r\n     * @returns {(\"idle\" | \"running\" | \"paused\" | \"finished\")}\r\n     * @memberof Animate\r\n     */\r\n    public getPlayState(): \"idle\" | \"running\" | \"paused\" | \"finished\" {\r\n        return this.mainAnimation.playState;\r\n    }\r\n\r\n    /**\r\n     * Get the options of an Animate instance\r\n     *\r\n     * @returns {AnimationOptions}\r\n     * @memberof Animate\r\n     */\r\n    public getOptions(): AnimationOptions {\r\n        return this.options;\r\n    }\r\n\r\n    // Returns the Animate options, as JSON\r\n    public toJSON(): AnimationOptions {\r\n        return this.getOptions();\r\n    }\r\n}\r\n\r\n// Creates a new Animate instance\r\nexport const animate = (options: AnimationOptions = {}): Animate => {\r\n    return new Animate(options);\r\n};"],"names":["t","n","prototype","Object","create","constructor","__proto__","e","exports","Symbol","asyncIterator","call","iterator","TypeError","i","s","r","o","bind","v","then","this","map","Map","getMap","get","keys","concat","values","set","add","size","last","prev","delete","clear","has","entries","forEach","methodCall","arguments","apply","slice","asyncMethodCall","f","a","h","l","p","c","u","Promise","resolve","next","done","value","return","reject","key","length","enumerable","configurable","writable","defineProperty","path","require","Error","callback","scope","name","listener","getCallback","getScope","getEventName","toJSON","getEvent","newListener","on","split","Array","isArray","removeListener","console","log","off","once","emit","CustomEvent","detail","window","dispatchEvent","Event","EventEmitter","Listener","getElements","selector","from","document","querySelectorAll","getTargets","targets","Node","NodeList","HTMLCollection","computeValue","args","mapObject","obj","result","len","easings","ease","in","out","in-out","in-sine","out-sine","in-out-sine","in-quad","out-quad","in-out-quad","in-cubic","out-cubic","in-out-cubic","in-quart","out-quart","in-out-quart","in-quint","out-quint","in-out-quint","in-expo","out-expo","in-out-expo","in-circ","out-circ","in-out-circ","in-back","out-back","in-out-back","getEase","test","DefaultAnimationOptions","keyframes","loop","delay","speed","endDelay","easing","autoplay","duration","onfinish","fillMode","direction","Animate","options","animation","rest","assign","animationKeyframe","target","properties","mainElement","createElement","animationOptions","iterations","Infinity","fill","arrKeyframes","tempDuration","animate","animations","mainAnimation","opacity","setSpeed","play","pause","promise","newPromise","finish","cancelAnimationFrame","animationFrame","err","onFulfilled","onRejected","catch","finally","onFinally","requestAnimationFrame","getCurrentTime","events","emitter","getAnimation","element","playState","getDuration","currentTime","setCurrentTime","time","getProgress","setProgress","percent","getSpeed","playbackRate","reset","getPlayState","getOptions"],"mappings":"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"}