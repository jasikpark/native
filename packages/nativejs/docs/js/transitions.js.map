{"version":3,"sources":["../../ts/transitions.ts"],"names":[],"mappings":"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","file":"transitions.js","sourcesContent":["import { Transition, ITransitionData } from \"./api.js\";\r\n\r\n//== Transitions\r\nexport class Fade extends Transition {\r\n    protected name = \"default\";\r\n    protected duration = 500;\r\n\r\n    out({ from }: ITransitionData) {\r\n        let { duration } = this;\r\n        let fromWrapper = from.getWrapper();\r\n        window.scroll({\r\n            top: 0,\r\n            behavior: 'smooth'  // ðŸ‘ˆ \r\n        });\r\n        return new Promise(resolve => {\r\n            let animation = fromWrapper.animate([\r\n                { opacity: 1 },\r\n                { opacity: 0 },\r\n            ], {\r\n                duration,\r\n                easing: \"ease\"\r\n            });\r\n            animation.onfinish = () => {\r\n                fromWrapper.style.opacity = \"0\";\r\n                window.scrollTo(0, 0);\r\n                resolve();\r\n            };\r\n        });\r\n    }\r\n\r\n    in({ to }: ITransitionData) {\r\n        let { duration } = this;\r\n        let toWrapper = to.getWrapper();\r\n        return new Promise(resolve => {\r\n            let animation = toWrapper.animate([\r\n                { opacity: 0 },\r\n                { opacity: 1 },\r\n            ], {\r\n                duration,\r\n                easing: \"ease\"\r\n            });\r\n            animation.onfinish = () => {\r\n                toWrapper.style.opacity = \"1\";\r\n                resolve();\r\n            };\r\n        });\r\n    }\r\n}\r\n\r\nexport class Slide extends Transition {\r\n    protected name = \"slide\";\r\n    protected duration = 500;\r\n    protected direction: string = \"right\";\r\n\r\n    out({ from }: ITransitionData) {\r\n        let { duration } = this;\r\n        let fromWrapper = from.getWrapper();\r\n        window.scroll({\r\n            top: 0,\r\n            behavior: 'smooth'  // ðŸ‘ˆ \r\n        });\r\n        return new Promise(resolve => {\r\n            let animation = fromWrapper.animate([\r\n                { transform: \"translateX(0%)\", opacity: 1 },\r\n                { transform: `translateX(${this.direction === \"left\" ? \"-\" : \"\"}25%)`, opacity: 0 },\r\n            ], {\r\n                duration,\r\n                easing: \"cubic-bezier(0.64, 0, 0.78, 0)\" // ease-in-quint\r\n            });\r\n            animation.onfinish = () => {\r\n                fromWrapper.style.opacity = \"0\";\r\n                resolve();\r\n            };\r\n        });\r\n    }\r\n\r\n    in({ to }: ITransitionData) {\r\n        let toWrapper = to.getWrapper();\r\n        return new Promise(resolve => {\r\n            let animation = toWrapper.animate([\r\n                { transform: `translateX(${this.direction === \"left\" ? \"\" : \"-\"}25%)`, opacity: 0 },\r\n                { transform: \"translateX(0%)\", opacity: 1 },\r\n            ], {\r\n                duration: 750,\r\n                easing: \"cubic-bezier(0.22, 1, 0.36, 1)\" // ease-out-quint\r\n            });\r\n            animation.onfinish = () => {\r\n                toWrapper.style.opacity = \"1\";\r\n                resolve();\r\n            };\r\n        });\r\n    }\r\n}\r\n\r\nexport class SlideLeft extends Slide {\r\n    protected name = \"slide-left\";\r\n    protected duration = 500;\r\n    protected direction: string = \"left\";\r\n}\r\n\r\nexport class SlideRight extends Slide {\r\n    protected name = \"slide-right\";\r\n    protected duration = 500;\r\n    protected direction: string = \"right\";\r\n}\r\n\r\nexport class BigTransition extends Transition {\r\n    protected name = \"big\";\r\n    protected duration = 500;\r\n    protected mainElement: HTMLElement;\r\n    protected verticalElements: HTMLDivElement[];\r\n    protected horizontalElements: HTMLDivElement[];\r\n    protected maxLength: number;\r\n\r\n    public boot() {\r\n        this.mainElement = document.getElementById('big-transition');\r\n        this.verticalElements = [...document.getElementById('big-transition-vertical').querySelectorAll('div')];\r\n        this.horizontalElements = [...document.getElementById('big-transition-horizontal').querySelectorAll('div')];\r\n        this.maxLength = Math.max(this.verticalElements.length, this.horizontalElements.length);\r\n    }\r\n\r\n    out({ from }: ITransitionData) {\r\n        let { duration } = this;\r\n        let fromWrapper = from.getWrapper();\r\n        window.scroll({\r\n            top: 0,\r\n            behavior: 'smooth'  // ðŸ‘ˆ \r\n        });\r\n        return new Promise(resolve => {\r\n            let wrapperAnim = fromWrapper.animate([\r\n                { opacity: 1 },\r\n                { opacity: 0 },\r\n            ], {\r\n                duration,\r\n                easing: \"ease\"\r\n            });\r\n            wrapperAnim.onfinish = () => {\r\n                fromWrapper.style.opacity = \"0\";\r\n            };\r\n\r\n            this.mainElement.style.opacity = \"1\";\r\n            this.mainElement.style.visibility = \"visible\";\r\n\r\n            let count = 1;\r\n            for (let el of this.horizontalElements) {\r\n                let animation = el.animate([\r\n                    { transform: \"scaleX(0)\" },\r\n                    { transform: \"scaleX(1)\" },\r\n                ], {\r\n                    duration,\r\n                    delay: 100 * count,\r\n                    easing: \"linear\"\r\n                });\r\n                animation.onfinish = () => {\r\n                    el.style.transform = \"scaleX(1)\";\r\n                };\r\n                count++;\r\n            }\r\n\r\n            count = 1;\r\n            for (let el of this.verticalElements.reverse()) {\r\n                let animation = el.animate([\r\n                    { transform: \"scaleY(0)\" },\r\n                    { transform: \"scaleY(1)\" },\r\n                ], {\r\n                    duration,\r\n                    delay: 100 * count,\r\n                    easing: \"linear\"\r\n                });\r\n                animation.onfinish = () => {\r\n                    el.style.transform = \"scaleY(1)\";\r\n                };\r\n                count++;\r\n            }\r\n\r\n            window.setTimeout(resolve, this.maxLength * 100 + duration);\r\n        });\r\n    }\r\n\r\n    in({ to }: ITransitionData) {\r\n        let { duration } = this;\r\n        let toWrapper = to.getWrapper();\r\n        return new Promise(resolve => {\r\n            let wrapperAnim = toWrapper.animate([\r\n                { opacity: 0 },\r\n                { opacity: 1 },\r\n            ], {\r\n                duration,\r\n                easing: \"ease\"\r\n            });\r\n            wrapperAnim.onfinish = () => {\r\n                toWrapper.style.opacity = \"1\";\r\n            };\r\n\r\n            let count = 0;\r\n            for (let el of this.horizontalElements) {\r\n                let animation = el.animate([\r\n                    { transform: \"scaleX(1)\" },\r\n                    { transform: \"scaleX(0)\" },\r\n                ], {\r\n                    duration,\r\n                    delay: 100 * count\r\n                });\r\n                animation.onfinish = () => {\r\n                    el.style.transform = \"scaleX(0)\";\r\n                };\r\n                count++;\r\n            }\r\n\r\n            count = 0;\r\n            for (let el of this.verticalElements) {\r\n                let animation = el.animate([\r\n                    { transform: \"scaleY(1)\" },\r\n                    { transform: \"scaleY(0)\" },\r\n                ], {\r\n                    duration,\r\n                    delay: 100 * count\r\n                });\r\n                animation.onfinish = () => {\r\n                    el.style.transform = \"scaleY(0)\";\r\n                };\r\n                count++;\r\n            }\r\n\r\n            window.setTimeout(() => {\r\n                this.mainElement.style.opacity = \"0\";\r\n                this.mainElement.style.visibility = \"hidden\";\r\n                resolve();\r\n            }, this.maxLength * 100 + duration);\r\n        });\r\n    }\r\n}\r\n\r\n"]}