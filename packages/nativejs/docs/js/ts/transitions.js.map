{"version":3,"sources":["transitions.ts"],"names":[],"mappings":"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","file":"../transitions.js","sourcesContent":["import { Transition, ITransitionData } from \"../../lib/core.js\";\r\nimport { animate } from \"walijs\";\r\n\r\n//== Transitions\r\nexport class Fade extends Transition {\r\n    protected name = \"default\";\r\n    protected duration = 500;\r\n\r\n    out({ from }: ITransitionData) {\r\n        let { duration } = this;\r\n        let fromWrapper = from.getWrapper();\r\n        window.scroll({\r\n            top: 0,\r\n            behavior: 'smooth'  // ðŸ‘ˆ \r\n        });\r\n\r\n        return new Promise(async resolve => {\r\n            await animate({\r\n                target: fromWrapper,\r\n                opacity: [1, 0],\r\n                duration,\r\n                onfinish(el: { style: { opacity: string; }; }) {\r\n                    el.style.opacity = '0';\r\n                }\r\n            });\r\n\r\n            window.scrollTo(0, 0);\r\n            resolve();\r\n        });\r\n    }\r\n\r\n    in({ to }: ITransitionData) {\r\n        let { duration } = this;\r\n        let toWrapper = to.getWrapper();\r\n        toWrapper.style.transform = \"translateX(0%)\";\r\n        return animate({\r\n            target: toWrapper,\r\n            opacity: [0, 1],\r\n            duration,\r\n            onfinish(el: { style: { opacity: string; }; }) {\r\n                el.style.opacity = '1';\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport class Slide extends Transition {\r\n    protected name = \"slide\";\r\n    protected duration = 500;\r\n    protected direction: string = \"right\";\r\n\r\n    out({ from }: ITransitionData) {\r\n        let { duration, direction } = this;\r\n        let fromWrapper = from.getWrapper();\r\n        window.scroll({\r\n            top: 0,\r\n            behavior: 'smooth'  // ðŸ‘ˆ \r\n        });\r\n        return animate({\r\n            target: fromWrapper,\r\n            keyframes: [\r\n                { transform: \"translateX(0%)\", opacity: 1 },\r\n                { transform: `translateX(${direction === \"left\" ? \"-\" : \"\"}25%)`, opacity: 0 },\r\n            ],\r\n            duration,\r\n            easing: \"in-quint\",\r\n            onfinish: (el: { style: { opacity: string; transform: string; }; }) => {\r\n                el.style.opacity = '0';\r\n                el.style.transform = `translateX(${direction === \"left\" ? \"-\" : \"\"}25%)`;\r\n            }\r\n        });\r\n    }\r\n\r\n    in({ to }: ITransitionData) {\r\n        let { duration } = this;\r\n        let toWrapper = to.getWrapper();\r\n        return animate({\r\n            target: toWrapper,\r\n            keyframes: [\r\n                { transform: `translateX(${this.direction === \"right\" ? \"-\" : \"\"}25%)`, opacity: 0 },\r\n                { transform: \"translateX(0%)\", opacity: 1 },\r\n            ],\r\n            duration,\r\n            easing: \"out-quint\",\r\n            onfinish(el: { style: { opacity: string; transform: string; }; }) {\r\n                el.style.opacity = '1';\r\n                el.style.transform = `translateX(0%)`;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport class SlideLeft extends Slide {\r\n    protected name = \"slide-left\";\r\n    protected duration = 500;\r\n    protected direction: string = \"left\";\r\n}\r\n\r\nexport class SlideRight extends Slide {\r\n    protected name = \"slide-right\";\r\n    protected duration = 500;\r\n    protected direction: string = \"right\";\r\n}\r\n\r\nexport class BigTransition extends Transition {\r\n    protected name = \"big\";\r\n    protected delay = 200;\r\n    protected durationPerAnimation = 700;\r\n    protected mainElement: HTMLElement;\r\n    protected verticalElements: HTMLDivElement[];\r\n    protected horizontalElements: HTMLDivElement[];\r\n    protected maxLength: number;\r\n    protected spinnerElement: HTMLElement;\r\n\r\n    public boot() {\r\n        this.mainElement = document.getElementById('big-transition');\r\n        this.spinnerElement = this.mainElement.querySelector('.spinner');\r\n        this.horizontalElements = [...this.mainElement.querySelector('#big-transition-horizontal').querySelectorAll('div')];\r\n        this.maxLength = this.horizontalElements.length;\r\n    }\r\n\r\n    out({ from }: ITransitionData) {\r\n        let { durationPerAnimation: duration, delay } = this;\r\n        let fromWrapper = from.getWrapper();\r\n        window.scroll({\r\n            top: 0,\r\n            behavior: 'smooth'  // ðŸ‘ˆ \r\n        });\r\n\r\n        return new Promise(async resolve => {\r\n            animate({\r\n                target: fromWrapper,\r\n                opacity: [1, 0],\r\n                duration,\r\n                onfinish(el: { style: { opacity: string; }; }) {\r\n                    el.style.opacity = '0';\r\n                }\r\n            });\r\n\r\n            this.mainElement.style.opacity = \"1\";\r\n            this.mainElement.style.visibility = \"visible\";\r\n\r\n            await animate({\r\n                target: this.horizontalElements,\r\n                keyframes: [\r\n                    { transform: \"scaleX(0)\" },\r\n                    { transform: \"scaleX(1)\" },\r\n                ],\r\n                // @ts-ignore\r\n                delay(i: number) {\r\n                    return delay * (i + 1);\r\n                },\r\n                onfinish(el: { style: { transform: string; }; }) {\r\n                    el.style.transform = `scaleX(1)`;\r\n                },\r\n                easing: \"out-cubic\",\r\n                duration: 500\r\n            });\r\n\r\n            let loaderDuration = 500;\r\n            this.spinnerElement.style.visibility = \"visible\";\r\n\r\n            let options = await animate({\r\n                target: this.spinnerElement,\r\n                opacity: [0, 1],\r\n                duration: loaderDuration,\r\n                onfinish(el: { style: { opacity: string; }; }) {\r\n                    el.style.opacity = `1`;\r\n                },\r\n            });\r\n\r\n            await animate({\r\n                options,\r\n                opacity: [1, 0],\r\n                onfinish(el: { style: { opacity: string; }; }) {\r\n                    el.style.opacity = `0`;\r\n                },\r\n                delay: 1500\r\n            });\r\n\r\n            this.spinnerElement.style.visibility = \"hidden\";\r\n            resolve();\r\n        });\r\n    }\r\n\r\n    in({ to }: ITransitionData) {\r\n        let { durationPerAnimation: duration, delay } = this;\r\n        let toWrapper = to.getWrapper();\r\n        toWrapper.style.transform = \"translateX(0%)\";\r\n        return new Promise(async resolve => {\r\n            animate({\r\n                target: toWrapper,\r\n                opacity: [0, 1],\r\n                onfinish(el: { style: { opacity: string; }; }) {\r\n                    el.style.opacity = `1`;\r\n                },\r\n                duration\r\n            });\r\n\r\n            await animate({\r\n                target: this.horizontalElements,\r\n                keyframes: [\r\n                    { transform: \"scaleX(1)\" },\r\n                    { transform: \"scaleX(0)\" },\r\n                ],\r\n                // @ts-ignore\r\n                delay(i: number) {\r\n                    return delay * (i + 1);\r\n                },\r\n                onfinish(el: { style: { transform: string; }; }) {\r\n                    el.style.transform = `scaleX(0)`;\r\n                },\r\n                easing: \"out-cubic\",\r\n                duration: 500\r\n            });\r\n\r\n            this.mainElement.style.opacity = \"0\";\r\n            this.mainElement.style.visibility = \"hidden\";\r\n            resolve();\r\n        });\r\n    }\r\n}\r\n\r\n"]}