/*!
 * @okikio/event-emitter v1.0.5
 * (c) 2020 Okiki Ojo
 * Released under the MIT license
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self)["@okikio/event-emitter"]={})}(this,(function(e){"use strict";
/*!
     * managerjs v1.0.5
     * (c) 2020 Okiki Ojo
     * Released under the MIT license
     */class t extends Map{constructor(...e){super(...e)}keys(){return Array.from(super.keys.call(this))}values(){return Array.from(this.values())}last(e=1){let t=this.keys()[this.size-e];return this.get(t)}prev(){return this.last(2)}add(e){return this.set(this.size,e),this}methodCall(e,...t){return this.forEach(s=>{s[e](...t)}),this}async asyncMethodCall(e,...t){for await(let[,s]of this)await s[e](...t);return this}}class s{constructor({callback:e=(()=>{}),scope:t=null,name:s="event"}){this.listener={callback:e,scope:t,name:s}}getCallback(){return this.listener.callback}getScope(){return this.listener.scope}getEventName(){return this.listener.name}toJSON(){return this.listener}}class r extends t{constructor(e="event"){super(),this.name=e}}class i extends t{constructor(){super()}getEvent(e){let t=this.get(e);return t instanceof r?t:(this.set(e,new r(e)),this.get(e))}newListener(e,t,r){let i=this.getEvent(e);return i.add(new s({name:e,callback:t,scope:r})),i}on(e,t,s){if(void 0===e)return this;let r,i,n;return"string"==typeof e&&(e=e.split(/\s/g)),Object.keys(e).forEach(o=>{"object"!=typeof e||Array.isArray(e)?(r=e[o],i=t,n=s):(r=o,i=e[o],n=t),this.newListener(r,i,n)},this),this}removeListener(e,t,r){let i=this.getEvent(e);if(t){let n,o=0,l=i.size,a=new s({name:e,callback:t,scope:r});for(;o<l&&(n=i.get(o),console.log(n),n.getCallback()!==a.getCallback()||n.getScope()!==a.getScope());o++);i.delete(o)}return i}off(e,t,s){if(void 0===e)return this;let r,i,n;return"string"==typeof e&&(e=e.split(/\s/g)),Object.keys(e).forEach(o=>{"object"!=typeof e||Array.isArray(e)?(r=e[o],i=t,n=s):(r=o,i=e[o],n=t),i?this.removeListener(r,i,n):this.delete(r)},this),this}once(e,t,s){if(void 0===e)return this;"string"==typeof e&&(e=e.split(/\s/g));let r=(...i)=>{this.off(e,r,s),t.apply(s,i)};return this.on(e,r,s),this}emit(e,...t){return void 0===e||("string"==typeof e&&(e=e.split(/\s/g)),e.forEach(e=>{let s=this.getEvent(e);const r=new CustomEvent(e,{detail:t});window.dispatchEvent(r),s.forEach(e=>{let{callback:s,scope:r}=e.toJSON();s.apply(r,t)})},this)),this}}e.Event=r,e.EventEmitter=i,e.Listener=s,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}));
