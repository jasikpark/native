/*!
 * @okikio/event-emitter v1.0.4
 * (c) 2020 Okiki Ojo
 * Released under the MIT license
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self)["@okikio/event-emitter"]={})}(this,(function(e){"use strict";
/*!
     * managerjs v1.0.8
     * (c) 2020 Okiki Ojo
     * Released under the MIT license
     */class t{constructor(e){this.map=new Map(e)}getMap(){return this.map}get(e){return this.map.get(e)}keys(){return[...this.map.keys()]}values(){return[...this.map.values()]}set(e,t){return this.map.set(e,t),this}add(e){return this.map.set(this.size,e),this}get size(){return this.map.size}last(e=1){let t=this.keys()[this.size-e];return this.get(t)}prev(){return this.last(2)}delete(e){return this.map.delete(e),this}clear(){return this.map.clear(),this}has(e){return this.map.has(e)}entries(){return this.map.entries()}forEach(e=((...e)=>{}),t){return this.map.forEach(e,t),this}[Symbol.iterator](){return this.entries()}methodCall(e,...t){return this.forEach(s=>{s[e](...t)}),this}async asyncMethodCall(e,...t){for await(let[,s]of this.map)await s[e](...t);return this}}class s{constructor({callback:e=(()=>{}),scope:t=null,name:s="event"}){this.listener={callback:e,scope:t,name:s}}getCallback(){return this.listener.callback}getScope(){return this.listener.scope}getEventName(){return this.listener.name}toJSON(){return this.listener}}class r extends t{constructor(e="event"){super(),this.name=e}}e.Event=r,e.EventEmitter=class extends t{constructor(){super()}getEvent(e){let t=this.get(e);return t instanceof r?t:(this.set(e,new r(e)),this.get(e))}newListener(e,t,r){let i=this.getEvent(e);return i.add(new s({name:e,callback:t,scope:r})),i}on(e,t,s){if(void 0===e)return this;let r,i,n;return"string"==typeof e&&(e=e.split(/\s/g)),Object.keys(e).forEach(a=>{"object"!=typeof e||Array.isArray(e)?(r=e[a],i=t,n=s):(r=a,i=e[a],n=t),this.newListener(r,i,n)},this),this}removeListener(e,t,r){let i=this.getEvent(e);if(t){let n,a=0,o=i.size,h=new s({name:e,callback:t,scope:r});for(;a<o&&(n=i.get(a),console.log(n),n.getCallback()!==h.getCallback()||n.getScope()!==h.getScope());a++);i.delete(a)}return i}off(e,t,s){if(void 0===e)return this;let r,i,n;return"string"==typeof e&&(e=e.split(/\s/g)),Object.keys(e).forEach(a=>{"object"!=typeof e||Array.isArray(e)?(r=e[a],i=t,n=s):(r=a,i=e[a],n=t),i?this.removeListener(r,i,n):this.delete(r)},this),this}once(e,t,s){if(void 0===e)return this;"string"==typeof e&&(e=e.split(/\s/g));let r=(...i)=>{this.off(e,r,s),t.apply(s,i)};return this.on(e,r,s),this}emit(e,...t){return void 0===e||("string"==typeof e&&(e=e.split(/\s/g)),e.forEach(e=>{let s=this.getEvent(e);const r=new CustomEvent(e,{detail:t});window.dispatchEvent(r),s.forEach(e=>{let{callback:s,scope:r}=e.toJSON();s.apply(r,t)})},this)),this}},e.Listener=s,Object.defineProperty(e,"__esModule",{value:!0})}));
