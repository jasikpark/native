import t from"managerjs";function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var n=function(){function t(t){var e=t.callback,n=t.scope,r=t.name;this.listener={callback:void 0===e?function(){}:e,scope:void 0===n?null:n,name:void 0===r?"event":r}}var e=t.prototype;return e.getCallback=function(){return this.listener.callback},e.getScope=function(){return this.listener.scope},e.getEventName=function(){return this.listener.name},e.toJSON=function(){return this.listener},t}(),r=function(t){function n(e){var n;return void 0===e&&(e="event"),(n=t.call(this)||this).name=e,n}return e(n,t),n}(t),i=function(t){function i(){return t.call(this)||this}e(i,t);var o=i.prototype;return o.getEvent=function(t){var e=this.get(t);return e instanceof r?e:(this.set(t,new r(t)),this.get(t))},o.newListener=function(t,e,r){var i=this.getEvent(t);return i.add(new n({name:t,callback:e,scope:r})),i},o.on=function(t,e,n){var r,i,o,c=this;return void 0===t||("string"==typeof t&&(t=t.split(/\s/g)),Object.keys(t).forEach(function(s){"object"!=typeof t||Array.isArray(t)?(r=t[s],i=e,o=n):(r=s,i=t[s],o=e),c.newListener(r,i,o)},this)),this},o.removeListener=function(t,e,r){var i=this.getEvent(t);if(e){for(var o,c=0,s=i.size,a=new n({name:t,callback:e,scope:r});c<s&&(o=i.get(c),console.log(o),o.getCallback()!==a.getCallback()||o.getScope()!==a.getScope());c++);i.delete(c)}return i},o.off=function(t,e,n){var r,i,o,c=this;return void 0===t||("string"==typeof t&&(t=t.split(/\s/g)),Object.keys(t).forEach(function(s){"object"!=typeof t||Array.isArray(t)?(r=t[s],i=e,o=n):(r=s,i=t[s],o=e),i?c.removeListener(r,i,o):c.delete(r)},this)),this},o.once=function(t,e,n){var r=this;return void 0===t||("string"==typeof t&&(t=t.split(/\s/g)),this.on(t,function i(){r.off(t,i,n),e.apply(n,[].slice.call(arguments))},n)),this},o.emit=function(t){var e=this,n=[].slice.call(arguments,1);return void 0===t||("string"==typeof t&&(t=t.split(/\s/g)),t.forEach(function(t){var r=e.getEvent(t),i=new CustomEvent(t,{detail:n});window.dispatchEvent(i),r.forEach(function(t){var e=t.toJSON();e.callback.apply(e.scope,n)})},this)),this},i}(t);export{r as Event,i as EventEmitter,n as Listener};
//# sourceMappingURL=api.mjs.map
