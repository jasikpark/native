!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n=n||self).managerjs={})}(this,function(n){function t(n){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=n[Symbol.asyncIterator]))return t.call(n);if(Symbol.iterator&&null!=(t=n[Symbol.iterator]))return t.call(n)}throw new TypeError("Object is not async iterable")}function e(n,t,i){if(!n.s){if(i instanceof r){if(!i.s)return void(i.o=e.bind(null,n,t));1&t&&(t=i.s),i=i.v}if(i&&i.then)return void i.then(e.bind(null,n,t),e.bind(null,n,2));n.s=t,n.v=i;var o=n.o;o&&o(n)}}var r=function(){function n(){}return n.prototype.then=function(t,r){var i=new n,o=this.s;if(o){var u=1&o?t:r;if(u){try{e(i,1,u(this.v))}catch(n){e(i,2,n)}return i}return this}return this.o=function(n){try{var o=n.v;1&n.s?e(i,1,t?t(o):o):r?e(i,1,r(o)):e(i,2,o)}catch(n){e(i,2,n)}},i},n}();function i(n){return n instanceof r&&1&n.s}function o(n,t,o){for(var u;;){var f=n();if(i(f)&&(f=f.v),!f)return c;if(f.then){u=0;break}var c=o();if(c&&c.then){if(!i(c)){u=1;break}c=c.s}if(t){var a=t();if(a&&a.then&&!i(a)){u=2;break}}}var h=new r,s=e.bind(null,h,2);return(0===u?f.then(v):1===u?c.then(l):a.then(d)).then(void 0,s),h;function l(r){c=r;do{if(t&&(a=t())&&a.then&&!i(a))return void a.then(d).then(void 0,s);if(!(f=n())||i(f)&&!f.v)return void e(h,1,c);if(f.then)return void f.then(v).then(void 0,s);i(c=o())&&(c=c.v)}while(!c||!c.then);c.then(l).then(void 0,s)}function v(n){n?(c=o())&&c.then?c.then(l).then(void 0,s):l(c):e(h,1,c)}function d(){(f=n())?f.then?f.then(v).then(void 0,s):v(f):e(h,1,c)}}function u(n,t){try{var e=n()}catch(n){return t(n)}return e&&e.then?e.then(void 0,t):e}function f(n,t){try{var e=n()}catch(n){return t(!0,n)}return e&&e.then?e.then(t.bind(null,!1),t.bind(null,!0)):t(!1,e)}n.Manager=function(){function n(n){this.map=new Map(n)}var e,r=n.prototype;return r.getMap=function(){return this.map},r.get=function(n){return this.map.get(n)},r.keys=function(){return[].concat(this.map.keys())},r.values=function(){return[].concat(this.map.values())},r.set=function(n,t){return this.map.set(n,t),this},r.add=function(n){return this.set(this.size,n),this},r.last=function(n){void 0===n&&(n=1);var t=this.keys()[this.size-n];return this.get(t)},r.prev=function(){return this.last(2)},r.delete=function(n){return this.map.delete(n),this},r.clear=function(){return this.map.clear(),this},r.has=function(n){return this.map.has(n)},r.entries=function(){return this.map.entries()},r.forEach=function(n,t){return void 0===n&&(n=function(){}),this.map.forEach(n,t),this},r[Symbol.iterator]=function(){return this.entries()},r.methodCall=function(n){var t=arguments;return this.forEach(function(e){e[n].apply(e,[].slice.call(t,1))}),this},r.asyncMethodCall=function(n){try{var e,r,i,c,a,h=this,s=arguments,l=!0,v=!1,d=f(function(){return u(function(){r=t(h.map);var e=o(function(){return!!Promise.resolve(r.next()).then(function(n){return l=i.done,i=n,Promise.resolve(i.value).then(function(n){return c=n,!l})})},function(){return!!(l=!0)},function(){var t=c[1];return Promise.resolve(t[n].apply(t,[].slice.call(s,1))).then(function(){})});if(e&&e.then)return e.then(function(){})},function(n){v=!0,a=n})},function(n,t){function i(r){if(e)return r;if(n)throw t;return t}var o=f(function(){var n=function(){if(!l&&null!=r.return)return Promise.resolve(r.return()).then(function(){})}();if(n&&n.then)return n.then(function(){})},function(n,t){if(v)throw a;if(n)throw t;return t});return o&&o.then?o.then(i):i(o)});return Promise.resolve(d&&d.then?d.then(function(n){return e?n:h}):e?d:h)}catch(n){return Promise.reject(n)}},(e=[{key:"size",get:function(){return this.map.size}}])&&function(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}(n.prototype,e),n}()});
//# sourceMappingURL=api.umd.js.map
